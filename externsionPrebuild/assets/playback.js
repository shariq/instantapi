(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(typeof self !== 'undefined' ? self : this, function() {
return webpackJsonp([1],{

/***/ 157:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__closure_polyfill__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__targetSelector__ = __webpack_require__(410);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__selenium_api__ = __webpack_require__(250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__selenium_browserbot__ = __webpack_require__(251);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__locatorBuilders__ = __webpack_require__(253);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__region__ = __webpack_require__(413);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__prompt_injector__ = __webpack_require__(414);\n/*\r\n * Copyright 2017 SideeX committers\r\n *\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *  you may not use this file except in compliance with the License.\r\n *  You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  Unless required by applicable law or agreed to in writing, software\r\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *  See the License for the specific language governing permissions and\r\n *  limitations under the License.\r\n *\r\n */const selenium=new __WEBPACK_IMPORTED_MODULE_3__selenium_api__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_4__selenium_browserbot__[\"b\" /* default */].createForWindow(window,true));\n/* harmony export (immutable) */ __webpack_exports__[\"selenium\"] = selenium;\nconst locatorBuilders=new __WEBPACK_IMPORTED_MODULE_5__locatorBuilders__[\"a\" /* default */](window);let contentSideexTabId=window.contentSideexTabId;let targetSelector;Object(__WEBPACK_IMPORTED_MODULE_7__prompt_injector__[\"a\" /* attach */])(selenium);function doCommands(request,_sender,sendResponse){if(request.commands){if(request.commands=='waitPreparation'){selenium['doWaitPreparation']('',selenium.preprocessParameter(''));sendResponse({});}else if(request.commands=='prePageWait'){selenium['doPrePageWait']('',selenium.preprocessParameter(''));sendResponse({new_page:window.sideex_new_page});}else if(request.commands=='pageWait'){selenium['doPageWait']('',selenium.preprocessParameter(''));sendResponse({page_done:window.sideex_page_done});}else if(request.commands=='ajaxWait'){selenium['doAjaxWait']('',selenium.preprocessParameter(''));sendResponse({ajax_done:window.sideex_ajax_done});}else if(request.commands=='domWait'){selenium['doDomWait']('',selenium.preprocessParameter(''));sendResponse({dom_time:window.sideex_new_page});}else if(request.commands==='evaluateConditional'){try{let value=selenium['doEvaluateConditional'](request.target);sendResponse({result:'success',value:value});}catch(e){sendResponse({result:e.message});}}else{const upperCase=request.commands.charAt(0).toUpperCase()+request.commands.slice(1);if(selenium['do'+upperCase]!=null){try{document.body.setAttribute('SideeXPlayingFlag',true);let returnValue=selenium['do'+upperCase](selenium.preprocessParameter(request.target),selenium.preprocessParameter(request.value));if(returnValue instanceof Promise){// The command is a asynchronous function\nreturnValue.then(function(){// Asynchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}).catch(function(reason){// Asynchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:reason});});}else{// Synchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}}catch(e){// Synchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:e.message});}}else{sendResponse({result:'Unknown command: '+request.commands});}}//do every command need giving sideex id\nif(contentSideexTabId===-1){contentSideexTabId=request.mySideexTabId;}return true;}if(request.prepareToInteract){sendResponse({result:'success',rect:selenium.prepareToInteract_(request.locator)});}if(request.buildLocators){try{const element=selenium.browserbot.findElement(request.locator);const locators=locatorBuilders.buildAll(element);sendResponse({result:'success',locators});}catch(e){sendResponse({result:e.message});}}if(request.resolveLocator){try{const element=selenium.browserbot.findElement(request.locator);const locator=locatorBuilders.buildAll(element).find(([loc,strat])=>/^xpath/.test(strat))[0];//eslint-disable-line no-unused-vars\nsendResponse({result:'success',locator});}catch(e){sendResponse({result:e.message});}}if(request.selectMode){sendResponse(true);if(request.selecting&&request.element){targetSelector=new __WEBPACK_IMPORTED_MODULE_2__targetSelector__[\"a\" /* default */](function(element,win){if(element&&win){const target=locatorBuilders.buildAll(element);locatorBuilders.detach();if(target!=null&&target instanceof Array){if(target){//self.editor.treeView.updateCurrentCommand('targetCandidates', target);\n__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({selectTarget:true,target:target,selectNext:request.selectNext});}}}targetSelector=null;},function(){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({cancelSelectTarget:true});});}else if(request.selecting&&request.region){Object(__WEBPACK_IMPORTED_MODULE_6__region__[\"a\" /* editRegion */])(request.rect,target=>{if(target){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({selectTarget:true,target:[[target]],selectNext:request.selectNext});}else{__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({cancelSelectTarget:true,selectNext:request.selectNext});}});}else{if(targetSelector){targetSelector.cleanup();targetSelector=null;return;}else{Object(__WEBPACK_IMPORTED_MODULE_6__region__[\"b\" /* removeRegion */])();return;}}}}// show element\nfunction startShowElement(message){if(message.showElement){try{const result=selenium['doShowElement'](message.targetValue);return Promise.resolve({result:result});}catch(e){// If we didn't find the element, it means that another frame might have found it,\n// so we don't resolve the promise. If no frame finds it, then the promise will\n// get rejected.\n}}}if(!window._listener){window._listener=doCommands;__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.onMessage.addListener(startShowElement);__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.onMessage.addListener(doCommands);}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9jb21tYW5kcy1hcGkuanM/ZWI5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBTaWRlZVggY29tbWl0dGVyc1xyXG4gKlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICovaW1wb3J0IGJyb3dzZXIgZnJvbSd3ZWJleHRlbnNpb24tcG9seWZpbGwnO2ltcG9ydCcuL2Nsb3N1cmUtcG9seWZpbGwnO2ltcG9ydCBUYXJnZXRTZWxlY3RvciBmcm9tJy4vdGFyZ2V0U2VsZWN0b3InO2ltcG9ydCBTZWxlbml1bSBmcm9tJy4vc2VsZW5pdW0tYXBpJztpbXBvcnQgQnJvd3NlckJvdCBmcm9tJy4vc2VsZW5pdW0tYnJvd3NlcmJvdCc7aW1wb3J0IExvY2F0b3JCdWlsZGVycyBmcm9tJy4vbG9jYXRvckJ1aWxkZXJzJztpbXBvcnR7ZWRpdFJlZ2lvbixyZW1vdmVSZWdpb259ZnJvbScuL3JlZ2lvbic7aW1wb3J0e2F0dGFjaH1mcm9tJy4vcHJvbXB0LWluamVjdG9yJztleHBvcnQgY29uc3Qgc2VsZW5pdW09bmV3IFNlbGVuaXVtKEJyb3dzZXJCb3QuY3JlYXRlRm9yV2luZG93KHdpbmRvdyx0cnVlKSk7Y29uc3QgbG9jYXRvckJ1aWxkZXJzPW5ldyBMb2NhdG9yQnVpbGRlcnMod2luZG93KTtsZXQgY29udGVudFNpZGVleFRhYklkPXdpbmRvdy5jb250ZW50U2lkZWV4VGFiSWQ7bGV0IHRhcmdldFNlbGVjdG9yO2F0dGFjaChzZWxlbml1bSk7ZnVuY3Rpb24gZG9Db21tYW5kcyhyZXF1ZXN0LF9zZW5kZXIsc2VuZFJlc3BvbnNlKXtpZihyZXF1ZXN0LmNvbW1hbmRzKXtpZihyZXF1ZXN0LmNvbW1hbmRzPT0nd2FpdFByZXBhcmF0aW9uJyl7c2VsZW5pdW1bJ2RvV2FpdFByZXBhcmF0aW9uJ10oJycsc2VsZW5pdW0ucHJlcHJvY2Vzc1BhcmFtZXRlcignJykpO3NlbmRSZXNwb25zZSh7fSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3ByZVBhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUHJlUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtuZXdfcGFnZTp3aW5kb3cuc2lkZWV4X25ld19wYWdlfSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3BhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtwYWdlX2RvbmU6d2luZG93LnNpZGVleF9wYWdlX2RvbmV9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT0nYWpheFdhaXQnKXtzZWxlbml1bVsnZG9BamF4V2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2FqYXhfZG9uZTp3aW5kb3cuc2lkZWV4X2FqYXhfZG9uZX0pO31lbHNlIGlmKHJlcXVlc3QuY29tbWFuZHM9PSdkb21XYWl0Jyl7c2VsZW5pdW1bJ2RvRG9tV2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2RvbV90aW1lOndpbmRvdy5zaWRlZXhfbmV3X3BhZ2V9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT09J2V2YWx1YXRlQ29uZGl0aW9uYWwnKXt0cnl7bGV0IHZhbHVlPXNlbGVuaXVtWydkb0V2YWx1YXRlQ29uZGl0aW9uYWwnXShyZXF1ZXN0LnRhcmdldCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLHZhbHVlOnZhbHVlfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319ZWxzZXtjb25zdCB1cHBlckNhc2U9cmVxdWVzdC5jb21tYW5kcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStyZXF1ZXN0LmNvbW1hbmRzLnNsaWNlKDEpO2lmKHNlbGVuaXVtWydkbycrdXBwZXJDYXNlXSE9bnVsbCl7dHJ5e2RvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycsdHJ1ZSk7bGV0IHJldHVyblZhbHVlPXNlbGVuaXVtWydkbycrdXBwZXJDYXNlXShzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKHJlcXVlc3QudGFyZ2V0KSxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKHJlcXVlc3QudmFsdWUpKTtpZihyZXR1cm5WYWx1ZSBpbnN0YW5jZW9mIFByb21pc2Upey8vIFRoZSBjb21tYW5kIGlzIGEgYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG5yZXR1cm5WYWx1ZS50aGVuKGZ1bmN0aW9uKCl7Ly8gQXN5bmNocm9ub3VzIGNvbW1hbmQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnfSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXsvLyBBc3luY2hyb25vdXMgY29tbWFuZCBmYWlsZWRcbmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycpO3NlbmRSZXNwb25zZSh7cmVzdWx0OnJlYXNvbn0pO30pO31lbHNley8vIFN5bmNocm9ub3VzIGNvbW1hbmQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnfSk7fX1jYXRjaChlKXsvLyBTeW5jaHJvbm91cyBjb21tYW5kIGZhaWxlZFxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6ZS5tZXNzYWdlfSk7fX1lbHNle3NlbmRSZXNwb25zZSh7cmVzdWx0OidVbmtub3duIGNvbW1hbmQ6ICcrcmVxdWVzdC5jb21tYW5kc30pO319Ly9kbyBldmVyeSBjb21tYW5kIG5lZWQgZ2l2aW5nIHNpZGVleCBpZFxuaWYoY29udGVudFNpZGVleFRhYklkPT09LTEpe2NvbnRlbnRTaWRlZXhUYWJJZD1yZXF1ZXN0Lm15U2lkZWV4VGFiSWQ7fXJldHVybiB0cnVlO31pZihyZXF1ZXN0LnByZXBhcmVUb0ludGVyYWN0KXtzZW5kUmVzcG9uc2Uoe3Jlc3VsdDonc3VjY2VzcycscmVjdDpzZWxlbml1bS5wcmVwYXJlVG9JbnRlcmFjdF8ocmVxdWVzdC5sb2NhdG9yKX0pO31pZihyZXF1ZXN0LmJ1aWxkTG9jYXRvcnMpe3RyeXtjb25zdCBlbGVtZW50PXNlbGVuaXVtLmJyb3dzZXJib3QuZmluZEVsZW1lbnQocmVxdWVzdC5sb2NhdG9yKTtjb25zdCBsb2NhdG9ycz1sb2NhdG9yQnVpbGRlcnMuYnVpbGRBbGwoZWxlbWVudCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLGxvY2F0b3JzfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319aWYocmVxdWVzdC5yZXNvbHZlTG9jYXRvcil7dHJ5e2NvbnN0IGVsZW1lbnQ9c2VsZW5pdW0uYnJvd3NlcmJvdC5maW5kRWxlbWVudChyZXF1ZXN0LmxvY2F0b3IpO2NvbnN0IGxvY2F0b3I9bG9jYXRvckJ1aWxkZXJzLmJ1aWxkQWxsKGVsZW1lbnQpLmZpbmQoKFtsb2Msc3RyYXRdKT0+L154cGF0aC8udGVzdChzdHJhdCkpWzBdOy8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuc2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLGxvY2F0b3J9KTt9Y2F0Y2goZSl7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6ZS5tZXNzYWdlfSk7fX1pZihyZXF1ZXN0LnNlbGVjdE1vZGUpe3NlbmRSZXNwb25zZSh0cnVlKTtpZihyZXF1ZXN0LnNlbGVjdGluZyYmcmVxdWVzdC5lbGVtZW50KXt0YXJnZXRTZWxlY3Rvcj1uZXcgVGFyZ2V0U2VsZWN0b3IoZnVuY3Rpb24oZWxlbWVudCx3aW4pe2lmKGVsZW1lbnQmJndpbil7Y29uc3QgdGFyZ2V0PWxvY2F0b3JCdWlsZGVycy5idWlsZEFsbChlbGVtZW50KTtsb2NhdG9yQnVpbGRlcnMuZGV0YWNoKCk7aWYodGFyZ2V0IT1udWxsJiZ0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSl7aWYodGFyZ2V0KXsvL3NlbGYuZWRpdG9yLnRyZWVWaWV3LnVwZGF0ZUN1cnJlbnRDb21tYW5kKCd0YXJnZXRDYW5kaWRhdGVzJywgdGFyZ2V0KTtcbmJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c2VsZWN0VGFyZ2V0OnRydWUsdGFyZ2V0OnRhcmdldCxzZWxlY3ROZXh0OnJlcXVlc3Quc2VsZWN0TmV4dH0pO319fXRhcmdldFNlbGVjdG9yPW51bGw7fSxmdW5jdGlvbigpe2Jyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7Y2FuY2VsU2VsZWN0VGFyZ2V0OnRydWV9KTt9KTt9ZWxzZSBpZihyZXF1ZXN0LnNlbGVjdGluZyYmcmVxdWVzdC5yZWdpb24pe2VkaXRSZWdpb24ocmVxdWVzdC5yZWN0LHRhcmdldD0+e2lmKHRhcmdldCl7YnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzZWxlY3RUYXJnZXQ6dHJ1ZSx0YXJnZXQ6W1t0YXJnZXRdXSxzZWxlY3ROZXh0OnJlcXVlc3Quc2VsZWN0TmV4dH0pO31lbHNle2Jyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7Y2FuY2VsU2VsZWN0VGFyZ2V0OnRydWUsc2VsZWN0TmV4dDpyZXF1ZXN0LnNlbGVjdE5leHR9KTt9fSk7fWVsc2V7aWYodGFyZ2V0U2VsZWN0b3Ipe3RhcmdldFNlbGVjdG9yLmNsZWFudXAoKTt0YXJnZXRTZWxlY3Rvcj1udWxsO3JldHVybjt9ZWxzZXtyZW1vdmVSZWdpb24oKTtyZXR1cm47fX19fS8vIHNob3cgZWxlbWVudFxuZnVuY3Rpb24gc3RhcnRTaG93RWxlbWVudChtZXNzYWdlKXtpZihtZXNzYWdlLnNob3dFbGVtZW50KXt0cnl7Y29uc3QgcmVzdWx0PXNlbGVuaXVtWydkb1Nob3dFbGVtZW50J10obWVzc2FnZS50YXJnZXRWYWx1ZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cmVzdWx0OnJlc3VsdH0pO31jYXRjaChlKXsvLyBJZiB3ZSBkaWRuJ3QgZmluZCB0aGUgZWxlbWVudCwgaXQgbWVhbnMgdGhhdCBhbm90aGVyIGZyYW1lIG1pZ2h0IGhhdmUgZm91bmQgaXQsXG4vLyBzbyB3ZSBkb24ndCByZXNvbHZlIHRoZSBwcm9taXNlLiBJZiBubyBmcmFtZSBmaW5kcyBpdCwgdGhlbiB0aGUgcHJvbWlzZSB3aWxsXG4vLyBnZXQgcmVqZWN0ZWQuXG59fX1pZighd2luZG93Ll9saXN0ZW5lcil7d2luZG93Ll9saXN0ZW5lcj1kb0NvbW1hbmRzO2Jyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoc3RhcnRTaG93RWxlbWVudCk7YnJvd3Nlci5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihkb0NvbW1hbmRzKTt9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L2NvbW1hbmRzLWFwaS5qc1xuLy8gbW9kdWxlIGlkID0gMTU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///157\n");

/***/ }),

/***/ 168:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__ = __webpack_require__(169);\n\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = 'scrollBehavior' in document.body.style;\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  var targetIsDetached = !target.ownerDocument.documentElement.contains(target);\n\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(targetIsDetached ? [] : Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, options));\n  }\n\n  if (targetIsDetached) {\n    return;\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, computeOptions), computeOptions.behavior);\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (scrollIntoView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9tbnQvYy95Yy9pbnN0YW50YXBpL3NlbGVuaXVtLWlkZS9ub2RlX21vZHVsZXMvc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQvZXMvaW5kZXguanM/NTkyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tcHV0ZSBmcm9tICdjb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcnO1xuXG5mdW5jdGlvbiBpc09wdGlvbnNPYmplY3Qob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucyA9PT0gT2JqZWN0KG9wdGlvbnMpICYmIE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCAhPT0gMDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJlaGF2aW9yKGFjdGlvbnMsIGJlaGF2aW9yKSB7XG4gIGlmIChiZWhhdmlvciA9PT0gdm9pZCAwKSB7XG4gICAgYmVoYXZpb3IgPSAnYXV0byc7XG4gIH1cblxuICB2YXIgY2FuU21vb3RoU2Nyb2xsID0gJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWwgPSBfcmVmLmVsLFxuICAgICAgICB0b3AgPSBfcmVmLnRvcCxcbiAgICAgICAgbGVmdCA9IF9yZWYubGVmdDtcblxuICAgIGlmIChlbC5zY3JvbGwgJiYgY2FuU21vb3RoU2Nyb2xsKSB7XG4gICAgICBlbC5zY3JvbGwoe1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgZWwuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICBibG9jazogJ2VuZCcsXG4gICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgIH07XG4gIH1cblxuICBpZiAoaXNPcHRpb25zT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJsb2NrOiAnc3RhcnQnLFxuICAgIGlubGluZTogJ25lYXJlc3QnXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KHRhcmdldCwgb3B0aW9ucykge1xuICB2YXIgdGFyZ2V0SXNEZXRhY2hlZCA9ICF0YXJnZXQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnModGFyZ2V0KTtcblxuICBpZiAoaXNPcHRpb25zT2JqZWN0KG9wdGlvbnMpICYmIHR5cGVvZiBvcHRpb25zLmJlaGF2aW9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuYmVoYXZpb3IodGFyZ2V0SXNEZXRhY2hlZCA/IFtdIDogY29tcHV0ZSh0YXJnZXQsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGlmICh0YXJnZXRJc0RldGFjaGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbXB1dGVPcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIGRlZmF1bHRCZWhhdmlvcihjb21wdXRlKHRhcmdldCwgY29tcHV0ZU9wdGlvbnMpLCBjb21wdXRlT3B0aW9ucy5iZWhhdmlvcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEludG9WaWV3O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9tbnQvYy95Yy9pbnN0YW50YXBpL3NlbGVuaXVtLWlkZS9ub2RlX21vZHVsZXMvc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQvZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///168\n");

/***/ }),

/***/ 169:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function isElement(el) {\n  return el != null && typeof el === 'object' && el.nodeType === 1;\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize || elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        _height = _frame$getBoundingCli.height,\n        _width = _frame$getBoundingCli.width,\n        _top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        _left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= _top && targetBottom <= bottom && targetLeft >= _left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - _top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(_top, bottom, _height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (_top + _height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - _left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (_left + _width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(_left, right, _width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - _height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - _width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9tbnQvYy95Yy9pbnN0YW50YXBpL3NlbGVuaXVtLWlkZS9ub2RlX21vZHVsZXMvY29tcHV0ZS1zY3JvbGwtaW50by12aWV3L2VzL2luZGV4LmpzPzJhN2IiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNFbGVtZW50KGVsKSB7XG4gIHJldHVybiBlbCAhPSBudWxsICYmIHR5cGVvZiBlbCA9PT0gJ29iamVjdCcgJiYgZWwubm9kZVR5cGUgPT09IDE7XG59XG5cbmZ1bmN0aW9uIGNhbk92ZXJmbG93KG92ZXJmbG93LCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cykge1xuICBpZiAoc2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHMgJiYgb3ZlcmZsb3cgPT09ICdoaWRkZW4nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIG92ZXJmbG93ICE9PSAndmlzaWJsZScgJiYgb3ZlcmZsb3cgIT09ICdjbGlwJztcbn1cblxuZnVuY3Rpb24gaXNTY3JvbGxhYmxlKGVsLCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cykge1xuICBpZiAoZWwuY2xpZW50SGVpZ2h0IDwgZWwuc2Nyb2xsSGVpZ2h0IHx8IGVsLmNsaWVudFdpZHRoIDwgZWwuc2Nyb2xsV2lkdGgpIHtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgICByZXR1cm4gY2FuT3ZlcmZsb3coc3R5bGUub3ZlcmZsb3dZLCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cykgfHwgY2FuT3ZlcmZsb3coc3R5bGUub3ZlcmZsb3dYLCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFsaWduTmVhcmVzdChzY3JvbGxpbmdFZGdlU3RhcnQsIHNjcm9sbGluZ0VkZ2VFbmQsIHNjcm9sbGluZ1NpemUsIHNjcm9sbGluZ0JvcmRlclN0YXJ0LCBzY3JvbGxpbmdCb3JkZXJFbmQsIGVsZW1lbnRFZGdlU3RhcnQsIGVsZW1lbnRFZGdlRW5kLCBlbGVtZW50U2l6ZSkge1xuICBpZiAoZWxlbWVudEVkZ2VTdGFydCA8IHNjcm9sbGluZ0VkZ2VTdGFydCAmJiBlbGVtZW50RWRnZUVuZCA+IHNjcm9sbGluZ0VkZ2VFbmQgfHwgZWxlbWVudEVkZ2VTdGFydCA+IHNjcm9sbGluZ0VkZ2VTdGFydCAmJiBlbGVtZW50RWRnZUVuZCA8IHNjcm9sbGluZ0VkZ2VFbmQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmIChlbGVtZW50RWRnZVN0YXJ0IDw9IHNjcm9sbGluZ0VkZ2VTdGFydCAmJiBlbGVtZW50U2l6ZSA8PSBzY3JvbGxpbmdTaXplIHx8IGVsZW1lbnRFZGdlRW5kID49IHNjcm9sbGluZ0VkZ2VFbmQgJiYgZWxlbWVudFNpemUgPj0gc2Nyb2xsaW5nU2l6ZSkge1xuICAgIHJldHVybiBlbGVtZW50RWRnZVN0YXJ0IC0gc2Nyb2xsaW5nRWRnZVN0YXJ0IC0gc2Nyb2xsaW5nQm9yZGVyU3RhcnQ7XG4gIH1cblxuICBpZiAoZWxlbWVudEVkZ2VFbmQgPiBzY3JvbGxpbmdFZGdlRW5kICYmIGVsZW1lbnRTaXplIDwgc2Nyb2xsaW5nU2l6ZSB8fCBlbGVtZW50RWRnZVN0YXJ0IDwgc2Nyb2xsaW5nRWRnZVN0YXJ0ICYmIGVsZW1lbnRTaXplID4gc2Nyb2xsaW5nU2l6ZSkge1xuICAgIHJldHVybiBlbGVtZW50RWRnZUVuZCAtIHNjcm9sbGluZ0VkZ2VFbmQgKyBzY3JvbGxpbmdCb3JkZXJFbmQ7XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgdmFyIHNjcm9sbE1vZGUgPSBvcHRpb25zLnNjcm9sbE1vZGUsXG4gICAgICBibG9jayA9IG9wdGlvbnMuYmxvY2ssXG4gICAgICBpbmxpbmUgPSBvcHRpb25zLmlubGluZSxcbiAgICAgIGJvdW5kYXJ5ID0gb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzID0gb3B0aW9ucy5za2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cztcbiAgdmFyIGNoZWNrQm91bmRhcnkgPSB0eXBlb2YgYm91bmRhcnkgPT09ICdmdW5jdGlvbicgPyBib3VuZGFyeSA6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT09IGJvdW5kYXJ5O1xuICB9O1xuXG4gIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHRhcmdldCcpO1xuICB9XG5cbiAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIGZyYW1lcyA9IFtdO1xuICB2YXIgY3Vyc29yID0gdGFyZ2V0O1xuXG4gIHdoaWxlIChpc0VsZW1lbnQoY3Vyc29yKSAmJiBjaGVja0JvdW5kYXJ5KGN1cnNvcikpIHtcbiAgICBjdXJzb3IgPSBjdXJzb3IucGFyZW50Tm9kZTtcblxuICAgIGlmIChjdXJzb3IgPT09IHNjcm9sbGluZ0VsZW1lbnQpIHtcbiAgICAgIGZyYW1lcy5wdXNoKGN1cnNvcik7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoY3Vyc29yID09PSBkb2N1bWVudC5ib2R5ICYmIGlzU2Nyb2xsYWJsZShjdXJzb3IpICYmICFpc1Njcm9sbGFibGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzU2Nyb2xsYWJsZShjdXJzb3IsIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSkge1xuICAgICAgZnJhbWVzLnB1c2goY3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICB2YXIgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCA/IHZpc3VhbFZpZXdwb3J0LndpZHRoIDogaW5uZXJXaWR0aDtcbiAgdmFyIHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQuaGVpZ2h0IDogaW5uZXJIZWlnaHQ7XG4gIHZhciB2aWV3cG9ydFggPSB3aW5kb3cuc2Nyb2xsWCB8fCBwYWdlWE9mZnNldDtcbiAgdmFyIHZpZXdwb3J0WSA9IHdpbmRvdy5zY3JvbGxZIHx8IHBhZ2VZT2Zmc2V0O1xuXG4gIHZhciBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICB0YXJnZXRIZWlnaHQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wuaGVpZ2h0LFxuICAgICAgdGFyZ2V0V2lkdGggPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wud2lkdGgsXG4gICAgICB0YXJnZXRUb3AgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wudG9wLFxuICAgICAgdGFyZ2V0UmlnaHQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wucmlnaHQsXG4gICAgICB0YXJnZXRCb3R0b20gPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wuYm90dG9tLFxuICAgICAgdGFyZ2V0TGVmdCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbC5sZWZ0O1xuXG4gIHZhciB0YXJnZXRCbG9jayA9IGJsb2NrID09PSAnc3RhcnQnIHx8IGJsb2NrID09PSAnbmVhcmVzdCcgPyB0YXJnZXRUb3AgOiBibG9jayA9PT0gJ2VuZCcgPyB0YXJnZXRCb3R0b20gOiB0YXJnZXRUb3AgKyB0YXJnZXRIZWlnaHQgLyAyO1xuICB2YXIgdGFyZ2V0SW5saW5lID0gaW5saW5lID09PSAnY2VudGVyJyA/IHRhcmdldExlZnQgKyB0YXJnZXRXaWR0aCAvIDIgOiBpbmxpbmUgPT09ICdlbmQnID8gdGFyZ2V0UmlnaHQgOiB0YXJnZXRMZWZ0O1xuICB2YXIgY29tcHV0YXRpb25zID0gW107XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGZyYW1lcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgZnJhbWUgPSBmcmFtZXNbaW5kZXhdO1xuXG4gICAgdmFyIF9mcmFtZSRnZXRCb3VuZGluZ0NsaSA9IGZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBfaGVpZ2h0ID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLmhlaWdodCxcbiAgICAgICAgX3dpZHRoID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLndpZHRoLFxuICAgICAgICBfdG9wID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLnRvcCxcbiAgICAgICAgcmlnaHQgPSBfZnJhbWUkZ2V0Qm91bmRpbmdDbGkucmlnaHQsXG4gICAgICAgIGJvdHRvbSA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS5ib3R0b20sXG4gICAgICAgIF9sZWZ0ID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLmxlZnQ7XG5cbiAgICBpZiAoc2Nyb2xsTW9kZSA9PT0gJ2lmLW5lZWRlZCcgJiYgdGFyZ2V0VG9wID49IDAgJiYgdGFyZ2V0TGVmdCA+PSAwICYmIHRhcmdldEJvdHRvbSA8PSB2aWV3cG9ydEhlaWdodCAmJiB0YXJnZXRSaWdodCA8PSB2aWV3cG9ydFdpZHRoICYmIHRhcmdldFRvcCA+PSBfdG9wICYmIHRhcmdldEJvdHRvbSA8PSBib3R0b20gJiYgdGFyZ2V0TGVmdCA+PSBfbGVmdCAmJiB0YXJnZXRSaWdodCA8PSByaWdodCkge1xuICAgICAgcmV0dXJuIGNvbXB1dGF0aW9ucztcbiAgICB9XG5cbiAgICB2YXIgZnJhbWVTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZnJhbWUpO1xuICAgIHZhciBib3JkZXJMZWZ0ID0gcGFyc2VJbnQoZnJhbWVTdHlsZS5ib3JkZXJMZWZ0V2lkdGgsIDEwKTtcbiAgICB2YXIgYm9yZGVyVG9wID0gcGFyc2VJbnQoZnJhbWVTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTApO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHBhcnNlSW50KGZyYW1lU3R5bGUuYm9yZGVyUmlnaHRXaWR0aCwgMTApO1xuICAgIHZhciBib3JkZXJCb3R0b20gPSBwYXJzZUludChmcmFtZVN0eWxlLmJvcmRlckJvdHRvbVdpZHRoLCAxMCk7XG4gICAgdmFyIGJsb2NrU2Nyb2xsID0gMDtcbiAgICB2YXIgaW5saW5lU2Nyb2xsID0gMDtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSAnb2Zmc2V0V2lkdGgnIGluIGZyYW1lID8gZnJhbWUub2Zmc2V0V2lkdGggLSBmcmFtZS5jbGllbnRXaWR0aCAtIGJvcmRlckxlZnQgLSBib3JkZXJSaWdodCA6IDA7XG4gICAgdmFyIHNjcm9sbGJhckhlaWdodCA9ICdvZmZzZXRIZWlnaHQnIGluIGZyYW1lID8gZnJhbWUub2Zmc2V0SGVpZ2h0IC0gZnJhbWUuY2xpZW50SGVpZ2h0IC0gYm9yZGVyVG9wIC0gYm9yZGVyQm90dG9tIDogMDtcblxuICAgIGlmIChzY3JvbGxpbmdFbGVtZW50ID09PSBmcmFtZSkge1xuICAgICAgaWYgKGJsb2NrID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gdGFyZ2V0QmxvY2s7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrID09PSAnZW5kJykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrIC0gdmlld3BvcnRIZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrID09PSAnbmVhcmVzdCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSBhbGlnbk5lYXJlc3Qodmlld3BvcnRZLCB2aWV3cG9ydFkgKyB2aWV3cG9ydEhlaWdodCwgdmlld3BvcnRIZWlnaHQsIGJvcmRlclRvcCwgYm9yZGVyQm90dG9tLCB2aWV3cG9ydFkgKyB0YXJnZXRCbG9jaywgdmlld3BvcnRZICsgdGFyZ2V0QmxvY2sgKyB0YXJnZXRIZWlnaHQsIHRhcmdldEhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrIC0gdmlld3BvcnRIZWlnaHQgLyAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5saW5lID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IHRhcmdldElubGluZTtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnY2VudGVyJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSB2aWV3cG9ydFdpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnZW5kJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSB2aWV3cG9ydFdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gYWxpZ25OZWFyZXN0KHZpZXdwb3J0WCwgdmlld3BvcnRYICsgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRXaWR0aCwgYm9yZGVyTGVmdCwgYm9yZGVyUmlnaHQsIHZpZXdwb3J0WCArIHRhcmdldElubGluZSwgdmlld3BvcnRYICsgdGFyZ2V0SW5saW5lICsgdGFyZ2V0V2lkdGgsIHRhcmdldFdpZHRoKTtcbiAgICAgIH1cblxuICAgICAgYmxvY2tTY3JvbGwgPSBNYXRoLm1heCgwLCBibG9ja1Njcm9sbCArIHZpZXdwb3J0WSk7XG4gICAgICBpbmxpbmVTY3JvbGwgPSBNYXRoLm1heCgwLCBpbmxpbmVTY3JvbGwgKyB2aWV3cG9ydFgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYmxvY2sgPT09ICdzdGFydCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIF90b3AgLSBib3JkZXJUb3A7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrID09PSAnZW5kJykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrIC0gYm90dG9tICsgYm9yZGVyQm90dG9tICsgc2Nyb2xsYmFySGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ25lYXJlc3QnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gYWxpZ25OZWFyZXN0KF90b3AsIGJvdHRvbSwgX2hlaWdodCwgYm9yZGVyVG9wLCBib3JkZXJCb3R0b20gKyBzY3JvbGxiYXJIZWlnaHQsIHRhcmdldEJsb2NrLCB0YXJnZXRCbG9jayArIHRhcmdldEhlaWdodCwgdGFyZ2V0SGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gdGFyZ2V0QmxvY2sgLSAoX3RvcCArIF9oZWlnaHQgLyAyKSArIHNjcm9sbGJhckhlaWdodCAvIDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmxpbmUgPT09ICdzdGFydCcpIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gdGFyZ2V0SW5saW5lIC0gX2xlZnQgLSBib3JkZXJMZWZ0O1xuICAgICAgfSBlbHNlIGlmIChpbmxpbmUgPT09ICdjZW50ZXInKSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IHRhcmdldElubGluZSAtIChfbGVmdCArIF93aWR0aCAvIDIpICsgc2Nyb2xsYmFyV2lkdGggLyAyO1xuICAgICAgfSBlbHNlIGlmIChpbmxpbmUgPT09ICdlbmQnKSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IHRhcmdldElubGluZSAtIHJpZ2h0ICsgYm9yZGVyUmlnaHQgKyBzY3JvbGxiYXJXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IGFsaWduTmVhcmVzdChfbGVmdCwgcmlnaHQsIF93aWR0aCwgYm9yZGVyTGVmdCwgYm9yZGVyUmlnaHQgKyBzY3JvbGxiYXJXaWR0aCwgdGFyZ2V0SW5saW5lLCB0YXJnZXRJbmxpbmUgKyB0YXJnZXRXaWR0aCwgdGFyZ2V0V2lkdGgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGZyYW1lLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gZnJhbWUuc2Nyb2xsVG9wO1xuICAgICAgYmxvY2tTY3JvbGwgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGxUb3AgKyBibG9ja1Njcm9sbCwgZnJhbWUuc2Nyb2xsSGVpZ2h0IC0gX2hlaWdodCArIHNjcm9sbGJhckhlaWdodCkpO1xuICAgICAgaW5saW5lU2Nyb2xsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsTGVmdCArIGlubGluZVNjcm9sbCwgZnJhbWUuc2Nyb2xsV2lkdGggLSBfd2lkdGggKyBzY3JvbGxiYXJXaWR0aCkpO1xuICAgICAgdGFyZ2V0QmxvY2sgKz0gc2Nyb2xsVG9wIC0gYmxvY2tTY3JvbGw7XG4gICAgICB0YXJnZXRJbmxpbmUgKz0gc2Nyb2xsTGVmdCAtIGlubGluZVNjcm9sbDtcbiAgICB9XG5cbiAgICBjb21wdXRhdGlvbnMucHVzaCh7XG4gICAgICBlbDogZnJhbWUsXG4gICAgICB0b3A6IGJsb2NrU2Nyb2xsLFxuICAgICAgbGVmdDogaW5saW5lU2Nyb2xsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY29tcHV0YXRpb25zO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL21udC9jL3ljL2luc3RhbnRhcGkvc2VsZW5pdW0taWRlL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///169\n");

/***/ }),

/***/ 170:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"unescapeHtml\"] = unescapeHtml;\n/* harmony export (immutable) */ __webpack_exports__[\"escapeHTML\"] = escapeHTML;\n/*\r\n * Copyright 2017 SideeX committers\r\n *\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *  you may not use this file except in compliance with the License.\r\n *  You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  Unless required by applicable law or agreed to in writing, software\r\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *  See the License for the specific language governing permissions and\r\n *  limitations under the License.\r\n *\r\n */ // change HTML entities to sign\nfunction unescapeHtml(str){return str.replace(/&amp;/gi,'&').replace(/&quot;/gi,'\"').replace(/&lt;/gi,'<').replace(/&gt;/gi,'>').replace(/&#39;/gi,\"'\");}function escapeAttr(str){let spaceS=0;let spaceE=-1;let tempStr=str;let tempAttr='';let tempValue='';let processedTag='';let flag=false;let finishedProcessing=false;do{spaceS=str.indexOf(' ');spaceE=str.indexOf(' ',spaceS+1);if(spaceE>=0){while(str.charAt(spaceE-1)!=\"'\"&&str.charAt(spaceE-1)!='\"'){spaceE=str.indexOf(' ',spaceE+1);if(spaceE<0)break;}}//if there is space, then split string\nif(spaceS>=0&&spaceE>=0){tempAttr=str.substring(spaceS+1,spaceE);tempStr=str.substring(0,spaceS+1);str=str.substring(spaceE);}else if(spaceS>=0&&spaceE<0){tempAttr=str.substring(spaceS+1,str.length-1);tempStr=str.substring(0,spaceS+1);str='';}else{//flag is check that has string been processed\nif(flag)processedTag+='>';else processedTag=str;finishedProcessing=true;break;}flag=true;let equal=tempAttr.indexOf('=');if(tempAttr.charAt(equal+1)==\"'\"){//divide the single quote\nif(tempAttr.indexOf(\"'\")!=-1){let quotS=tempAttr.indexOf(\"'\");let quotE=tempAttr.lastIndexOf(\"'\");tempValue=tempAttr.substring(quotS+1,quotE);tempAttr=tempAttr.substring(0,quotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+\"'\";}}if(tempAttr.charAt(equal+1)=='\"'){//divide the double quote\nif(tempAttr.indexOf('\"')!=-1){let dquotS=tempAttr.indexOf('\"');let dquotE=tempAttr.lastIndexOf('\"');tempValue=tempAttr.substring(dquotS+1,dquotE);tempAttr=tempAttr.substring(0,dquotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+'\"';}}//merge the splited string\nprocessedTag+=tempStr+tempAttr;}while(!finishedProcessing);return processedTag;}//escape the character \"<\".\">\".\"&\".\"'\".'\"'\nfunction doEscape(str){return str.replace(/[&\"'<>]/g,m=>({'&':'&amp;','\"':'&quot;',\"'\":'&#39;','<':'&lt;','>':'&gt;'})[m]);}//append\nfunction checkType(cutStr,replaceStr,mode){switch(mode){case 1:return cutStr+=replaceStr+'&amp;';case 2:return cutStr+=replaceStr+'&quot;';case 3:return cutStr+=replaceStr+'&#39;';case 4:return cutStr+=replaceStr+'&lt;';case 5:return cutStr+=replaceStr+'&gt;';default:return cutStr;}}//avoid &amp; to escape &amp;amp;\nfunction replaceChar(str){//escape the character\nlet pos=-1;let cutStr='';let replaceStr='';let doFlag=0;let charType;let ampersandExists=true;while(ampersandExists){pos=str.indexOf('&',pos+1);charType=0;if(pos!=-1){if(str.substring(pos,pos+5)=='&amp;'){charType=1;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+6)=='&quot;'){charType=2;replaceStr=str.substring(0,pos);str=str.substring(pos+6);}else if(str.substring(pos,pos+5)=='&#39;'){charType=3;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+4)=='&lt;'){charType=4;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}else if(str.substring(pos,pos+4)=='&gt;'){charType=5;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}if(charType!=0){pos=-1;replaceStr=doEscape(replaceStr);cutStr=checkType(cutStr,replaceStr,charType);doFlag=1;}}else{cutStr+=str;ampersandExists=false;}}if(doFlag==0)return doEscape(str);else return cutStr;}//check the HTML value\nfunction escapeHTML(str){let smallIndex=str.indexOf('<');let greatIndex=str.indexOf('>');let tempStr='';let tempTag='';let processed='';let tempSmallIndex=0;let tagsExists=true;while(tagsExists){//find the less target\nif(smallIndex>=0){//find the greater target\nif(greatIndex>=0){do{//split foreward string\nsmallIndex+=tempSmallIndex;tempStr=str.substring(0,smallIndex);//split the tags\ntempTag=str.substring(smallIndex,greatIndex+1);tempSmallIndex=tempTag.lastIndexOf('<');}while(tempSmallIndex!=0);//escape attributes in the tag\ntempTag=escapeAttr(tempTag);str=str.substring(greatIndex+1);//check if the tag is script\n// if(tempTag.toLowerCase().indexOf(\"script\")>=0)\n// tempTag = replaceChar(tempTag);\n//merge them up\nprocessed+=replaceChar(tempStr)+tempTag;}else{replaceChar(str);tagsExists=false;break;}}else{replaceChar(str);tagsExists=false;break;}//going to do next tag\nsmallIndex=str.indexOf('<');greatIndex=0;do{//avoid other >\ngreatIndex=str.indexOf('>',greatIndex+1);}while(greatIndex<smallIndex&&greatIndex!=-1);}if(str!='')processed+=replaceChar(str);return processed;}window.unescapeHtml=unescapeHtml;window.escapeHTML=escapeHTML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9lc2NhcGUuanM/NDljYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBTaWRlZVggY29tbWl0dGVyc1xyXG4gKlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICovIC8vIGNoYW5nZSBIVE1MIGVudGl0aWVzIHRvIHNpZ25cbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZUh0bWwoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyZhbXA7L2dpLCcmJykucmVwbGFjZSgvJnF1b3Q7L2dpLCdcIicpLnJlcGxhY2UoLyZsdDsvZ2ksJzwnKS5yZXBsYWNlKC8mZ3Q7L2dpLCc+JykucmVwbGFjZSgvJiMzOTsvZ2ksXCInXCIpO31mdW5jdGlvbiBlc2NhcGVBdHRyKHN0cil7bGV0IHNwYWNlUz0wO2xldCBzcGFjZUU9LTE7bGV0IHRlbXBTdHI9c3RyO2xldCB0ZW1wQXR0cj0nJztsZXQgdGVtcFZhbHVlPScnO2xldCBwcm9jZXNzZWRUYWc9Jyc7bGV0IGZsYWc9ZmFsc2U7bGV0IGZpbmlzaGVkUHJvY2Vzc2luZz1mYWxzZTtkb3tzcGFjZVM9c3RyLmluZGV4T2YoJyAnKTtzcGFjZUU9c3RyLmluZGV4T2YoJyAnLHNwYWNlUysxKTtpZihzcGFjZUU+PTApe3doaWxlKHN0ci5jaGFyQXQoc3BhY2VFLTEpIT1cIidcIiYmc3RyLmNoYXJBdChzcGFjZUUtMSkhPSdcIicpe3NwYWNlRT1zdHIuaW5kZXhPZignICcsc3BhY2VFKzEpO2lmKHNwYWNlRTwwKWJyZWFrO319Ly9pZiB0aGVyZSBpcyBzcGFjZSwgdGhlbiBzcGxpdCBzdHJpbmdcbmlmKHNwYWNlUz49MCYmc3BhY2VFPj0wKXt0ZW1wQXR0cj1zdHIuc3Vic3RyaW5nKHNwYWNlUysxLHNwYWNlRSk7dGVtcFN0cj1zdHIuc3Vic3RyaW5nKDAsc3BhY2VTKzEpO3N0cj1zdHIuc3Vic3RyaW5nKHNwYWNlRSk7fWVsc2UgaWYoc3BhY2VTPj0wJiZzcGFjZUU8MCl7dGVtcEF0dHI9c3RyLnN1YnN0cmluZyhzcGFjZVMrMSxzdHIubGVuZ3RoLTEpO3RlbXBTdHI9c3RyLnN1YnN0cmluZygwLHNwYWNlUysxKTtzdHI9Jyc7fWVsc2V7Ly9mbGFnIGlzIGNoZWNrIHRoYXQgaGFzIHN0cmluZyBiZWVuIHByb2Nlc3NlZFxuaWYoZmxhZylwcm9jZXNzZWRUYWcrPSc+JztlbHNlIHByb2Nlc3NlZFRhZz1zdHI7ZmluaXNoZWRQcm9jZXNzaW5nPXRydWU7YnJlYWs7fWZsYWc9dHJ1ZTtsZXQgZXF1YWw9dGVtcEF0dHIuaW5kZXhPZignPScpO2lmKHRlbXBBdHRyLmNoYXJBdChlcXVhbCsxKT09XCInXCIpey8vZGl2aWRlIHRoZSBzaW5nbGUgcXVvdGVcbmlmKHRlbXBBdHRyLmluZGV4T2YoXCInXCIpIT0tMSl7bGV0IHF1b3RTPXRlbXBBdHRyLmluZGV4T2YoXCInXCIpO2xldCBxdW90RT10ZW1wQXR0ci5sYXN0SW5kZXhPZihcIidcIik7dGVtcFZhbHVlPXRlbXBBdHRyLnN1YnN0cmluZyhxdW90UysxLHF1b3RFKTt0ZW1wQXR0cj10ZW1wQXR0ci5zdWJzdHJpbmcoMCxxdW90UysxKTt0ZW1wVmFsdWU9cmVwbGFjZUNoYXIodGVtcFZhbHVlKTt0ZW1wQXR0cis9dGVtcFZhbHVlK1wiJ1wiO319aWYodGVtcEF0dHIuY2hhckF0KGVxdWFsKzEpPT0nXCInKXsvL2RpdmlkZSB0aGUgZG91YmxlIHF1b3RlXG5pZih0ZW1wQXR0ci5pbmRleE9mKCdcIicpIT0tMSl7bGV0IGRxdW90Uz10ZW1wQXR0ci5pbmRleE9mKCdcIicpO2xldCBkcXVvdEU9dGVtcEF0dHIubGFzdEluZGV4T2YoJ1wiJyk7dGVtcFZhbHVlPXRlbXBBdHRyLnN1YnN0cmluZyhkcXVvdFMrMSxkcXVvdEUpO3RlbXBBdHRyPXRlbXBBdHRyLnN1YnN0cmluZygwLGRxdW90UysxKTt0ZW1wVmFsdWU9cmVwbGFjZUNoYXIodGVtcFZhbHVlKTt0ZW1wQXR0cis9dGVtcFZhbHVlKydcIic7fX0vL21lcmdlIHRoZSBzcGxpdGVkIHN0cmluZ1xucHJvY2Vzc2VkVGFnKz10ZW1wU3RyK3RlbXBBdHRyO313aGlsZSghZmluaXNoZWRQcm9jZXNzaW5nKTtyZXR1cm4gcHJvY2Vzc2VkVGFnO30vL2VzY2FwZSB0aGUgY2hhcmFjdGVyIFwiPFwiLlwiPlwiLlwiJlwiLlwiJ1wiLidcIidcbmZ1bmN0aW9uIGRvRXNjYXBlKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bJlwiJzw+XS9nLG09Pih7JyYnOicmYW1wOycsJ1wiJzonJnF1b3Q7JyxcIidcIjonJiMzOTsnLCc8JzonJmx0OycsJz4nOicmZ3Q7J30pW21dKTt9Ly9hcHBlbmRcbmZ1bmN0aW9uIGNoZWNrVHlwZShjdXRTdHIscmVwbGFjZVN0cixtb2RlKXtzd2l0Y2gobW9kZSl7Y2FzZSAxOnJldHVybiBjdXRTdHIrPXJlcGxhY2VTdHIrJyZhbXA7JztjYXNlIDI6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJnF1b3Q7JztjYXNlIDM6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJiMzOTsnO2Nhc2UgNDpyZXR1cm4gY3V0U3RyKz1yZXBsYWNlU3RyKycmbHQ7JztjYXNlIDU6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJmd0Oyc7ZGVmYXVsdDpyZXR1cm4gY3V0U3RyO319Ly9hdm9pZCAmYW1wOyB0byBlc2NhcGUgJmFtcDthbXA7XG5mdW5jdGlvbiByZXBsYWNlQ2hhcihzdHIpey8vZXNjYXBlIHRoZSBjaGFyYWN0ZXJcbmxldCBwb3M9LTE7bGV0IGN1dFN0cj0nJztsZXQgcmVwbGFjZVN0cj0nJztsZXQgZG9GbGFnPTA7bGV0IGNoYXJUeXBlO2xldCBhbXBlcnNhbmRFeGlzdHM9dHJ1ZTt3aGlsZShhbXBlcnNhbmRFeGlzdHMpe3Bvcz1zdHIuaW5kZXhPZignJicscG9zKzEpO2NoYXJUeXBlPTA7aWYocG9zIT0tMSl7aWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJmFtcDsnKXtjaGFyVHlwZT0xO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys2KT09JyZxdW90Oycpe2NoYXJUeXBlPTI7cmVwbGFjZVN0cj1zdHIuc3Vic3RyaW5nKDAscG9zKTtzdHI9c3RyLnN1YnN0cmluZyhwb3MrNik7fWVsc2UgaWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJiMzOTsnKXtjaGFyVHlwZT0zO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZsdDsnKXtjaGFyVHlwZT00O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZndDsnKXtjaGFyVHlwZT01O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31pZihjaGFyVHlwZSE9MCl7cG9zPS0xO3JlcGxhY2VTdHI9ZG9Fc2NhcGUocmVwbGFjZVN0cik7Y3V0U3RyPWNoZWNrVHlwZShjdXRTdHIscmVwbGFjZVN0cixjaGFyVHlwZSk7ZG9GbGFnPTE7fX1lbHNle2N1dFN0cis9c3RyO2FtcGVyc2FuZEV4aXN0cz1mYWxzZTt9fWlmKGRvRmxhZz09MClyZXR1cm4gZG9Fc2NhcGUoc3RyKTtlbHNlIHJldHVybiBjdXRTdHI7fS8vY2hlY2sgdGhlIEhUTUwgdmFsdWVcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIVE1MKHN0cil7bGV0IHNtYWxsSW5kZXg9c3RyLmluZGV4T2YoJzwnKTtsZXQgZ3JlYXRJbmRleD1zdHIuaW5kZXhPZignPicpO2xldCB0ZW1wU3RyPScnO2xldCB0ZW1wVGFnPScnO2xldCBwcm9jZXNzZWQ9Jyc7bGV0IHRlbXBTbWFsbEluZGV4PTA7bGV0IHRhZ3NFeGlzdHM9dHJ1ZTt3aGlsZSh0YWdzRXhpc3RzKXsvL2ZpbmQgdGhlIGxlc3MgdGFyZ2V0XG5pZihzbWFsbEluZGV4Pj0wKXsvL2ZpbmQgdGhlIGdyZWF0ZXIgdGFyZ2V0XG5pZihncmVhdEluZGV4Pj0wKXtkb3svL3NwbGl0IGZvcmV3YXJkIHN0cmluZ1xuc21hbGxJbmRleCs9dGVtcFNtYWxsSW5kZXg7dGVtcFN0cj1zdHIuc3Vic3RyaW5nKDAsc21hbGxJbmRleCk7Ly9zcGxpdCB0aGUgdGFnc1xudGVtcFRhZz1zdHIuc3Vic3RyaW5nKHNtYWxsSW5kZXgsZ3JlYXRJbmRleCsxKTt0ZW1wU21hbGxJbmRleD10ZW1wVGFnLmxhc3RJbmRleE9mKCc8Jyk7fXdoaWxlKHRlbXBTbWFsbEluZGV4IT0wKTsvL2VzY2FwZSBhdHRyaWJ1dGVzIGluIHRoZSB0YWdcbnRlbXBUYWc9ZXNjYXBlQXR0cih0ZW1wVGFnKTtzdHI9c3RyLnN1YnN0cmluZyhncmVhdEluZGV4KzEpOy8vY2hlY2sgaWYgdGhlIHRhZyBpcyBzY3JpcHRcbi8vIGlmKHRlbXBUYWcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwic2NyaXB0XCIpPj0wKVxuLy8gdGVtcFRhZyA9IHJlcGxhY2VDaGFyKHRlbXBUYWcpO1xuLy9tZXJnZSB0aGVtIHVwXG5wcm9jZXNzZWQrPXJlcGxhY2VDaGFyKHRlbXBTdHIpK3RlbXBUYWc7fWVsc2V7cmVwbGFjZUNoYXIoc3RyKTt0YWdzRXhpc3RzPWZhbHNlO2JyZWFrO319ZWxzZXtyZXBsYWNlQ2hhcihzdHIpO3RhZ3NFeGlzdHM9ZmFsc2U7YnJlYWs7fS8vZ29pbmcgdG8gZG8gbmV4dCB0YWdcbnNtYWxsSW5kZXg9c3RyLmluZGV4T2YoJzwnKTtncmVhdEluZGV4PTA7ZG97Ly9hdm9pZCBvdGhlciA+XG5ncmVhdEluZGV4PXN0ci5pbmRleE9mKCc+JyxncmVhdEluZGV4KzEpO313aGlsZShncmVhdEluZGV4PHNtYWxsSW5kZXgmJmdyZWF0SW5kZXghPS0xKTt9aWYoc3RyIT0nJylwcm9jZXNzZWQrPXJlcGxhY2VDaGFyKHN0cik7cmV0dXJuIHByb2Nlc3NlZDt9d2luZG93LnVuZXNjYXBlSHRtbD11bmVzY2FwZUh0bWw7d2luZG93LmVzY2FwZUhUTUw9ZXNjYXBlSFRNTDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvZXNjYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDYiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///170\n");

/***/ }),

/***/ 250:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_scroll_into_view_if_needed__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__SeleniumError__ = __webpack_require__(123);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commands_api__ = __webpack_require__(157);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__escape__ = __webpack_require__(170);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__ = __webpack_require__(251);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__ = __webpack_require__(252);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils__ = __webpack_require__(124);\n/*\r\n * Copyright 2011 Software Freedom Conservancy\r\n *\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *  you may not use this file except in compliance with the License.\r\n *  You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  Unless required by applicable law or agreed to in writing, software\r\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *  See the License for the specific language governing permissions and\r\n *  limitations under the License.\r\n *\r\n */// TODO: stop navigating this.browserbot.document() ... it breaks encapsulation\nclass Selenium{/**\r\n   * Defines an object that runs Selenium commands.\r\n   *\r\n   * <h3><a name=\"locators\"></a>Element Locators</h3>\r\n   * <p>\r\n   * Element Locators tell Selenium which HTML element a command refers to.\r\n   * The format of a locator is:</p>\r\n   * <blockquote>\r\n   * <em>locatorType</em><strong>=</strong><em>argument</em>\r\n   * </blockquote>\r\n   *\r\n   * <p>\r\n   * We support the following strategies for locating elements:\r\n   * </p>\r\n   *\r\n   * <ul>\r\n   * <li><strong>identifier</strong>=<em>id</em>:\r\n   * Select the element with the specified &#064;id attribute. If no match is\r\n   * found, select the first element whose &#064;name attribute is <em>id</em>.\r\n   * (This is normally the default; see below.)</li>\r\n   * <li><strong>id</strong>=<em>id</em>:\r\n   * Select the element with the specified &#064;id attribute.</li>\r\n   *\r\n   * <li><strong>name</strong>=<em>name</em>:\r\n   * Select the first element with the specified &#064;name attribute.\r\n   * <ul class=\"first last simple\">\r\n   * <li>username</li>\r\n   * <li>name=username</li>\r\n   * </ul>\r\n   *\r\n   * <p>The name may optionally be followed by one or more <em>element-filters</em>, separated from the name by whitespace.  If the <em>filterType</em> is not specified, <strong>value</strong> is assumed.</p>\r\n   *\r\n   * <ul class=\"first last simple\">\r\n   * <li>name=flavour value=chocolate</li>\r\n   * </ul>\r\n   * </li>\r\n   * <li><strong>dom</strong>=<em>javascriptExpression</em>:\r\n   *\r\n   * Find an element by evaluating the specified string.  This allows you to traverse the HTML Document Object\r\n   * Model using JavaScript.  Note that you must not return a value in this string; simply make it the last expression in the block.\r\n   * <ul class=\"first last simple\">\r\n   * <li>dom=document.forms['myForm'].myDropdown</li>\r\n   * <li>dom=document.images[56]</li>\r\n   * <li>dom=function foo() { return document.links[1]; }; foo();</li>\r\n   * </ul>\r\n   *\r\n   * </li>\r\n   *\r\n   * <li><strong>xpath</strong>=<em>xpathExpression</em>:\r\n   * Locate an element using an XPath expression.\r\n   * <ul class=\"first last simple\">\r\n   * <li>xpath=//img[&#064;alt='The image alt text']</li>\r\n   * <li>xpath=//table[&#064;id='table1']//tr[4]/td[2]</li>\r\n   * <li>xpath=//a[contains(&#064;href,'#id1')]</li>\r\n   * <li>xpath=//a[contains(&#064;href,'#id1')]/&#064;class</li>\r\n   * <li>xpath=(//table[&#064;class='stylee'])//th[text()='theHeaderText']/../td</li>\r\n   * <li>xpath=//input[&#064;name='name2' and &#064;value='yes']</li>\r\n   * <li>xpath=//*[text()=\"right\"]</li>\r\n   *\r\n   * </ul>\r\n   * </li>\r\n   * <li><strong>link</strong>=<em>textPattern</em>:\r\n   * Select the link (anchor) element which contains text matching the\r\n   * specified <em>pattern</em>.\r\n   * <ul class=\"first last simple\">\r\n   * <li>link=The link text</li>\r\n   * </ul>\r\n   *\r\n   * </li>\r\n   *\r\n   * <li><strong>css</strong>=<em>cssSelectorSyntax</em>:\r\n   * Select the element using css selectors. Please refer to <a href=\"http://www.w3.org/TR/REC-CSS2/selector.html\">CSS2 selectors</a>, <a href=\"http://www.w3.org/TR/2001/CR-css3-selectors-20011113/\">CSS3 selectors</a> for more information. You can also check the TestCssLocators test in the selenium test suite for an example of usage, which is included in the downloaded selenium core package.\r\n   * <ul class=\"first last simple\">\r\n   * <li>css=a[href=\"#id3\"]</li>\r\n   * <li>css=span#firstChild + span</li>\r\n   * </ul>\r\n   * <p>Currently the css selector locator supports all css1, css2 and css3 selectors except namespace in css3, some pseudo classes(:nth-of-type, :nth-last-of-type, :first-of-type, :last-of-type, :only-of-type, :visited, :hover, :active, :focus, :indeterminate) and pseudo elements(::first-line, ::first-letter, ::selection, ::before, ::after). </p>\r\n   * </li>\r\n   *\r\n   * <li><strong>ui</strong>=<em>uiSpecifierString</em>:\r\n   * Locate an element by resolving the UI specifier string to another locator, and evaluating it. See the <a href=\"http://svn.openqa.org/fisheye/browse/~raw,r=trunk/selenium/trunk/src/main/resources/core/scripts/ui-doc.html\">Selenium UI-Element Reference</a> for more details.\r\n   * <ul class=\"first last simple\">\r\n   * <li>ui=loginPages::loginButton()</li>\r\n   * <li>ui=settingsPages::toggle(label=Hide Email)</li>\r\n   * <li>ui=forumPages::postBody(index=2)//a[2]</li>\r\n   * </ul>\r\n   * </li>\r\n   *\r\n   * </ul>\r\n   *\r\n   * <p>\r\n   * Without an explicit locator prefix, Selenium uses the following default\r\n   * strategies:\r\n   * </p>\r\n   *\r\n   * <ul class=\"simple\">\r\n   * <li><strong>dom</strong>, for locators starting with &quot;document.&quot;</li>\r\n   * <li><strong>xpath</strong>, for locators starting with &quot;//&quot;</li>\r\n   * <li><strong>identifier</strong>, otherwise</li>\r\n   * </ul>\r\n   *\r\n   * <h3><a name=\"element-filters\">Element Filters</a></h3>\r\n   * <blockquote>\r\n   * <p>Element filters can be used with a locator to refine a list of candidate elements.  They are currently used only in the 'name' element-locator.</p>\r\n   * <p>Filters look much like locators, ie.</p>\r\n   * <blockquote>\r\n   * <em>filterType</em><strong>=</strong><em>argument</em></blockquote>\r\n   *\r\n   * <p>Supported element-filters are:</p>\r\n   * <p><strong>value=</strong><em>valuePattern</em></p>\r\n   * <blockquote>\r\n   * Matches elements based on their values.  This is particularly useful for refining a list of similarly-named toggle-buttons.</blockquote>\r\n   * <p><strong>index=</strong><em>index</em></p>\r\n   * <blockquote>\r\n   * Selects a single element based on its position in the list (offset from zero).</blockquote>\r\n   * </blockquote>\r\n   *\r\n   * <h3><a name=\"patterns\"></a>String-match Patterns</h3>\r\n   *\r\n   * <p>\r\n   * Various Pattern syntaxes are available for matching string values:\r\n   * </p>\r\n   * <ul>\r\n   * <li><strong>glob:</strong><em>pattern</em>:\r\n   * Match a string against a \"glob\" (aka \"wildmat\") pattern. \"Glob\" is a\r\n   * kind of limited regular-expression syntax typically used in command-line\r\n   * shells. In a glob pattern, \"*\" represents any sequence of characters, and \"?\"\r\n   * represents any single character. Glob patterns match against the entire\r\n   * string.</li>\r\n   * <li><strong>regexp:</strong><em>regexp</em>:\r\n   * Match a string using a regular-expression. The full power of JavaScript\r\n   * regular-expressions is available.</li>\r\n   * <li><strong>regexpi:</strong><em>regexpi</em>:\r\n   * Match a string using a case-insensitive regular-expression.</li>\r\n   * <li><strong>exact:</strong><em>string</em>:\r\n   *\r\n   * Match a string exactly, verbatim, without any of that fancy wildcard\r\n   * stuff.</li>\r\n   * </ul>\r\n   * <p>\r\n   * If no pattern prefix is specified, Selenium assumes that it's a \"glob\"\r\n   * pattern.\r\n   * </p>\r\n   * <p>\r\n   * For commands that return multiple values (such as verifySelectOptions),\r\n   * the string being matched is a comma-separated list of the return values,\r\n   * where both commas and backslashes in the values are backslash-escaped.\r\n   * When providing a pattern, the optional matching syntax (i.e. glob,\r\n   * regexp, etc.) is specified once, as usual, at the beginning of the\r\n   * pattern.\r\n   * </p>\r\n   */constructor(browserbot){this.browserbot=browserbot;this.optionLocatorFactory=new OptionLocatorFactory();// DGF for backwards compatibility\nthis.page=function(){return browserbot;};this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;}}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Selenium;\nSelenium.DEFAULT_TIMEOUT=30*1000;Selenium.DEFAULT_MOUSE_SPEED=10;Selenium.RIGHT_MOUSE_CLICK=2;Selenium.decorateFunctionWithTimeout=function(f,timeout,callback){if(f==null){return null;}let timeoutTime=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"d\" /* getTimeoutTime */])(timeout);return function(){if(new Date().getTime()>timeoutTime){if(callback!=null){callback();}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Timed out after '+timeout+'ms');}return f();};};Selenium.createForWindow=function(window,proxyInjectionMode){if(!window.location){throw'error: not a window!';}return Selenium(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"b\" /* default */].createForWindow(window,proxyInjectionMode));};Selenium.prototype.reset=function(){this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;// todo: this.browserbot.reset()\nthis.browserbot.selectWindow('null');this.browserbot.resetPopups();};Selenium.prototype.eval=function(script,argv=[],scoped=true,isExpression=false){// we are still stringifying here, but we are not supporting passing HTMLElements anyway :)\n// Single quotes are important! JSON.stringifies uses double quotes, to avoid syntax error we use single quotes!!\nif(isExpression){return window.eval(scoped?`((...arguments) => (${script}))(...JSON.parse('${JSON.stringify(argv)}'))`:script);}else{return window.eval(scoped?`((...arguments) => {${script}})(...JSON.parse('${JSON.stringify(argv)}'))`:script);}};Selenium.prototype.doEvaluateConditional=function(script){return!!this.eval(script.script,script.argv,true,true);};Selenium.prototype.doVerifyChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(!element.checked){throw new Error(`Element with locator ${locator} is not checked`);}};Selenium.prototype.doVerifyNotChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(element.checked){throw new Error(`Element with locator ${locator} is checked`);}};Selenium.prototype.doVerifyEditable=function(locator){if(!this.isEditable(locator)){throw new Error(`Element with locator ${locator} is not editable`);}};Selenium.prototype.doVerifyNotEditable=function(locator){if(this.isEditable(locator)){throw new Error(`Element with locator ${locator} is editable`);}};Selenium.prototype.doVerifySelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyNotSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.doVerifyText=function(locator,value){this.doAssertText(locator,value);};Selenium.prototype.doVerifyNotText=function(locator,value){this.doAssertNotText(locator,value);};Selenium.prototype.doVerifyValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyTitle=function(value){if(__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error(`Element with locator ${locator} could not be found`);}else{throw error;}}};Selenium.prototype.doVerifyElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error(`Element with locator ${locator} was found`);}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};Selenium.prototype.doVerify=function(variableName,expected){return this.doAssert(variableName,expected);};Selenium.prototype.doAssert=function(variableName,expected){return new Promise((res,rej)=>{__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({getVar:true,variable:variableName}).then(actual=>{if(`${actual}`!=expected){return rej(\"Actual value '\"+actual+\"' did not match '\"+expected+\"'\");}return res();});});};Selenium.prototype.doAssertChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(!element.checked){throw new Error(`Element with locator ${locator} is not checked`);}};Selenium.prototype.doAssertNotChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(element.checked){throw new Error(`Element with locator ${locator} is checked`);}};Selenium.prototype.doAssertEditable=function(locator){if(!this.isEditable(locator)){throw new Error(`Element with locator ${locator} is not editable`);}};Selenium.prototype.doAssertNotEditable=function(locator){if(this.isEditable(locator)){throw new Error(`Element with locator ${locator} is editable`);}};Selenium.prototype.doAssertSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifySelectedLabel=function(selectLocator,value){let selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertSelectedLabel=function(selectLocator,value){let selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertNotSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.findElementVisible=function(locator){const element=this.browserbot.findElement(locator);if(!__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.isShown(element))throw new Error(`Element ${locator} not visible`);return element;};Selenium.prototype.doAssertText=function(locator,value){const element=this.findElementVisible(locator);const visibleText=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();if(visibleText!==value){throw new Error(`Actual value \"${visibleText}\" did not match \"${value}\"`);}};Selenium.prototype.doAssertNotText=function(locator,value){const element=this.findElementVisible(locator);const visibleText=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();if(visibleText===value){throw new Error(`Actual value \"${visibleText}\" did match \"${value}\"`);}};Selenium.prototype.doAssertValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertTitle=function(value){if(__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error(`Element with locator ${locator} could not be found`);}else{throw error;}}};Selenium.prototype.doAssertElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error(`Element with locator ${locator} was found`);}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};function throwIfNoVarNameProvided(varName){if(!varName){throw new Error('No variable name provided.');}}Selenium.prototype.doStore=function(value,varName){throwIfNoVarNameProvided(varName);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value,storeVar:varName});};Selenium.prototype.doStoreEval=function(){throw new Error('store eval is obsolete please migrate to execute script');};Selenium.prototype.doStoreJson=function(json,varName){throwIfNoVarNameProvided(varName);const result=JSON.parse(json);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:result,storeVar:varName});};Selenium.prototype.doStoreText=function(locator,varName){throwIfNoVarNameProvided(varName);let text;try{// Try to get the text if the element is visible\nconst element=this.findElementVisible(locator);text=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();}catch(e){// element is not visible, but it may be due to the fact that it has no text\nconst element=this.browserbot.findElement(locator);if(element.innerHTML===''){// element is empty then return empty string\ntext='';}else{// element has content this is indeed invisible\nthrow e;}}return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:text,storeVar:varName});};Selenium.prototype.doStoreValue=function(locator,varName){throwIfNoVarNameProvided(varName);let element=this.browserbot.findElement(locator);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:element.value.trim(),storeVar:varName});};Selenium.prototype.doStoreTitle=function(value,varName){throwIfNoVarNameProvided(varName);let doc=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getDocument();return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value||doc.title,storeVar:varName});};Selenium.prototype.doStoreXpathCount=function(xpath,varName){throwIfNoVarNameProvided(varName);let count=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:`${count}`||'0',storeVar:varName});};Selenium.prototype.doStoreAttribute=function(locator,varName){throwIfNoVarNameProvided(varName);let attributeValue=this.browserbot.findAttribute(locator);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:attributeValue,storeVar:varName});};function waitUntil(condition,target,timeout,failureMessage){if(!timeout){throw new Error('Timeout not specified.');}return new Promise(function(resolve,reject){let count=0;let retryInterval=100;let result;let interval=setInterval(function(){if(count>timeout){clearInterval(interval);reject(failureMessage);}try{result=condition(target);}catch(error){clearInterval(interval);reject(error.message);}if(!result){count+=retryInterval;}else if(result){clearInterval(interval);resolve();}},retryInterval);});}Selenium.prototype.doWaitForElementPresent=function(locator,timeout){return waitUntil(this.isElementPresent.bind(this),locator,timeout,'Unable to find the target element within the timeout specified.');};Selenium.prototype.doWaitForElementNotPresent=function(locator,timeout){return waitUntil(isElementNotPresent.bind(this),locator,timeout,'Element still present on the page within the timeout specified.');};Selenium.prototype.doWaitForElementVisible=function(locator,timeout){return waitUntil(isDisplayed.bind(this),locator,timeout,'Element not visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementNotVisible=function(locator,timeout){return waitUntil(isNotDisplayed.bind(this),locator,timeout,'Element still visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementEditable=function(locator,timeout){return waitUntil(isEditable.bind(this),locator,timeout,'Element not editable within the timeout specified.');};Selenium.prototype.doWaitForElementNotEditable=function(locator,timeout){return waitUntil(isNotEditable.bind(this),locator,timeout,'Element still editable within the timeout specified.');};// xian\nSelenium.prototype.doWaitPreparation=function(){// function setNewPageValue(e) {\n//     window.new_page = true;\n// };\n// window.addEventListener(\"beforeunload\", setNewPageValue, false);\n// if (window.XMLHttpRequest) {\n//     // only override XMLHttpRequest once\n//     if (!window.origXMLHttpRequest || !window.ajax_obj) {\n//         // it's new page, so set the new window's XMLHttpRequest, and all of the obj in the ajax_obj\n//         // are last window's instance, so clear it\n//         window.ajax_obj = [];\n//         window.origXMLHttpRequest = window.XMLHttpRequest;\n//         window.XMLHttpRequest = function() {\n//             var xhr = new window.origXMLHttpRequest();\n//             window.ajax_obj.push(xhr);\n//             return xhr;\n//         }\n//     }\n// }\n// function setDOMModifiedTime() {\n//     window.domModifiedTime = Date.now();\n// }\n// var _win = window.document.body;\n// _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);\nthis.eval('function setNewPageValue(e) {window.new_page = true;};\\\r\n                window.addEventListener(\"beforeunload\", setNewPageValue, false);\\\r\n                if (window.XMLHttpRequest) {if (!window.origXMLHttpRequest || !window.ajax_obj) {\\\r\n                window.ajax_obj = []; window.origXMLHttpRequest = window.XMLHttpRequest;\\\r\n                window.XMLHttpRequest = function() { var xhr = new window.origXMLHttpRequest();\\\r\n                window.ajax_obj.push(xhr); return xhr;}}} function setDOMModifiedTime() {\\\r\n                window.domModifiedTime = Date.now();}var _win = window.document.body;\\\r\n                _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\\\r\n                _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\\\r\n                _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\\\r\n                _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\\\r\n                _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);',[],false);};Selenium.prototype.doPrePageWait=function(){window.sideex_new_page=this.eval('(function() {return window.new_page;}())',[],false);};Selenium.prototype.doPageWait=function(){// if (window.document.readyState == \"complete\") {\n//     return true;\n// } else {\n//     return false;\n// }\nlet expression='if(window.document.readyState==\"complete\"){return true;}else{return false;}';window.sideex_page_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doAjaxWait=function(){// // check ajax wait\n// if (window.ajax_obj) {\n//     if (window.ajax_obj.length == 0) {\n//         return true;\n//     } else {\n//         for (var index in window.ajax_obj) {\n//         // if readyState is 1~3, then keep waiting\n//             if (window.ajax_obj[index].readyState !== 4 &&\n//                 window.ajax_obj[index].readyState !== undefined &&\n//                 window.ajax_obj[index].readyState !== 0) {\n//                     return false;\n//             }\n//         }\n//         return true;\n//     }\n// } else {\n//     if (window.origXMLHttpRequest) {\n//         window.origXMLHttpRequest = \"\";\n//     }\n//     return true;\n// }\nlet expression='if (window.ajax_obj) { if (window.ajax_obj.length == 0) {return true;} else {\\\r\n                      for (var index in window.ajax_obj) {\\\r\n                      if (window.ajax_obj[index].readyState !== 4 &&\\\r\n                      window.ajax_obj[index].readyState !== undefined &&\\\r\n                      window.ajax_obj[index].readyState !== 0) {return false;}}return true;}}\\\r\n                      else {if (window.origXMLHttpRequest) {window.origXMLHttpRequest = \"\";}return true;}';window.sideex_ajax_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doDomWait=function(){window.sideex_dom_time=this.eval('(function() {return window.domModifiedTime;}())',[],false);};Selenium.prototype.doClick=function(locator){/**\r\n   * Clicks on a link, button, checkbox or radio button. If the click action\r\n   * causes a new page to load (like a link usually does), call\r\n   * waitForPageToLoad.\r\n   *\r\n   * @param locator an element locator\r\n   *\r\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.click(element);};Selenium.prototype.doDoubleClick=function(locator){/**\r\n   * Double clicks on a link, button, checkbox or radio button. If the double click action\r\n   * causes a new page to load (like a link usually does), call\r\n   * waitForPageToLoad.\r\n   *\r\n   * @param locator an element locator\r\n   *\r\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.doubleClick(element);};Selenium.prototype.doContextMenu=function(locator){/**\r\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\r\n   *\r\n   * @param locator an element locator\r\n   *\r\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.rightClick(element);};Selenium.prototype.doClickAt=function(locator,coordString){/**\r\n   * Clicks on a link, button, checkbox or radio button. If the click action\r\n   * causes a new page to load (like a link usually does), call\r\n   * waitForPageToLoad.\r\n   *\r\n   * @param locator an element locator\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   *\r\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.click(element,coords);};Selenium.prototype.doDoubleClickAt=function(locator,coordString){/**\r\n   * Doubleclicks on a link, button, checkbox or radio button. If the action\r\n   * causes a new page to load (like a link usually does), call\r\n   * waitForPageToLoad.\r\n   *\r\n   * @param locator an element locator\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   *\r\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.doubleClick(element,coords);};Selenium.prototype.doContextMenuAt=function(locator,coordString){/**\r\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\r\n   *\r\n   * @param locator an element locator\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   *\r\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.rightClick(element,coords);};Selenium.prototype.doFocus=function(locator){/** Move the focus to the specified element; for example, if the element is an input field, move the cursor to that field.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);if(element.focus){element.focus();}else{__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);}};Selenium.prototype.doShiftKeyDown=function(){/**\r\n   * Press the shift key and hold it down until doShiftUp() is called or a new page is loaded.\r\n   *\r\n   */this.browserbot.shiftKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.shiftKeyDown_=true;};Selenium.prototype.doShiftKeyUp=function(){/**\r\n   * Release the shift key.\r\n   *\r\n   */this.browserbot.shiftKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.shiftKeyDown_=false;};Selenium.prototype.doMetaKeyDown=function(){/**\r\n   * Press the meta key and hold it down until doMetaUp() is called or a new page is loaded.\r\n   *\r\n   */this.browserbot.metaKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.metaKeyDown_=true;};Selenium.prototype.doMetaKeyUp=function(){/**\r\n   * Release the meta key.\r\n   *\r\n   */this.browserbot.metaKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.metaKeyDown_=false;};Selenium.prototype.doAltKeyDown=function(){/**\r\n   * Press the alt key and hold it down until doAltUp() is called or a new page is loaded.\r\n   *\r\n   */this.browserbot.altKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.altKeyDown_=true;};Selenium.prototype.doAltKeyUp=function(){/**\r\n   * Release the alt key.\r\n   *\r\n   */this.browserbot.altKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.altKeyDown_=false;};Selenium.prototype.doControlKeyDown=function(){/**\r\n   * Press the control key and hold it down until doControlUp() is called or a new page is loaded.\r\n   *\r\n   */this.browserbot.controlKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.controlKeyDown_=true;};Selenium.prototype.doControlKeyUp=function(){/**\r\n   * Release the control key.\r\n   *\r\n   */this.browserbot.controlKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.controlKeyDown_=false;};function getClientXY(element,coordString){// Parse coordString\nlet coords=null;let x;let y;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}// Get position of element,\n// Return 2 item array with clientX and clientY\nreturn[Selenium.prototype.getElementPositionLeft(element)+x,Selenium.prototype.getElementPositionTop(element)+y];}function getCoords(_element,coordString){// Parse coordString\nlet coords=null;let x;let y;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}return new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(x,y);}Selenium.prototype.prepareToInteract_=function(locator){let element=this.browserbot.findElement(locator);let rect=element.getBoundingClientRect();__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.prepareToInteractWith_(element,new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(rect.width/2,rect.height/2));return element.getBoundingClientRect();};Selenium.prototype.doMouseOver=function(locator){/**\r\n   * Simulates a user hovering a mouse over the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);let rect=element.getBoundingClientRect();__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.moveMouse(element,new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(rect.width/2,rect.height/2));};Selenium.prototype.doMouseOut=function(locator){/**\r\n   * Simulates a user moving the mouse pointer away from the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseout',true);};Selenium.prototype.doMouseDown=function(locator){/**\r\n   * Simulates a user pressing the left mouse button (without releasing it yet) on\r\n   * the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true);};Selenium.prototype.doMouseDownRight=function(locator){/**\r\n   * Simulates a user pressing the right mouse button (without releasing it yet) on\r\n   * the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseDownAt=function(locator,coordString){/**\r\n   * Simulates a user pressing the left mouse button (without releasing it yet) at\r\n   * the specified location.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseDownRightAt=function(locator,coordString){/**\r\n   * Simulates a user pressing the right mouse button (without releasing it yet) at\r\n   * the specified location.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUp=function(locator){/**\r\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\r\n   * holding the button down) on the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true);};Selenium.prototype.doMouseUpRight=function(locator){/**\r\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\r\n   * holding the button down) on the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUpAt=function(locator,coordString){/**\r\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\r\n   * holding the button down) at the specified location.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseUpRightAt=function(locator,coordString){/**\r\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\r\n   * holding the button down) at the specified location.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseMove=function(locator){/**\r\n   * Simulates a user pressing the mouse button (without releasing it yet) on\r\n   * the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousemove',true);};Selenium.prototype.doMouseMoveAt=function(locator,coordString){/**\r\n   * Simulates a user pressing the mouse button (without releasing it yet) on\r\n   * the specified element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\r\n   *      event relative to the element returned by the locator.\r\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientXY[0],clientXY[1]);};Selenium.prototype.doType=function(locator,value){/**\r\n   * Sets the value of an input field, as though you typed it in.\r\n   *\r\n   * <p>Can also be used to set the value of combo boxes, check boxes, etc. In these cases,\r\n   * value should be the value of the option selected, not the visible text.</p>\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param value the value to type\r\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,'');const type=element.type;if(type==='number'||type==='date'){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,value);}else{__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.type(element,value);if(element.value!==value){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,value);}}__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);};Selenium.prototype.doSendKeys=function(locator,value){/**\r\n   * *Experimental* Simulates keystroke events on the specified element, as though you typed the value key-by-key.\r\n   *\r\n   * <p>This simulates a real user typing every character in the specified string; it is also bound by the limitations of a\r\n   * real user, like not being able to type into a invisible or read only elements. This is useful for dynamic UI widgets\r\n   * (like auto-completing combo boxes) that require explicit key events.</p>\r\n   * <p>Unlike the simple \"type\" command, which forces the specified value into the page directly, this command will not\r\n   * replace the existing content. If you want to replace the existing contents, you need to use the simple \"type\" command to set the value of the\r\n   * field to empty string to clear the field and then the \"sendKeys\" command to send the keystroke for what you want\r\n   * to type.</p>\r\n   * <p>This command is experimental. It may replace the typeKeys command in the future.</p>\r\n   * <p>For those who are interested in the details, unlike the typeKeys command, which tries to\r\n   * fire the keyDown, the keyUp and the keyPress events, this command is backed by the atoms from Selenium 2 and provides a\r\n   * much more robust implementation that will be maintained in the future.</p>\r\n   *\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @param value the value to type\r\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}let element=this.browserbot.findElement(locator);let keys=this.replaceKeys(value);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.type(element,keys);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);};Selenium.prototype.doSetSpeed=function(){/**\r\n   * Set execution speed (i.e., set the millisecond length of a delay which will follow each selenium operation).  By default, there is no such delay, i.e.,\r\n   * the delay is 0 milliseconds.\r\n   *\r\n   * @param value the number of milliseconds to pause after operation\r\n   */throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.getSpeed=function(){/**\r\n   * Get execution speed (i.e., get the millisecond length of the delay following each selenium operation).  By default, there is no such delay, i.e.,\r\n   * the delay is 0 milliseconds.\r\n   *\r\n   * See also setSpeed.\r\n   *\r\n   * @return string the execution speed in milliseconds.\r\n   */throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.findToggleButton=function(locator){let element=this.browserbot.findElement(locator);if(element.checked==null){throw new Error('Element '+locator+' is not a toggle-button.');// eslint-disable-line no-undef\n}return element;};Selenium.prototype.doCheck=function(locator){/**\r\n   * Check a toggle-button (checkbox/radio)\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */this.findToggleButton(locator).checked=true;};Selenium.prototype.doUncheck=function(locator){/**\r\n   * Uncheck a toggle-button (checkbox/radio)\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   */this.findToggleButton(locator).checked=false;};Selenium.prototype.doSelect=function(selectLocator,optionLocator){/**\r\n   * Select an option from a drop-down using an option locator.\r\n   *\r\n   * <p>\r\n   * Option locators provide different ways of specifying options of an HTML\r\n   * Select element (e.g. for selecting a specific option, or for asserting\r\n   * that the selected option satisfies a specification). There are several\r\n   * forms of Select Option Locator.\r\n   * </p>\r\n   * <ul>\r\n   * <li><strong>label</strong>=<em>labelPattern</em>:\r\n   * matches options based on their labels, i.e. the visible text. (This\r\n   * is the default.)\r\n   * <ul class=\"first last simple\">\r\n   * <li>label=regexp:^[Oo]ther</li>\r\n   * </ul>\r\n   * </li>\r\n   * <li><strong>value</strong>=<em>valuePattern</em>:\r\n   * matches options based on their values.\r\n   * <ul class=\"first last simple\">\r\n   * <li>value=other</li>\r\n   * </ul>\r\n   *\r\n   *\r\n   * </li>\r\n   * <li><strong>id</strong>=<em>id</em>:\r\n   *\r\n   * matches options based on their ids.\r\n   * <ul class=\"first last simple\">\r\n   * <li>id=option1</li>\r\n   * </ul>\r\n   * </li>\r\n   * <li><strong>index</strong>=<em>index</em>:\r\n   * matches an option based on its index (offset from zero).\r\n   * <ul class=\"first last simple\">\r\n   *\r\n   * <li>index=2</li>\r\n   * </ul>\r\n   * </li>\r\n   * </ul>\r\n   * <p>\r\n   * If no option locator prefix is provided, the default behaviour is to match on <strong>label</strong>.\r\n   * </p>\r\n   *\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @param optionLocator an option locator (a label by default)\r\n   */let element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let locator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=locator.findOption(element);this.browserbot.selectOption(element,option);};Selenium.prototype.doAddSelection=function(locator,optionLocator){/**\r\n   * Add a selection to the set of selected options in a multi-select element using an option locator.\r\n   *\r\n   * @see #doSelect for details of option locators\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\r\n   * @param optionLocator an option locator (a label by default)\r\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=currLocator.findOption(element);this.browserbot.addSelection(element,option);};Selenium.prototype.doRemoveSelection=function(locator,optionLocator){/**\r\n   * Remove a selection from the set of selected options in a multi-select element using an option locator.\r\n   *\r\n   * @see #doSelect for details of option locators\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\r\n   * @param optionLocator an option locator (a label by default)\r\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=currLocator.findOption(element);this.browserbot.removeSelection(element,option);};Selenium.prototype.doRemoveAllSelections=function(locator){/**\r\n   * Unselects all of the selected options in a multi-select element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\r\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}for(let i=0;i<element.options.length;i++){this.browserbot.removeSelection(element,element.options[i]);}};Selenium.prototype.doSubmit=function(formLocator){/**\r\n   * Submit the specified form. This is particularly useful for forms without\r\n   * submit buttons, e.g. single-input \"Search\" forms.\r\n   *\r\n   * @param formLocator an <a href=\"#locators\">element locator</a> for the form you want to submit\r\n   */__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({log:{type:'warn',message:'submit is deprecated and will be removed from later versions of Selenium IDE, please re-record the step.'}});let form=this.browserbot.findElement(formLocator);return __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.submit(form);};Selenium.prototype.makePageLoadCondition=function(timeout){if(timeout==null){timeout=this.defaultTimeout;}// if the timeout is zero, we won't wait for the page to load before returning\nif(timeout==0){// abort XHR request\nthis._abortXhrRequest();return;}return Selenium.decorateFunctionWithTimeout(this._isNewPageLoaded.bind(this),timeout,this._abortXhrRequest.bind(this));};Selenium.prototype.doOpen=function(url,ignoreResponseCode){/**\r\n   * Opens an URL in the test frame. This accepts both relative and absolute\r\n   * URLs.\r\n   *\r\n   * The &quot;open&quot; command waits for the page to load before proceeding,\r\n   * ie. the &quot;AndWait&quot; suffix is implicit.\r\n   *\r\n   * <em>Note</em>: The URL must be on the same domain as the runner HTML\r\n   * due to security restrictions in the browser (Same Origin Policy). If you\r\n   * need to open an URL on another domain, use the Selenium Server to start a\r\n   * new browser session on that domain.\r\n   *\r\n   * @param url the URL to open; may be relative or absolute\r\n   * @param ignoreResponseCode (optional) turn off ajax head request functionality\r\n   *\r\n   */if(ignoreResponseCode==null||ignoreResponseCode.length==0){this.browserbot.ignoreResponseCode=true;}else if(ignoreResponseCode.toLowerCase()=='true'){this.browserbot.ignoreResponseCode=true;}else{this.browserbot.ignoreResponseCode=false;}this.browserbot.openLocation(url);if(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition();}// in PI mode, just return \"OK\"; the server will waitForLoad\n};Selenium.prototype.doOpenWindow=function(url,windowID){/**\r\n   * Opens a popup window (if a window with that ID isn't already open).\r\n   * After opening the window, you'll need to select it using the selectWindow\r\n   * command.\r\n   *\r\n   * <p>This command can also be a useful workaround for bug SEL-339.  In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\r\n   * In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\r\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\r\n   *\r\n   * @param url the URL to open, which can be blank\r\n   * @param windowID the JavaScript window ID of the window to select\r\n   */this.browserbot.openWindow(url,windowID);};Selenium.prototype.doSelectWindow=function(windowID){/**\r\n   * Selects a popup window using a window locator; once a popup window has been selected, all\r\n   * commands go to that window. To select the main window again, use null\r\n   * as the target.\r\n   *\r\n   * <p>\r\n   *\r\n   * Window locators provide different ways of specifying the window object:\r\n   * by title, by internal JavaScript \"name,\" or by JavaScript variable.\r\n   * </p>\r\n   * <ul>\r\n   * <li><strong>title</strong>=<em>My Special Window</em>:\r\n   * Finds the window using the text that appears in the title bar.  Be careful;\r\n   * two windows can share the same title.  If that happens, this locator will\r\n   * just pick one.\r\n   * </li>\r\n   * <li><strong>name</strong>=<em>myWindow</em>:\r\n   * Finds the window using its internal JavaScript \"name\" property.  This is the second\r\n   * parameter \"windowName\" passed to the JavaScript method window.open(url, windowName, windowFeatures, replaceFlag)\r\n   * (which Selenium intercepts).\r\n   * </li>\r\n   * <li><strong>var</strong>=<em>variableName</em>:\r\n   * Some pop-up windows are unnamed (anonymous), but are associated with a JavaScript variable name in the current\r\n   * application window, e.g. \"window.foo = window.open(url);\".  In those cases, you can open the window using\r\n   * \"var=foo\".\r\n   * </li>\r\n   * </ul>\r\n   * <p>\r\n   * If no window locator prefix is provided, we'll try to guess what you mean like this:</p>\r\n   * <p>1.) if windowID is null, (or the string \"null\") then it is assumed the user is referring to the original window instantiated by the browser).</p>\r\n   * <p>2.) if the value of the \"windowID\" parameter is a JavaScript variable name in the current application window, then it is assumed\r\n   * that this variable contains the return value from a call to the JavaScript window.open() method.</p>\r\n   * <p>3.) Otherwise, selenium looks in a hash it maintains that maps string names to window \"names\".</p>\r\n   * <p>4.) If <em>that</em> fails, we'll try looping over all of the known windows to try to find the appropriate \"title\".\r\n   * Since \"title\" is not necessarily unique, this may have unexpected behavior.</p>\r\n   *\r\n   * <p>If you're having trouble figuring out the name of a window that you want to manipulate, look at the Selenium log messages\r\n   * which identify the names of windows created via window.open (and therefore intercepted by Selenium).  You will see messages\r\n   * like the following for each window as it is opened:</p>\r\n   *\r\n   * <p><code>debug: window.open call intercepted; window ID (which you can use with selectWindow()) is \"myNewWindow\"</code></p>\r\n   *\r\n   * <p>In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\r\n   * (This is bug SEL-339.)  In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\r\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\r\n   *\r\n   * @param windowID the JavaScript window ID of the window to select\r\n   */this.browserbot.selectWindow(windowID);};Selenium.prototype.doSelectPopUp=function(windowID){/**\r\n   * Simplifies the process of selecting a popup window (and does not offer\r\n   * functionality beyond what <code>selectWindow()</code> already provides).\r\n   * <ul>\r\n   * <li>If <code>windowID</code> is either not specified, or specified as\r\n   * \"null\", the first non-top window is selected. The top window is the one\r\n   * that would be selected by <code>selectWindow()</code> without providing a\r\n   * <code>windowID</code> . This should not be used when more than one popup\r\n   * window is in play.</li>\r\n   * <li>Otherwise, the window will be looked up considering\r\n   * <code>windowID</code> as the following in order: 1) the \"name\" of the\r\n   * window, as specified to <code>window.open()</code>; 2) a javascript\r\n   * variable which is a reference to a window; and 3) the title of the\r\n   * window. This is the same ordered lookup performed by\r\n   * <code>selectWindow</code> .</li>\r\n   * </ul>\r\n   *\r\n   * @param windowID  an identifier for the popup window, which can take on a\r\n   *                  number of different meanings\r\n   */this.browserbot.selectPopUp(windowID);};Selenium.prototype.doDeselectPopUp=function(){/**\r\n   * Selects the main window. Functionally equivalent to using\r\n   * <code>selectWindow()</code> and specifying no value for\r\n   * <code>windowID</code>.\r\n   */this.browserbot.selectWindow();};Selenium.prototype.doSelectFrame=function(locator){/**\r\n   * Selects a frame within the current window.  (You may invoke this command\r\n   * multiple times to select nested frames.)  To select the parent frame, use\r\n   * \"relative=parent\" as a locator; to select the top frame, use \"relative=top\".\r\n   * You can also select a frame by its 0-based index number; select the first frame with\r\n   * \"index=0\", or the third frame with \"index=2\".\r\n   *\r\n   * <p>You may also use a DOM expression to identify the frame you want directly,\r\n   * like this: <code>dom=frames[\"main\"].frames[\"subframe\"]</code></p>\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a frame or iframe\r\n   */this.browserbot.selectFrame(locator);};Selenium.prototype.getWhetherThisFrameMatchFrameExpression=function(currentFrameString,target){/**\r\n   * Determine whether current/locator identify the frame containing this running code.\r\n   *\r\n   * <p>This is useful in proxy injection mode, where this code runs in every\r\n   * browser frame and window, and sometimes the selenium server needs to identify\r\n   * the \"current\" frame.  In this case, when the test calls selectFrame, this\r\n   * routine is called for each frame to figure out which one has been selected.\r\n   * The selected frame will return true, while all others will return false.</p>\r\n   *\r\n   * @param currentFrameString starting frame\r\n   * @param target new frame (which might be relative to the current one)\r\n   * @return boolean true if the new frame is this code's window\r\n   */return this.browserbot.doesThisFrameMatchFrameExpression(currentFrameString,target);};Selenium.prototype.getWhetherThisWindowMatchWindowExpression=function(_currentWindowString,target){/**\r\n   * Determine whether currentWindowString plus target identify the window containing this running code.\r\n   *\r\n   * <p>This is useful in proxy injection mode, where this code runs in every\r\n   * browser frame and window, and sometimes the selenium server needs to identify\r\n   * the \"current\" window.  In this case, when the test calls selectWindow, this\r\n   * routine is called for each window to figure out which one has been selected.\r\n   * The selected window will return true, while all others will return false.</p>\r\n   *\r\n   * @param currentWindowString starting window\r\n   * @param target new window (which might be relative to the current one, e.g., \"_parent\")\r\n   * @return boolean true if the new window is this code's window\r\n   */if(window.opener!=null&&window.opener[target]!=null&&window.opener[target]==window){return true;}return false;};Selenium.prototype.doWaitForPopUp=function(windowID,timeout){/**\r\n   * Waits for a popup window to appear and load up.\r\n   *\r\n   * @param windowID the JavaScript window \"name\" of the window that will appear (not the text of the title bar)\r\n   *                 If unspecified, or specified as \"null\", this command will\r\n   *                 wait for the first non-top window to appear (don't rely\r\n   *                 on this if you are working with multiple popups\r\n   *                 simultaneously).\r\n   * @param timeout a timeout in milliseconds, after which the action will return with an error.\r\n   *                If this value is not specified, the default Selenium\r\n   *                timeout will be used. See the setTimeout() command.\r\n   */if(!timeout){timeout=this.defaultTimeout;}let timeoutTime=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"d\" /* getTimeoutTime */])(timeout);let popupLoadedPredicate=function(){let targetWindow;try{if(windowID&&windowID!='null'){targetWindow=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getWindowByName(windowID,true);}else{let names=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getNonTopWindowNames();targetWindow=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getWindowByName(names[0],true);}}catch(e){if(new Date().getTime()>timeoutTime){throw e;}}if(!targetWindow)return false;try{if(!targetWindow.location)return false;if('about:blank'==targetWindow.location)return false;}catch(e){//LOG.debug(\"Location exception (\" + e.message + \")!\");\nreturn false;}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isKonqueror){if('/'==targetWindow.location.href){// apparently Konqueror uses this as the temporary location, instead of about:blank\nreturn false;}}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isSafari){if(targetWindow.location.href==__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.buttonWindow.location.href){// Apparently Safari uses this as the temporary location, instead of about:blank\n// what a world!\n//LOG.debug(\"DGF what a world!\");\nreturn false;}}if(!targetWindow.document)return false;if(!__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getCurrentWindow().document.readyState){// This is Firefox, with no readyState extension\nreturn true;}if('complete'!=targetWindow.document.readyState)return false;return true;};return Selenium.decorateFunctionWithTimeout(popupLoadedPredicate,timeout);};Selenium.prototype.doWaitForPopUp.dontCheckAlertsAndConfirms=true;//Selenium.prototype.doChooseCancelOnNextConfirmation = function() {\n/**\r\n * <p>\r\n * By default, Selenium's overridden window.confirm() function will\r\n * return true, as if the user had manually clicked OK; after running\r\n * this command, the next call to confirm() will return false, as if\r\n * the user had clicked Cancel.  Selenium will then resume using the\r\n * default behavior for future confirmations, automatically returning\r\n * true (OK) unless/until you explicitly call this command for each\r\n * confirmation.\r\n * </p>\r\n * <p>\r\n * Take note - every time a confirmation comes up, you must\r\n * consume it with a corresponding getConfirmation, or else\r\n * the next selenium operation will fail.\r\n * </p>\r\n */ //this.browserbot.cancelNextConfirmation(false);\n//};\n//Selenium.prototype.doChooseOkOnNextConfirmation = function() {\n/**\r\n * <p>\r\n * Undo the effect of calling chooseCancelOnNextConfirmation.  Note\r\n * that Selenium's overridden window.confirm() function will normally automatically\r\n * return true, as if the user had manually clicked OK, so you shouldn't\r\n * need to use this command unless for some reason you need to change\r\n * your mind prior to the next confirmation.  After any confirmation, Selenium will resume using the\r\n * default behavior for future confirmations, automatically returning\r\n * true (OK) unless/until you explicitly call chooseCancelOnNextConfirmation for each\r\n * confirmation.\r\n * </p>\r\n * <p>\r\n * Take note - every time a confirmation comes up, you must\r\n * consume it with a corresponding getConfirmation, or else\r\n * the next selenium operation will fail.\r\n * </p>\r\n *\r\n */ //this.browserbot.cancelNextConfirmation(true);\n//};\n//Selenium.prototype.doAnswerOnNextPrompt = function(answer) {\n/**\r\n * Instructs Selenium to return the specified answer string in response to\r\n * the next JavaScript prompt [window.prompt()].\r\n *\r\n *\r\n * @param answer the answer to give in response to the prompt pop-up\r\n */ //this.browserbot.setNextPromptResult(answer);\n//};\nSelenium.prototype.doGoBack=function(){/**\r\n   * Simulates the user clicking the \"back\" button on their browser.\r\n   *\r\n   */this.browserbot.goBack();};Selenium.prototype.doRefresh=function(){/**\r\n   * Simulates the user clicking the \"Refresh\" button on their browser.\r\n   *\r\n   */this.browserbot.refresh();};Selenium.prototype.doClose=function(){/**\r\n   * Simulates the user clicking the \"close\" button in the titlebar of a popup\r\n   * window or tab.\r\n   */this.browserbot.close();};Selenium.prototype.ensureNoUnhandledPopups=function(){if(this.browserbot.hasAlerts()){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('There was an unexpected Alert! ['+this.browserbot.getNextAlert()+']');}if(this.browserbot.hasConfirmations()){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('There was an unexpected Confirmation! ['+this.browserbot.getNextConfirmation()+']');}};Selenium.prototype.isAlertPresent=function(){/**\r\n   * Has an alert occurred?\r\n   *\r\n   * <p>\r\n   * This function never throws an exception\r\n   * </p>\r\n   * @return boolean true if there is an alert\r\n   */return this.browserbot.hasAlerts();};Selenium.prototype.isPromptPresent=function(){/**\r\n   * Has a prompt occurred?\r\n   *\r\n   * <p>\r\n   * This function never throws an exception\r\n   * </p>\r\n   * @return boolean true if there is a pending prompt\r\n   */return this.browserbot.hasPrompts();};Selenium.prototype.isConfirmationPresent=function(){/**\r\n   * Has confirm() been called?\r\n   *\r\n   * <p>\r\n   * This function never throws an exception\r\n   * </p>\r\n   * @return boolean true if there is a pending confirmation\r\n   */return this.browserbot.hasConfirmations();};Selenium.prototype.getAlert=function(){/**\r\n     * Retrieves the message of a JavaScript alert generated during the previous action, or fail if there were no alerts.\r\n     *\r\n     * <p>Getting an alert has the same effect as manually clicking OK. If an\r\n     * alert is generated but you do not consume it with getAlert, the next Selenium action\r\n     * will fail.</p>\r\n     *\r\n     * <p>Under Selenium, JavaScript alerts will NOT pop up a visible alert\r\n     * dialog.</p>\r\n     *\r\n     * <p>Selenium does NOT support JavaScript alerts that are generated in a\r\n     * page's onload() event handler. In this case a visible dialog WILL be\r\n     * generated and Selenium will hang until someone manually clicks OK.</p>\r\n     * @return string The message of the most recent JavaScript alert\r\n\r\n     */if(!this.browserbot.hasAlerts()){Assert.fail('There were no alerts');// eslint-disable-line no-undef\n}return this.browserbot.getNextAlert();};Selenium.prototype.getAlert.dontCheckAlertsAndConfirms=true;Selenium.prototype.getConfirmation=function(){/**\r\n   * Retrieves the message of a JavaScript confirmation dialog generated during\r\n   * the previous action.\r\n   *\r\n   * <p>\r\n   * By default, the confirm function will return true, having the same effect\r\n   * as manually clicking OK. This can be changed by prior execution of the\r\n   * chooseCancelOnNextConfirmation command.\r\n   * </p>\r\n   * <p>\r\n   * If an confirmation is generated but you do not consume it with getConfirmation,\r\n   * the next Selenium action will fail.\r\n   * </p>\r\n   *\r\n   * <p>\r\n   * NOTE: under Selenium, JavaScript confirmations will NOT pop up a visible\r\n   * dialog.\r\n   * </p>\r\n   *\r\n   * <p>\r\n   * NOTE: Selenium does NOT support JavaScript confirmations that are\r\n   * generated in a page's onload() event handler. In this case a visible\r\n   * dialog WILL be generated and Selenium will hang until you manually click\r\n   * OK.\r\n   * </p>\r\n   *\r\n   * @return string the message of the most recent JavaScript confirmation dialog\r\n   */if(!this.browserbot.hasConfirmations()){Assert.fail('There were no confirmations');// eslint-disable-line no-undef\n}return this.browserbot.getNextConfirmation();};Selenium.prototype.getConfirmation.dontCheckAlertsAndConfirms=true;Selenium.prototype.getPrompt=function(){/**\r\n   * Retrieves the message of a JavaScript question prompt dialog generated during\r\n   * the previous action.\r\n   *\r\n   * <p>Successful handling of the prompt requires prior execution of the\r\n   * answerOnNextPrompt command. If a prompt is generated but you\r\n   * do not get/verify it, the next Selenium action will fail.</p>\r\n   *\r\n   * <p>NOTE: under Selenium, JavaScript prompts will NOT pop up a visible\r\n   * dialog.</p>\r\n   *\r\n   * <p>NOTE: Selenium does NOT support JavaScript prompts that are generated in a\r\n   * page's onload() event handler. In this case a visible dialog WILL be\r\n   * generated and Selenium will hang until someone manually clicks OK.</p>\r\n   * @return string the message of the most recent JavaScript question prompt\r\n   */if(!this.browserbot.hasPrompts()){Assert.fail('There were no prompts');// eslint-disable-line no-undef\n}return this.browserbot.getNextPrompt();};Selenium.prototype.getLocation=function(){/** Gets the absolute URL of the current page.\r\n   *\r\n   * @return string the absolute URL of the current page\r\n   */return this.browserbot.getCurrentWindow().location.href;};Selenium.prototype.getTitle=function(){/** Gets the title of the current page.\r\n   *\r\n   * @return string the title of the current page\r\n   */return this.browserbot.getTitle();};Selenium.prototype.getBodyText=function(){/**\r\n   * Gets the entire text of the page.\r\n   * @return string the entire text of the page\r\n   */return this.browserbot.bodyText();};Selenium.prototype.getValue=function(locator){/**\r\n   * Gets the (whitespace-trimmed) value of an input field (or anything else with a value parameter).\r\n   * For checkbox/radio elements, the value will be \"on\" or \"off\" depending on\r\n   * whether the element is checked or not.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @return string the element value, or \"on/off\" for checkbox/radio elements\r\n   */let element=this.browserbot.findElement(locator);return element.value.trim();};Selenium.prototype.getText=function(locator){/**\r\n   * Gets the text of an element. This works for any element that contains\r\n   * text. This command uses either the textContent (Mozilla-like browsers) or\r\n   * the innerText (IE-like browsers) of the element, which is the rendered\r\n   * text shown to the user.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @return string the text of the element\r\n   */let element=this.browserbot.findElement(locator);return __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();};Selenium.prototype.getEval=function(script){/** Gets the result of evaluating the specified JavaScript snippet.  The snippet may\r\n   * have multiple lines, but only the result of the last line will be returned.\r\n   *\r\n   * <p>Note that, by default, the snippet will run in the context of the \"selenium\"\r\n   * object itself, so <code>this</code> will refer to the Selenium object.  Use <code>window</code> to\r\n   * refer to the window of your application, e.g. <code>window.document.getElementById('foo')</code></p>\r\n   *\r\n   * <p>If you need to use\r\n   * a locator to refer to a single element in your application page, you can\r\n   * use <code>this.browserbot.findElement(\"id=foo\")</code> where \"id=foo\" is your locator.</p>\r\n   *\r\n   * @param script the JavaScript snippet to run\r\n   * @return string the results of evaluating the snippet\r\n   */try{//LOG.info('script is: ' + script);\nlet result=this.eval(script);// Selenium RC doesn't allow returning null\nif(null==result)return'null';return result;}catch(e){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Threw an exception: '+Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"b\" /* extractExceptionMessage */])(e));}};Selenium.prototype.isChecked=function(locator){/**\r\n   * Gets whether a toggle-button (checkbox/radio) is checked.  Fails if the specified element doesn't exist or isn't a toggle-button.\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to a checkbox or radio button\r\n   * @return boolean true if the checkbox is checked, false otherwise\r\n   */let element=this.browserbot.findElement(locator);if(element.checked==null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Element '+locator+' is not a toggle-button.');}return element.checked;};Selenium.prototype.getTable=function(tableCellAddress){/**\r\n   * Gets the text from a cell of a table. The cellAddress syntax\r\n   * tableLocator.row.column, where row and column start at 0.\r\n   *\r\n   * @param tableCellAddress a cell address, e.g. \"foo.1.4\"\r\n   * @return string the text from the specified cell\r\n   */ // This regular expression matches \"tableName.row.column\"\n// For example, \"mytable.3.4\"\nlet pattern=/(.*)\\.(\\d+)\\.(\\d+)/;if(!pattern.test(tableCellAddress)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Invalid target format. Correct format is tableName.rowNum.columnNum');}let pieces=tableCellAddress.match(pattern);let tableName=pieces[1];let row=pieces[2];let col=pieces[3];let table=this.browserbot.findElement(tableName);if(row>table.rows.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access row '+row+' - table has '+table.rows.length+' rows');}else if(col>table.rows[row].cells.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access column '+col+' - table row has '+table.rows[row].cells.length+' columns');}else{let actualContent=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(table.rows[row].cells[col]);return actualContent.trim();}return null;};Selenium.prototype.getSelectedLabels=function(selectLocator){/** Gets all option labels (visible text) for selected options in the specified select or multi-select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string[] an array of all selected option labels in the specified select drop-down\r\n   */return this.findSelectedOptionProperties(selectLocator,'text');};Selenium.prototype.getSelectedLabel=function(selectLocator){/** Gets option label (visible text) for selected option in the specified select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string the selected option label in the specified select drop-down\r\n   */return this.findSelectedOptionProperty(selectLocator,'text');};Selenium.prototype.getSelectedValues=function(selectLocator){/** Gets all option values (value attributes) for selected options in the specified select or multi-select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string[] an array of all selected option values in the specified select drop-down\r\n   */return this.findSelectedOptionProperties(selectLocator,'value');};Selenium.prototype.getSelectedValue=function(selectLocator){/** Gets option value (value attribute) for selected option in the specified select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string the selected option value in the specified select drop-down\r\n   */return this.findSelectedOptionProperty(selectLocator,'value');};Selenium.prototype.getSelectedIndexes=function(selectLocator){/** Gets all option indexes (option number, starting at 0) for selected options in the specified select or multi-select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string[] an array of all selected option indexes in the specified select drop-down\r\n   */return this.findSelectedOptionProperties(selectLocator,'index');};Selenium.prototype.getSelectedIndex=function(selectLocator){/** Gets option index (option number, starting at 0) for selected option in the specified select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string the selected option index in the specified select drop-down\r\n   */return this.findSelectedOptionProperty(selectLocator,'index');};Selenium.prototype.getSelectedIds=function(selectLocator){/** Gets all option element IDs for selected options in the specified select or multi-select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string[] an array of all selected option IDs in the specified select drop-down\r\n   */return this.findSelectedOptionProperties(selectLocator,'id');};Selenium.prototype.getSelectedId=function(selectLocator){/** Gets option element ID for selected option in the specified select element.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string the selected option ID in the specified select drop-down\r\n   */return this.findSelectedOptionProperty(selectLocator,'id');};Selenium.prototype.isSomethingSelected=function(selectLocator){/** Determines whether some option in a drop-down menu is selected.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return boolean true if some option has been selected, false otherwise\r\n   */let element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}for(let i=0;i<element.options.length;i++){if(element.options[i].selected){return true;}}return false;};Selenium.prototype.findSelectedOptionProperties=function(locator,property){let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let selectedOptions=[];for(let i=0;i<element.options.length;i++){if(element.options[i].selected){let propVal=element.options[i][property];selectedOptions.push(propVal);}}if(selectedOptions.length==0)Assert.fail('No option selected');// eslint-disable-line no-undef\nreturn selectedOptions;};Selenium.prototype.findSelectedOptionProperty=function(locator,property){let selectedOptions=this.findSelectedOptionProperties(locator,property);if(selectedOptions.length>1){Assert.fail('More than one selected option!');// eslint-disable-line no-undef\n}return selectedOptions[0];};Selenium.prototype.getSelectOptions=function(selectLocator){/** Gets all option labels in the specified select drop-down.\r\n   *\r\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\r\n   * @return string[] an array of all option labels in the specified select drop-down\r\n   */let element=this.browserbot.findElement(selectLocator);let selectOptions=[];for(let i=0;i<element.options.length;i++){let option=element.options[i].text;selectOptions.push(option);}return selectOptions;};Selenium.prototype.getAttribute=function(attributeLocator){/**\r\n   * Gets the value of an element attribute. The value of the attribute may\r\n   * differ across browsers (this is the case for the \"style\" attribute, for\r\n   * example).\r\n   *\r\n   * @param attributeLocator an element locator followed by an &#064; sign and then the name of the attribute, e.g. \"foo&#064;bar\"\r\n   * @return string the value of the specified attribute\r\n   */let result=this.browserbot.findAttribute(attributeLocator);if(result==null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Could not find element attribute: '+attributeLocator);}return result;};Selenium.prototype.isTextPresent=function(pattern){/**\r\n   * Verifies that the specified text pattern appears somewhere on the rendered page shown to the user.\r\n   * @param pattern a <a href=\"#patterns\">pattern</a> to match with the text of the page\r\n   * @return boolean true if the pattern matches the text, false otherwise\r\n   */let allText=this.browserbot.bodyText();let patternMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](pattern);if(patternMatcher.strategy==__WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.glob){if(pattern.indexOf('glob:')==0){pattern=pattern.substring('glob:'.length);// strip off \"glob:\"\n}patternMatcher.matcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.globContains(pattern);}else if(patternMatcher.strategy==__WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.exact){pattern=pattern.substring('exact:'.length);// strip off \"exact:\"\nreturn allText.indexOf(pattern)!=-1;}return patternMatcher.matches(allText);};function isElementNotPresent(locator){return!this.isElementPresent(locator);}Selenium.prototype.isElementPresent=function(locator){/**\r\n   * Verifies that the specified element is somewhere on the page.\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @return boolean true if the element is present, false otherwise\r\n   */let element=this.browserbot.findElementOrNull(locator);if(element==null){return false;}return true;};function unableToLocateTargetElementError(){throw new Error('Unable to locate target element.');}function isNotDisplayed(locator){try{return!this.isVisible(locator);}catch(error){unableToLocateTargetElementError();}}function isDisplayed(locator){try{return this.isVisible(locator);}catch(error){return false;}}Selenium.prototype.isVisible=function(locator){/**\r\n   * Determines if the specified element is visible. An\r\n   * element can be rendered invisible by setting the CSS \"visibility\"\r\n   * property to \"hidden\", or the \"display\" property to \"none\", either for the\r\n   * element itself or one if its ancestors.  This method will fail if\r\n   * the element is not present.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @return boolean true if the specified element is visible, false otherwise\r\n   */let element;element=this.browserbot.findElement(locator);// DGF if it's an input tag of type \"hidden\" then it's not visible\nif(element.tagName){let tagName=new String(element.tagName).toLowerCase();if(tagName=='input'){if(element.type){let elementType=new String(element.type).toLowerCase();if(elementType=='hidden'){return false;}}}}let visibility=this.findEffectiveStyleProperty(element,'visibility');let _isDisplayed=this._isDisplayed(element);return visibility!='hidden'&&_isDisplayed;};Selenium.prototype.findEffectiveStyleProperty=function(element,property){let effectiveStyle=this.findEffectiveStyle(element);let propertyValue=effectiveStyle[property];if(propertyValue=='inherit'&&element.parentNode.style){return this.findEffectiveStyleProperty(element.parentNode,property);}return propertyValue;};Selenium.prototype._isDisplayed=function(element){let display=this.findEffectiveStyleProperty(element,'display');if(display=='none')return false;if(element.parentNode.style){return this._isDisplayed(element.parentNode);}return true;};Selenium.prototype.findEffectiveStyle=function(element){if(element.style==undefined){return undefined;// not a styled element\n}let window=this.browserbot.getCurrentWindow();if(window.getComputedStyle){// DOM-Level-2-CSS\nreturn window.getComputedStyle(element,null);}if(element.currentStyle){// non-standard IE alternative\nreturn element.currentStyle;// TODO: this won't really work in a general sense, as\n//   currentStyle is not identical to getComputedStyle()\n//   ... but it's good enough for \"visibility\"\n}if(window.document.defaultView&&window.document.defaultView.getComputedStyle){return window.document.defaultView.getComputedStyle(element,null);}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('cannot determine effective stylesheet in this browser');};function isEditable(locator){try{return this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}function isNotEditable(locator){try{return!this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}Selenium.prototype.isEditable=function(locator){/**\r\n   * Determines whether the specified input element is editable, ie hasn't been disabled.\r\n   * This method will fail if the specified element isn't an input element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a>\r\n   * @return boolean true if the input element is editable, false otherwise\r\n   */let element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(element.disabled){return false;}// DGF \"readonly\" is a bit goofy... it doesn't necessarily have a value\n// You can write <input readonly value=\"black\">\nlet readOnlyNode=element.getAttributeNode('readonly');if(readOnlyNode){// DGF on IE, every input element has a readOnly node, but it may be false\nif(typeof readOnlyNode.nodeValue=='boolean'){let readOnly=readOnlyNode.nodeValue;if(readOnly){return false;}}else{return false;}}return true;};Selenium.prototype.getAllButtons=function(){/** Returns the IDs of all buttons on the page.\r\n   *\r\n   * <p>If a given button has no ID, it will appear as \"\" in this array.</p>\r\n   *\r\n   * @return string[] the IDs of all buttons on the page\r\n   */return this.browserbot.getAllButtons();};Selenium.prototype.getAllLinks=function(){/** Returns the IDs of all links on the page.\r\n   *\r\n   * <p>If a given link has no ID, it will appear as \"\" in this array.</p>\r\n   *\r\n   * @return string[] the IDs of all links on the page\r\n   */return this.browserbot.getAllLinks();};Selenium.prototype.getAllFields=function(){/** Returns the IDs of all input fields on the page.\r\n   *\r\n   * <p>If a given field has no ID, it will appear as \"\" in this array.</p>\r\n   *\r\n   * @return string[] the IDs of all field on the page\r\n   */return this.browserbot.getAllFields();};Selenium.prototype.doSetMouseSpeed=function(pixels){/** Configure the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\r\n   * <p>Setting this value to 0 means that we'll send a \"mousemove\" event to every single pixel\r\n   * in between the start location and the end location; that can be very slow, and may\r\n   * cause some browsers to force the JavaScript to timeout.</p>\r\n   *\r\n   * <p>If the mouse speed is greater than the distance between the two dragged objects, we'll\r\n   * just send one \"mousemove\" at the start location and then one final one at the end location.</p>\r\n   * @param pixels the number of pixels between \"mousemove\" events\r\n   */let intValue=new Number(pixels);if(intValue.constructor!=Number||intValue<0){this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;}else{this.mouseSpeed=pixels;}};Selenium.prototype.getMouseSpeed=function(){/** Returns the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\r\n   *\r\n   * @return number the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10)\r\n   */return this.mouseSpeed;};Selenium.prototype.doDragAndDrop=function(locator,movementsString){/** Drags an element a certain distance and then drops it\r\n   * @param locator an element locator\r\n   * @param movementsString offset in pixels from the current location to which the element should be moved, e.g., \"+70,-300\"\r\n   */let element=this.browserbot.findElement(locator);let clientStartXY=getClientXY(element);let clientStartX=clientStartXY[0];let clientStartY=clientStartXY[1];let movements=movementsString.split(/,/);let movementX=Number(movements[0]);let movementY=Number(movements[1]);let clientFinishX=clientStartX+movementX<0?0:clientStartX+movementX;let clientFinishY=clientStartY+movementY<0?0:clientStartY+movementY;let mouseSpeed=this.mouseSpeed;let move=function(current,dest){if(current==dest)return current;if(Math.abs(current-dest)<mouseSpeed)return dest;return current<dest?current+mouseSpeed:current-mouseSpeed;};this.browserbot.triggerMouseEvent(element,'mousedown',true,clientStartX,clientStartY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientStartX,clientStartY);let clientX=clientStartX;let clientY=clientStartY;while(clientX!=clientFinishX||clientY!=clientFinishY){clientX=move(clientX,clientFinishX);clientY=move(clientY,clientFinishY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientX,clientY);}this.browserbot.triggerMouseEvent(element,'mousemove',true,clientFinishX,clientFinishY);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientFinishX,clientFinishY);};Selenium.prototype.doDragAndDropToObject=function(locatorOfObjectToBeDragged,locatorOfDragDestinationObject){/** Drags an element and drops it on another element\r\n   *\r\n   * @param locatorOfObjectToBeDragged an element to be dragged\r\n   * @param locatorOfDragDestinationObject an element whose location (i.e., whose center-most pixel) will be the point where locatorOfObjectToBeDragged  is dropped\r\n   */if(!this.browserbot.findElement(locatorOfObjectToBeDragged).draggable){//origin code\nlet startX=this.getElementPositionLeft(locatorOfObjectToBeDragged);let startY=this.getElementPositionTop(locatorOfObjectToBeDragged);let destinationLeftX=this.getElementPositionLeft(locatorOfDragDestinationObject);let destinationTopY=this.getElementPositionTop(locatorOfDragDestinationObject);let destinationWidth=this.getElementWidth(locatorOfDragDestinationObject);let destinationHeight=this.getElementHeight(locatorOfDragDestinationObject);let endX=Math.round(destinationLeftX+destinationWidth/2);let endY=Math.round(destinationTopY+destinationHeight/2);let deltaX=endX-startX;let deltaY=endY-startY;let movementsString=''+deltaX+','+deltaY;this.doDragAndDrop(locatorOfObjectToBeDragged,movementsString);}else{//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/09/29\nlet element=this.browserbot.findElement(locatorOfObjectToBeDragged);let target=this.browserbot.findElement(locatorOfDragDestinationObject);this.browserbot.triggerDragEvent(element,target);}};Selenium.prototype.doWindowFocus=function(){/** Gives focus to the currently selected window\r\n   *\r\n   */this.browserbot.getCurrentWindow().focus();};Selenium.prototype.doWindowMaximize=function(){/** Resize currently selected window to take up the entire screen\r\n   *\r\n   */let window=this.browserbot.getCurrentWindow();if(window!=null&&window.screen){window.moveTo(0,0);// It appears Firefox on Mac won't move a window to (0,0).  But, you can move it to (0,1), which\n// seems to do basically the same thing.  In my (KJM - 6/20/10) tests, anything less than (0, 22)\n// pushed the browser to (0,0), so it seems it's improperly accounting for something in the browser chrome.\nif(window.screenX!=0){window.moveTo(0,1);}window.resizeTo(screen.availWidth,screen.availHeight);}};Selenium.prototype.getHtmlSource=function(){/** Returns the entire HTML source between the opening and\r\n   * closing \"html\" tags.\r\n   *\r\n   * @return string the entire HTML source\r\n   */return this.browserbot.getDocument().getElementsByTagName('html')[0].innerHTML;};Selenium.prototype.doSetCursorPosition=function(locator,position){/**\r\n   * Moves the text cursor to the specified position in the given input element or textarea.\r\n   * This method will fail if the specified element isn't an input element or textarea.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\r\n   * @param position the numerical position of the cursor in the field; position should be 0 to move the position to the beginning of the field.  You can also set the cursor to -1 to move it to the end of the field.\r\n   */let element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(position==-1){position=element.value.length;}if(element.setSelectionRange&&!__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isOpera){element.focus();element.setSelectionRange(/*start*/position,/*end*/position);}else if(element.createTextRange){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let range=element.createTextRange();range.collapse(true);range.moveEnd('character',position);range.moveStart('character',position);range.select();}};Selenium.prototype.getElementIndex=function(locator){/**\r\n   * Get the relative index of an element to its parent (starting from 0). The comment node and empty text node\r\n   * will be ignored.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\r\n   * @return number of relative index of the element to its parent (starting from 0)\r\n   */let element=this.browserbot.findElement(locator);let previousSibling;let index=0;while((previousSibling=element.previousSibling)!=null){if(!this._isCommentOrEmptyTextNode(previousSibling)){index++;}element=previousSibling;}return index;};Selenium.prototype.isOrdered=function(locator1,locator2){/**\r\n   * Check if these two elements have same parent and are ordered siblings in the DOM. Two same elements will\r\n   * not be considered ordered.\r\n   *\r\n   * @param locator1 an <a href=\"#locators\">element locator</a> pointing to the first element\r\n   * @param locator2 an <a href=\"#locators\">element locator</a> pointing to the second element\r\n   * @return boolean true if element1 is the previous sibling of element2, false otherwise\r\n   */let element1=this.browserbot.findElement(locator1);let element2=this.browserbot.findElement(locator2);if(element1===element2)return false;let previousSibling;while((previousSibling=element2.previousSibling)!=null){if(previousSibling===element1){return true;}element2=previousSibling;}return false;};Selenium.prototype._isCommentOrEmptyTextNode=function(node){return node.nodeType==8||node.nodeType==3&&!/[^\\t\\n\\r ]/.test(node.data);};Selenium.prototype.getElementPositionLeft=function(locator){/**\r\n   * Retrieves the horizontal position of an element\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\r\n   * @return number of pixels from the edge of the frame.\r\n   */let element;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}let x=element.offsetLeft;let elementParent=element.offsetParent;while(elementParent!=null){if(document.all){if(elementParent.tagName!='TABLE'&&elementParent.tagName!='BODY'){x+=elementParent.clientLeft;}}// Netscape/DOM\nelse{if(elementParent.tagName=='TABLE'){let parentBorder=parseInt(elementParent.border);if(isNaN(parentBorder)){let parentFrame=elementParent.getAttribute('frame');if(parentFrame!=null){x+=1;}}else if(parentBorder>0){x+=parentBorder;}}}x+=elementParent.offsetLeft;elementParent=elementParent.offsetParent;}return x;};Selenium.prototype.getElementPositionTop=function(locator){/**\r\n   * Retrieves the vertical position of an element\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\r\n   * @return number of pixels from the edge of the frame.\r\n   */let element;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}let y=0;while(element!=null){if(document.all){if(element.tagName!='TABLE'&&element.tagName!='BODY'){y+=element.clientTop;}}// Netscape/DOM\nelse{if(element.tagName=='TABLE'){let parentBorder=parseInt(element.border);if(isNaN(parentBorder)){let parentFrame=element.getAttribute('frame');if(parentFrame!=null){y+=1;}}else if(parentBorder>0){y+=parentBorder;}}}y+=element.offsetTop;// Netscape can get confused in some cases, such that the height of the parent is smaller\n// than that of the element (which it shouldn't really be). If this is the case, we need to\n// exclude this element, since it will result in too large a 'top' return value.\nif(element.offsetParent&&element.offsetParent.offsetHeight&&element.offsetParent.offsetHeight<element.offsetHeight){// skip the parent that's too small\nelement=element.offsetParent.offsetParent;}else{// Next up...\nelement=element.offsetParent;}}return y;};Selenium.prototype.getElementWidth=function(locator){/**\r\n   * Retrieves the width of an element\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\r\n   * @return number width of an element in pixels\r\n   */let element=this.browserbot.findElement(locator);return element.offsetWidth;};Selenium.prototype.getElementHeight=function(locator){/**\r\n   * Retrieves the height of an element\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\r\n   * @return number height of an element in pixels\r\n   */let element=this.browserbot.findElement(locator);return element.offsetHeight;};Selenium.prototype.getCursorPosition=function(locator){/**\r\n   * Retrieves the text cursor position in the given input element or textarea; beware, this may not work perfectly on all browsers.\r\n   *\r\n   * <p>Specifically, if the cursor/selection has been cleared by JavaScript, this command will tend to\r\n   * return the position of the last location of the cursor, even though the cursor is now gone from the page.  This is filed as <a href=\"http://jira.openqa.org/browse/SEL-243\">SEL-243</a>.</p>\r\n   * This method will fail if the specified element isn't an input element or textarea, or there is no cursor in the element.\r\n   *\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\r\n   * @return number the numerical position of the cursor in the field\r\n   */let element=this.browserbot.findElement(locator);let doc=this.browserbot.getDocument();let win=this.browserbot.getCurrentWindow();let elementRange;if(doc.selection&&!__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isOpera){try{let selectRange=doc.selection.createRange().duplicate();elementRange=element.createTextRange();selectRange.move('character',0);elementRange.move('character',0);elementRange.setEndPoint('EndToEnd',selectRange);}catch(e){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}let answer=String(elementRange.text).replace(/\\r/g,'').length;return answer;}else{if(typeof element.selectionStart!='undefined'){if(win.getSelection&&typeof win.getSelection().rangeCount!=undefined&&win.getSelection().rangeCount==0){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}return element.selectionStart;}}throw new Error(\"Couldn't detect cursor position on this browser!\");};Selenium.prototype.getExpression=function(expression){/**\r\n   * Returns the specified expression.\r\n   *\r\n   * <p>This is useful because of JavaScript preprocessing.\r\n   * It is used to generate commands like assertExpression and waitForExpression.</p>\r\n   *\r\n   * @param expression the value to return\r\n   * @return string the value passed in\r\n   */return expression;};Selenium.prototype.getXpathCount=function(xpath){/**\r\n   * Returns the number of nodes that match the specified xpath, eg. \"//table\" would give\r\n   * the number of tables.\r\n   *\r\n   * @param xpath the xpath expression to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\r\n   * @return number the number of nodes that match the specified xpath\r\n   */let result=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return result;};Selenium.prototype.getCssCount=function(css){/**\r\n   * Returns the number of nodes that match the specified css selector, eg. \"css=table\" would give\r\n   * the number of tables.\r\n   *\r\n   * @param css the css selector to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\r\n   * @return the number of nodes that match the specified selector\r\n   */let result=this.browserbot.evaluateCssCount(css,this.browserbot.getDocument());return result;};Selenium.prototype.doAssignId=function(locator,identifier){/**\r\n   * Temporarily sets the \"id\" attribute of the specified element, so you can locate it in the future\r\n   * using its ID rather than a slow/complicated XPath.  This ID will disappear once the page is\r\n   * reloaded.\r\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\r\n   * @param identifier a string to be used as the ID of the specified element\r\n   */let element=this.browserbot.findElement(locator);element.id=identifier;};Selenium.prototype.doAllowNativeXpath=function(allow){/**\r\n   * Specifies whether Selenium should use the native in-browser implementation\r\n   * of XPath (if any native version is available); if you pass \"false\" to\r\n   * this function, we will always use our pure-JavaScript xpath library.\r\n   * Using the pure-JS xpath library can improve the consistency of xpath\r\n   * element locators between different browser vendors, but the pure-JS\r\n   * version is much slower than the native implementations.\r\n   * @param allow boolean, true means we'll prefer to use native XPath; false means we'll only use JS XPath\r\n   */if('false'==allow||'0'==allow){// The strings \"false\" and \"0\" are true values in JS\nallow=false;}this.browserbot.setAllowNativeXPath(allow);};Selenium.prototype.doIgnoreAttributesWithoutValue=function(ignore){/**\r\n   * Specifies whether Selenium will ignore xpath attributes that have no\r\n   * value, i.e. are the empty string, when using the non-native xpath\r\n   * evaluation engine. You'd want to do this for performance reasons in IE.\r\n   * However, this could break certain xpaths, for example an xpath that looks\r\n   * for an attribute whose value is NOT the empty string.\r\n   *\r\n   * The hope is that such xpaths are relatively rare, but the user should\r\n   * have the option of using them. Note that this only influences xpath\r\n   * evaluation when using the ajaxslt engine (i.e. not \"javascript-xpath\").\r\n   *\r\n   * @param ignore boolean, true means we'll ignore attributes without value\r\n   *                        at the expense of xpath \"correctness\"; false means\r\n   *                        we'll sacrifice speed for correctness.\r\n   */if('false'==ignore||'0'==ignore){ignore=false;}this.browserbot.setIgnoreAttributesWithoutValue(ignore);};Selenium.prototype.doWaitForCondition=function(script,timeout){/**\r\n   * Runs the specified JavaScript snippet repeatedly until it evaluates to \"true\".\r\n   * The snippet may have multiple lines, but only the result of the last line\r\n   * will be considered.\r\n   *\r\n   * <p>Note that, by default, the snippet will be run in the runner's test window, not in the window\r\n   * of your application.  To get the window of your application, you can use\r\n   * the JavaScript snippet <code>selenium.browserbot.getCurrentWindow()</code>, and then\r\n   * run your JavaScript in there</p>\r\n   * @param script the JavaScript snippet to run\r\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\r\n   */return Selenium.decorateFunctionWithTimeout(function(){return this.eval(script);},timeout);};Selenium.prototype.doWaitForCondition.dontCheckAlertsAndConfirms=true;Selenium.prototype.doSetTimeout=function(timeout){/**\r\n   * Specifies the amount of time that Selenium will wait for actions to complete.\r\n   *\r\n   * <p>Actions that require waiting include \"open\" and the \"waitFor*\" actions.</p>\r\n   * The default timeout is 30 seconds.\r\n   * @param timeout a timeout in milliseconds, after which the action will return with an error\r\n   */if(!timeout){timeout=Selenium.DEFAULT_TIMEOUT;}this.defaultTimeout=timeout;};Selenium.prototype.doWaitForPageToLoad=function(timeout){/**\r\n   * Waits for a new page to load.\r\n   *\r\n   * <p>You can use this command instead of the \"AndWait\" suffixes, \"clickAndWait\", \"selectAndWait\", \"typeAndWait\" etc.\r\n   * (which are only available in the JS API).</p>\r\n   *\r\n   * <p>Selenium constantly keeps track of new pages loading, and sets a \"newPageLoaded\"\r\n   * flag when it first notices a page load.  Running any other Selenium command after\r\n   * turns the flag to false.  Hence, if you want to wait for a page to load, you must\r\n   * wait immediately after a Selenium command that caused a page-load.</p>\r\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\r\n   */ // in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype.doWaitForFrameToLoad=function(_frameAddress,timeout){/**\r\n   * Waits for a new frame to load.\r\n   *\r\n   * <p>Selenium constantly keeps track of new pages and frames loading,\r\n   * and sets a \"newPageLoaded\" flag when it first notices a page load.</p>\r\n   *\r\n   * See waitForPageToLoad for more information.\r\n   *\r\n   * @param frameAddress FrameAddress from the server side\r\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\r\n   */ // in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype._isNewPageLoaded=function(){return this.browserbot.isNewPageLoaded();};Selenium.prototype._abortXhrRequest=function(){return this.browserbot.abortXhrRequest();};Selenium.prototype.doWaitForPageToLoad.dontCheckAlertsAndConfirms=true;/**\r\n * Evaluate a parameter, performing JavaScript evaluation and variable substitution.\r\n * If the string matches the pattern \"javascript{ ... }\", evaluate the string between the braces.\r\n */Selenium.prototype.preprocessParameter=function(value){if(!value.script){// only for non-scripts\nlet match=value.match(/^javascript\\{((.|\\r?\\n)+)\\}$/);if(match&&match[1]){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({log:{type:'warn',message:'parameter preprocessing using javascript{} tag is deprecated, please use execute script'}});let result=this.eval(match[1]);return result==null?null:result.toString();}}return value;};Selenium.prototype.replaceKeys=function(str){let keys=[];let match=str.match(/\\$\\{\\w+\\}/g);if(!match){keys.push(str);}else{let i=0;while(i<str.length){let currentKey=match.shift(),currentKeyIndex=str.indexOf(currentKey,i);if(currentKeyIndex>i){// push the string before the current key\nkeys.push(str.substr(i,currentKeyIndex-i));i=currentKeyIndex;}if(currentKey){if(/^\\$\\{KEY_\\w+\\}/.test(currentKey)){// is a key\nlet keyName=currentKey.match(/\\$\\{KEY_(\\w+)\\}/)[1];let key=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].Keyboard.Keys[keyName];if(key){keys.push(key);}else{throw new Error(`Unrecognised key ${keyName}`);}}else{// not a key, and not a stored variable, push it as-is\nkeys.push(currentKey);}i+=currentKey.length;}else if(i<str.length){// push the rest of the string\nkeys.push(str.substr(i,str.length));i=str.length;}}}return keys;};Selenium.prototype.getCookie=function(){/**\r\n   * Return all cookies of the current page under test.\r\n   *\r\n   * @return string all cookies of the current page under test\r\n   */let doc=this.browserbot.getDocument();return doc.cookie;};Selenium.prototype.getCookieByName=function(name){/**\r\n   * Returns the value of the cookie with the specified name, or throws an error if the cookie is not present.\r\n   * @param name the name of the cookie\r\n   * @return string the value of the cookie\r\n   */let v=this.browserbot.getCookieByName(name);if(v===null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Cookie '\"+name+\"' was not found\");}return v;};Selenium.prototype.isCookiePresent=function(name){/**\r\n   * Returns true if a cookie with the specified name is present, or false otherwise.\r\n   * @param name the name of the cookie\r\n   * @return boolean true if a cookie with the specified name is present, or false otherwise.\r\n   */let v=this.browserbot.getCookieByName(name);let absent=v===null;return!absent;};Selenium.prototype.doCreateCookie=function(nameValuePair,optionsString){/**\r\n   * Create a new cookie whose path and domain are same with those of current page\r\n   * under test, unless you specified a path for this cookie explicitly.\r\n   *\r\n   * @param nameValuePair name and value of the cookie in a format \"name=value\"\r\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'max_age' and 'domain'.\r\n   *      the optionsString's format is \"path=/path/, max_age=60, domain=.foo.com\". The order of options are irrelevant, the unit\r\n   *      of the value of 'max_age' is second.  Note that specifying a domain that isn't a subset of the current domain will\r\n   *      usually fail.\r\n   */ // eslint-disable-next-line no-useless-escape\nlet results=/[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]+=[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]*/.test(nameValuePair);if(!results){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Invalid parameter.');}let cookie=nameValuePair.trim();results=/max_age=(\\d+)/.exec(optionsString);if(results){let expireDateInMilliseconds=new Date().getTime()+results[1]*1000;cookie+='; expires='+new Date(expireDateInMilliseconds).toGMTString();}results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){let path=results[1];if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}cookie+='; path='+path;}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){let domain=results[1];cookie+='; domain='+domain;}//LOG.debug(\"Setting cookie to: \" + cookie);\nthis.browserbot.getDocument().cookie=cookie;};Selenium.prototype.doDeleteCookie=function(name,optionsString){/**\r\n   * Delete a named cookie with specified path and domain.  Be careful; to delete a cookie, you\r\n   * need to delete it using the exact same path and domain that were used to create the cookie.\r\n   * If the path is wrong, or the domain is wrong, the cookie simply won't be deleted.  Also\r\n   * note that specifying a domain that isn't a subset of the current domain will usually fail.\r\n   *\r\n   * Since there's no way to discover at runtime the original path and domain of a given cookie,\r\n   * we've added an option called 'recurse' to try all sub-domains of the current domain with\r\n   * all paths that are a subset of the current path.  Beware; this option can be slow.  In\r\n   * big-O notation, it operates in O(n*m) time, where n is the number of dots in the domain\r\n   * name and m is the number of slashes in the path.\r\n   *\r\n   * @param name the name of the cookie to be deleted\r\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'domain'\r\n   *      and 'recurse.' The optionsString's format is \"path=/path/, domain=.foo.com, recurse=true\".\r\n   *      The order of options are irrelevant. Note that specifying a domain that isn't a subset of\r\n   *      the current domain will usually fail.\r\n   */ // set the expire time of the cookie to be deleted to one minute before now.\nlet path='';let domain='';let recurse=false;let matched=false;let results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;path=results[1];}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;domain=results[1];}results=/recurse=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;recurse=results[1];if('false'==recurse){recurse=false;}}// Treat the entire optionsString as a path (for backwards compatibility)\nif(optionsString&&!matched){//LOG.warn(\"Using entire optionsString as a path; please change the argument to deleteCookie to use path=\" + optionsString);\npath=optionsString;}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}path=path.trim();domain=domain.trim();let cookieName=name.trim();if(recurse){this.browserbot.recursivelyDeleteCookie(cookieName,domain,path);}else{this.browserbot.deleteCookie(cookieName,domain,path);}};Selenium.prototype.doDeleteAllVisibleCookies=function(){/** Calls deleteCookie with recurse=true on all cookies visible to the current page.\r\n   * As noted on the documentation for deleteCookie, recurse=true can be much slower\r\n   * than simply deleting the cookies using a known domain/path.\r\n   */let win=this.browserbot.getCurrentWindow();let doc=win.document;let cookieNames=this.browserbot.getAllCookieNames(doc);let domain=doc.domain;let path=win.location.pathname;for(let i=0;i<cookieNames.length;i++){this.browserbot.recursivelyDeleteCookie(cookieNames[i],domain,path,win);}};//Selenium.prototype.doSetBrowserLogLevel = function(logLevel) {\n/**\r\n * Sets the threshold for browser-side logging messages; log messages beneath this threshold will be discarded.\r\n * Valid logLevel strings are: \"debug\", \"info\", \"warn\", \"error\" or \"off\".\r\n * To see the browser logs, you need to\r\n * either show the log window in GUI mode, or enable browser-side logging in Selenium RC.\r\n *\r\n * @param logLevel one of the following: \"debug\", \"info\", \"warn\", \"error\" or \"off\"\r\n */ /*    if (logLevel == null || logLevel == \"\") {\r\n        throw new SeleniumError(\"You must specify a log level\");\r\n    }\r\n    logLevel = logLevel.toLowerCase();\r\n    if (//LOG.logLevels[logLevel] == null) {\r\n        throw new SeleniumError(\"Invalid log level: \" + logLevel);\r\n    }\r\n    //LOG.setLogLevelThreshold(logLevel);\r\n}*/Selenium.prototype.doExecuteScript=function(script,varName){const value=this.eval(script.script,script.argv);if(value&&value.constructor.name==='Promise'){throw new Error('Expected sync operation, instead received Promise');}if(varName){return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value,storeVar:varName});}};Selenium.prototype.doExecuteAsyncScript=function(script,varName){const value=this.eval(script.script,script.argv);if(value&&value.constructor.name!=='Promise'){throw new Error(`Expected async operation, instead received ${value?value.constructor.name:value}`);}return Promise.resolve(value).then(v=>{if(varName){return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:v,storeVar:varName});}});};Selenium.prototype.doRunScript=function(script){/**\r\n   * Creates a new \"script\" tag in the body of the current test window, and\r\n   * adds the specified text into the body of the command.  Scripts run in\r\n   * this way can often be debugged more easily than scripts executed using\r\n   * Selenium's \"getEval\" command.  Beware that JS exceptions thrown in these script\r\n   * tags aren't managed by Selenium, so you should probably wrap your script\r\n   * in try/catch blocks if there is any chance that the script will throw\r\n   * an exception.\r\n   * @param script the JavaScript snippet to run\r\n   */this.eval(script.script,script.argv);};Selenium.prototype.doRollup=function(rollupName,kwargs){/**\r\n   * Executes a command rollup, which is a series of commands with a unique\r\n   * name, and optionally arguments that control the generation of the set of\r\n   * commands. If any one of the rolled-up commands fails, the rollup is\r\n   * considered to have failed. Rollups may also contain nested rollups.\r\n   *\r\n   * @param rollupName  the name of the rollup command\r\n   * @param kwargs      keyword arguments string that influences how the\r\n   *                    rollup expands into commands\r\n   */ // we have to temporarily hijack the commandStarted, nextCommand(),\n// commandComplete(), and commandError() methods of the TestLoop object.\n// When the expanded rollup commands are done executing (or an error has\n// occurred), we'll restore them to their original values.\nlet loop=currentTest||htmlTestRunner.currentTest;// eslint-disable-line no-undef\nlet backupManager={backup:function(){for(let item in this.data){this.data[item]=loop[item];}},restore:function(){for(let item in this.data){loop[item]=this.data[item];}},data:{requiresCallBack:null,commandStarted:null,nextCommand:null,commandComplete:null,commandError:null,pendingRollupCommands:null,rollupFailed:null,rollupFailedMessage:null}// eslint-disable-next-line no-undef\n};let rule=RollupManager.getInstance().getRollupRule(rollupName);let expandedCommands=rule.getExpandedCommands(kwargs);// hold your breath ...\ntry{backupManager.backup();loop.requiresCallBack=false;loop.commandStarted=function(){};loop.nextCommand=function(){if(this.pendingRollupCommands.length==0){return null;}let command=this.pendingRollupCommands.shift();return command;};loop.commandComplete=function(result){if(result.failed){this.rollupFailed=true;this.rollupFailureMessages.push(result.failureMessage);}if(this.pendingRollupCommands.length==0){result={failed:this.rollupFailed,failureMessage:this.rollupFailureMessages.join('; ')//LOG.info('Rollup execution complete: ' + (result.failed ? 'failed! (see error messages below)' : 'ok'));\n};backupManager.restore();this.commandComplete(result);}};loop.commandError=function(errorMessage){//LOG.info('Rollup execution complete: bombed!');\nbackupManager.restore();this.commandError(errorMessage);};loop.pendingRollupCommands=expandedCommands;loop.rollupFailed=false;loop.rollupFailureMessages=[];}catch(e){//LOG.error('Rollup error: ' + e);\nbackupManager.restore();}};Selenium.prototype.doAddScript=function(scriptContent,scriptTagId){/**\r\n   * Loads script content into a new script tag in the Selenium document. This\r\n   * differs from the runScript command in that runScript adds the script tag\r\n   * to the document of the AUT, not the Selenium document. The following\r\n   * entities in the script content are replaced by the characters they\r\n   * represent:\r\n   *\r\n   *     &lt;\r\n   *     &gt;\r\n   *     &amp;\r\n   *\r\n   * The corresponding remove command is removeScript.\r\n   *\r\n   * @param scriptContent  the Javascript content of the script to add\r\n   * @param scriptTagId    (optional) the id of the new script tag. If\r\n   *                       specified, and an element with this id already\r\n   *                       exists, this operation will fail.\r\n   */if(scriptTagId&&document.getElementById(scriptTagId)){let msg=\"Element with id '\"+scriptTagId+\"' already exists!\";throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](msg);}let head=document.getElementsByTagName('head')[0];let script=document.createElement('script');script.type='text/javascript';if(scriptTagId){script.id=scriptTagId;}// replace some entities\nscriptContent=scriptContent.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');script.text=scriptContent;head.appendChild(script);};Selenium.prototype.doRemoveScript=function(scriptTagId){/**\r\n   * Removes a script tag from the Selenium document identified by the given\r\n   * id. Does nothing if the referenced tag doesn't exist.\r\n   *\r\n   * @param scriptTagId  the id of the script element to remove.\r\n   */let script=document.getElementById(scriptTagId);if(script&&Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"c\" /* getTagName */])(script)=='script'){script.parentNode.removeChild(script);}};Selenium.prototype.doUseXpathLibrary=function(libraryName){/**\r\n   * Allows choice of one of the available libraries.\r\n   * @param libraryName name of the desired library\r\n   * Only the following can be chosen:\r\n   * <ul>\r\n   *   <li>\"ajaxslt\" - Google's library</li>\r\n   *   <li>\"javascript-xpath\" - Cybozu Labs' faster library</li>\r\n   *   <li>\"rpc-optimizing-ajaxslt\" - the RPC optimizing strategy, delegating to ajaxslt</li>\r\n   *   <li>\"rpc-optimizing-jsxpath\" - the RPC optimizing strategy, delegating to javascript-xpath</li>\r\n   *   <li>\"default\" - The default library.  Currently the default library is \"ajaxslt\" .</li>\r\n   * </ul>\r\n   * If libraryName isn't one of these, it may be the name of another engine\r\n   * registered to the browserbot's XPathEvaluator, for example by overriding\r\n   * XPathEvaluator.prototype.init() . If it is not a registered engine\r\n   * either, then no change will be made.\r\n   */if(!this.browserbot.getXPathEngine(libraryName)){return;}this.browserbot.setXPathEngine(libraryName);};/**\r\n *  Factory for creating \"Option Locators\".\r\n *  An OptionLocator is an object for dealing with Select options (e.g. for\r\n *  finding a specified option, or asserting that the selected option of\r\n *  Select element matches some condition.\r\n *  The type of locator returned by the factory depends on the locator string:\r\n *     label=<exp>  (OptionLocatorByLabel)\r\n *     value=<exp>  (OptionLocatorByValue)\r\n *     index=<exp>  (OptionLocatorByIndex)\r\n *     id=<exp>     (OptionLocatorById)\r\n *     <exp> (default is OptionLocatorByLabel).\r\n */function OptionLocatorFactory(){}OptionLocatorFactory.prototype.fromLocatorString=function(locatorString){let locatorType='label';let locatorValue=locatorString;// If there is a locator prefix, use the specified strategy\nlet result=locatorString.match(/^([a-zA-Z]+)=(.*)/);if(result){locatorType=result[1];locatorValue=result[2];}if(this.optionLocators==undefined){this.registerOptionLocators();}if(this.optionLocators[locatorType]){return new this.optionLocators[locatorType](locatorValue);}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Unknown option locator type: '+locatorType);};/**\r\n * To allow for easy extension, all of the option locators are found by\r\n * searching for all methods of OptionLocatorFactory.prototype that start\r\n * with \"OptionLocatorBy\".\r\n * TODO: Consider using the term \"Option Specifier\" instead of \"Option Locator\".\r\n */OptionLocatorFactory.prototype.registerOptionLocators=function(){this.optionLocators={};for(let functionName in this){let result=/OptionLocatorBy([A-Z].+)$/.exec(functionName);if(result!=null){let locatorName=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"e\" /* lowerFirstChar */])(result[1]);this.optionLocators[locatorName]=this[functionName];}}};/**\r\n *  OptionLocator for options identified by their labels.\r\n */OptionLocatorFactory.prototype.OptionLocatorByLabel=function(label){this.label=label;this.labelMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.label);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.labelMatcher.matches(element.options[i].text)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with label '\"+this.label+\"' not found\");};this.assertSelected=function(element){let selectedLabel=element.options[element.selectedIndex].text;Assert.matches(this.label,selectedLabel);// eslint-disable-line no-undef\n};};/**\r\n *  OptionLocator for options identified by their values.\r\n */OptionLocatorFactory.prototype.OptionLocatorByValue=function(value){this.value=value;this.valueMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.value);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.valueMatcher.matches(element.options[i].value)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with value '\"+this.value+\"' not found\");};this.assertSelected=function(element){let selectedValue=element.options[element.selectedIndex].value;Assert.matches(this.value,selectedValue);// eslint-disable-line no-undef\n};};/**\r\n *  OptionLocator for options identified by their index.\r\n */OptionLocatorFactory.prototype.OptionLocatorByIndex=function(index){this.index=Number(index);if(isNaN(this.index)||this.index<0){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Illegal Index: '+index);}this.findOption=function(element){if(element.options.length<=this.index){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Index out of range.  Only '+element.options.length+' options available');}return element.options[this.index];};this.assertSelected=function(element){Assert.equals(this.index,element.selectedIndex);// eslint-disable-line no-undef\n};};/**\r\n *  OptionLocator for options identified by their id.\r\n */OptionLocatorFactory.prototype.OptionLocatorById=function(id){this.id=id;this.idMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.id);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.idMatcher.matches(element.options[i].id)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with id '\"+this.id+\"' not found\");};this.assertSelected=function(element){let selectedId=element.options[element.selectedIndex].id;Assert.matches(this.id,selectedId);// eslint-disable-line no-undef\n};};//EditContentExt, Lin Yun Wen, SELAB, CSIE, NCKU, 2016/11/17\nSelenium.prototype.doEditContent=function(locator,value){/**\r\n   *to set text in the element which's conentEditable attribute is true\r\n   *@param locator an element locator\r\n   *@param value the context of the element in html\r\n   */let element=this.browserbot.findElement(locator);let editable=element.contentEditable;if(editable=='true'){element.innerHTML=Object(__WEBPACK_IMPORTED_MODULE_4__escape__[\"escapeHTML\"])(value);}else{throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('The value of contentEditable attribute of this element is not true.');}};// Modified prompt by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextPrompt=function(){return this.browserbot.cancelNextPrompt();};Selenium.prototype.doAnswerOnNextPrompt=function(answer){return this.browserbot.setNextPromptResult(answer);};Selenium.prototype.doAssertPrompt=function(message){return this.browserbot.getPromptMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Prompt message doesn't match actual message\");else return Promise.resolve(true);});};// Modified alert by SideeX comitters (Copyright 2017)\nSelenium.prototype.doAssertAlert=function(message){return this.browserbot.getAlertMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Alert message doesn't match actual message\");else return Promise.resolve(true);});};// Modified confirm by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(false);};Selenium.prototype.doChooseOkOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(true);};Selenium.prototype.doAssertConfirmation=function(value){return this.browserbot.getConfirmationMessage().then(function(actualMessage){if(value!=actualMessage)return Promise.reject(\"Confirmation message doesn't match actual message\");else return Promise.resolve(true);});};Selenium.prototype.doShowElement=function(locator){const elementForInjectingStyle=document.createElement('link');elementForInjectingStyle.rel='stylesheet';elementForInjectingStyle.href=__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.getURL('/assets/highlight.css');(document.head||document.documentElement).appendChild(elementForInjectingStyle);const highlightElement=document.createElement('div');highlightElement.id='selenium-highlight';document.body.appendChild(highlightElement);if(locator.x){highlightElement.style.left=parseInt(locator.x)+'px';highlightElement.style.top=parseInt(locator.y)+'px';highlightElement.style.width=parseInt(locator.width)+'px';highlightElement.style.height=parseInt(locator.height)+'px';}else{const bodyRects=document.documentElement.getBoundingClientRect();const element=this.browserbot.findElement(locator);const elementRects=element.getBoundingClientRect();highlightElement.style.left=parseInt(elementRects.left-bodyRects.left)+'px';highlightElement.style.top=parseInt(elementRects.top-bodyRects.top)+'px';highlightElement.style.width=parseInt(elementRects.width)+'px';highlightElement.style.height=parseInt(elementRects.height)+'px';}highlightElement.style.position='absolute';highlightElement.style.zIndex='100';highlightElement.style.display='block';highlightElement.style.pointerEvents='none';Object(__WEBPACK_IMPORTED_MODULE_1_scroll_into_view_if_needed__[\"a\" /* default */])(highlightElement,{centerIfNeeded:true});highlightElement.className='active-selenium-highlight';setTimeout(()=>{document.body.removeChild(highlightElement);elementForInjectingStyle.parentNode.removeChild(elementForInjectingStyle);},500);return'element found';};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1hcGkuanM/Yjk0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgMjAxMSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5XHJcbiAqXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKi9pbXBvcnQgYnJvd3NlciBmcm9tJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCc7aW1wb3J0IHNjcm9sbEludG9WaWV3SWZOZWVkZWQgZnJvbSdzY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZCc7aW1wb3J0IFNlbGVuaXVtRXJyb3IgZnJvbScuL1NlbGVuaXVtRXJyb3InO2ltcG9ydHtzZWxlbml1bX1mcm9tJy4vY29tbWFuZHMtYXBpJztpbXBvcnR7ZXNjYXBlSFRNTH1mcm9tJy4vZXNjYXBlJztpbXBvcnQgQnJvd3NlckJvdCx7YnJvd3NlclZlcnNpb259ZnJvbScuL3NlbGVuaXVtLWJyb3dzZXJib3QnO2ltcG9ydCBnb29nLHtib3QsY29yZX1mcm9tJy4vY2xvc3VyZS1wb2x5ZmlsbCc7aW1wb3J0IFBhdHRlcm5NYXRjaGVyIGZyb20nLi9QYXR0ZXJuTWF0Y2hlcic7aW1wb3J0e2dldFRhZ05hbWUsZ2V0VGltZW91dFRpbWUsZXh0cmFjdEV4Y2VwdGlvbk1lc3NhZ2UsbG93ZXJGaXJzdENoYXJ9ZnJvbScuL3V0aWxzJzsvLyBUT0RPOiBzdG9wIG5hdmlnYXRpbmcgdGhpcy5icm93c2VyYm90LmRvY3VtZW50KCkgLi4uIGl0IGJyZWFrcyBlbmNhcHN1bGF0aW9uXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlbml1bXsvKipcclxuICAgKiBEZWZpbmVzIGFuIG9iamVjdCB0aGF0IHJ1bnMgU2VsZW5pdW0gY29tbWFuZHMuXHJcbiAgICpcclxuICAgKiA8aDM+PGEgbmFtZT1cImxvY2F0b3JzXCI+PC9hPkVsZW1lbnQgTG9jYXRvcnM8L2gzPlxyXG4gICAqIDxwPlxyXG4gICAqIEVsZW1lbnQgTG9jYXRvcnMgdGVsbCBTZWxlbml1bSB3aGljaCBIVE1MIGVsZW1lbnQgYSBjb21tYW5kIHJlZmVycyB0by5cclxuICAgKiBUaGUgZm9ybWF0IG9mIGEgbG9jYXRvciBpczo8L3A+XHJcbiAgICogPGJsb2NrcXVvdGU+XHJcbiAgICogPGVtPmxvY2F0b3JUeXBlPC9lbT48c3Ryb25nPj08L3N0cm9uZz48ZW0+YXJndW1lbnQ8L2VtPlxyXG4gICAqIDwvYmxvY2txdW90ZT5cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIFdlIHN1cHBvcnQgdGhlIGZvbGxvd2luZyBzdHJhdGVnaWVzIGZvciBsb2NhdGluZyBlbGVtZW50czpcclxuICAgKiA8L3A+XHJcbiAgICpcclxuICAgKiA8dWw+XHJcbiAgICogPGxpPjxzdHJvbmc+aWRlbnRpZmllcjwvc3Ryb25nPj08ZW0+aWQ8L2VtPjpcclxuICAgKiBTZWxlY3QgdGhlIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkICYjMDY0O2lkIGF0dHJpYnV0ZS4gSWYgbm8gbWF0Y2ggaXNcclxuICAgKiBmb3VuZCwgc2VsZWN0IHRoZSBmaXJzdCBlbGVtZW50IHdob3NlICYjMDY0O25hbWUgYXR0cmlidXRlIGlzIDxlbT5pZDwvZW0+LlxyXG4gICAqIChUaGlzIGlzIG5vcm1hbGx5IHRoZSBkZWZhdWx0OyBzZWUgYmVsb3cuKTwvbGk+XHJcbiAgICogPGxpPjxzdHJvbmc+aWQ8L3N0cm9uZz49PGVtPmlkPC9lbT46XHJcbiAgICogU2VsZWN0IHRoZSBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCAmIzA2NDtpZCBhdHRyaWJ1dGUuPC9saT5cclxuICAgKlxyXG4gICAqIDxsaT48c3Ryb25nPm5hbWU8L3N0cm9uZz49PGVtPm5hbWU8L2VtPjpcclxuICAgKiBTZWxlY3QgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkICYjMDY0O25hbWUgYXR0cmlidXRlLlxyXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XHJcbiAgICogPGxpPnVzZXJuYW1lPC9saT5cclxuICAgKiA8bGk+bmFtZT11c2VybmFtZTwvbGk+XHJcbiAgICogPC91bD5cclxuICAgKlxyXG4gICAqIDxwPlRoZSBuYW1lIG1heSBvcHRpb25hbGx5IGJlIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIDxlbT5lbGVtZW50LWZpbHRlcnM8L2VtPiwgc2VwYXJhdGVkIGZyb20gdGhlIG5hbWUgYnkgd2hpdGVzcGFjZS4gIElmIHRoZSA8ZW0+ZmlsdGVyVHlwZTwvZW0+IGlzIG5vdCBzcGVjaWZpZWQsIDxzdHJvbmc+dmFsdWU8L3N0cm9uZz4gaXMgYXNzdW1lZC48L3A+XHJcbiAgICpcclxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxyXG4gICAqIDxsaT5uYW1lPWZsYXZvdXIgdmFsdWU9Y2hvY29sYXRlPC9saT5cclxuICAgKiA8L3VsPlxyXG4gICAqIDwvbGk+XHJcbiAgICogPGxpPjxzdHJvbmc+ZG9tPC9zdHJvbmc+PTxlbT5qYXZhc2NyaXB0RXhwcmVzc2lvbjwvZW0+OlxyXG4gICAqXHJcbiAgICogRmluZCBhbiBlbGVtZW50IGJ5IGV2YWx1YXRpbmcgdGhlIHNwZWNpZmllZCBzdHJpbmcuICBUaGlzIGFsbG93cyB5b3UgdG8gdHJhdmVyc2UgdGhlIEhUTUwgRG9jdW1lbnQgT2JqZWN0XHJcbiAgICogTW9kZWwgdXNpbmcgSmF2YVNjcmlwdC4gIE5vdGUgdGhhdCB5b3UgbXVzdCBub3QgcmV0dXJuIGEgdmFsdWUgaW4gdGhpcyBzdHJpbmc7IHNpbXBseSBtYWtlIGl0IHRoZSBsYXN0IGV4cHJlc3Npb24gaW4gdGhlIGJsb2NrLlxyXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XHJcbiAgICogPGxpPmRvbT1kb2N1bWVudC5mb3Jtc1snbXlGb3JtJ10ubXlEcm9wZG93bjwvbGk+XHJcbiAgICogPGxpPmRvbT1kb2N1bWVudC5pbWFnZXNbNTZdPC9saT5cclxuICAgKiA8bGk+ZG9tPWZ1bmN0aW9uIGZvbygpIHsgcmV0dXJuIGRvY3VtZW50LmxpbmtzWzFdOyB9OyBmb28oKTs8L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICpcclxuICAgKiA8L2xpPlxyXG4gICAqXHJcbiAgICogPGxpPjxzdHJvbmc+eHBhdGg8L3N0cm9uZz49PGVtPnhwYXRoRXhwcmVzc2lvbjwvZW0+OlxyXG4gICAqIExvY2F0ZSBhbiBlbGVtZW50IHVzaW5nIGFuIFhQYXRoIGV4cHJlc3Npb24uXHJcbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cclxuICAgKiA8bGk+eHBhdGg9Ly9pbWdbJiMwNjQ7YWx0PSdUaGUgaW1hZ2UgYWx0IHRleHQnXTwvbGk+XHJcbiAgICogPGxpPnhwYXRoPS8vdGFibGVbJiMwNjQ7aWQ9J3RhYmxlMSddLy90cls0XS90ZFsyXTwvbGk+XHJcbiAgICogPGxpPnhwYXRoPS8vYVtjb250YWlucygmIzA2NDtocmVmLCcjaWQxJyldPC9saT5cclxuICAgKiA8bGk+eHBhdGg9Ly9hW2NvbnRhaW5zKCYjMDY0O2hyZWYsJyNpZDEnKV0vJiMwNjQ7Y2xhc3M8L2xpPlxyXG4gICAqIDxsaT54cGF0aD0oLy90YWJsZVsmIzA2NDtjbGFzcz0nc3R5bGVlJ10pLy90aFt0ZXh0KCk9J3RoZUhlYWRlclRleHQnXS8uLi90ZDwvbGk+XHJcbiAgICogPGxpPnhwYXRoPS8vaW5wdXRbJiMwNjQ7bmFtZT0nbmFtZTInIGFuZCAmIzA2NDt2YWx1ZT0neWVzJ108L2xpPlxyXG4gICAqIDxsaT54cGF0aD0vLypbdGV4dCgpPVwicmlnaHRcIl08L2xpPlxyXG4gICAqXHJcbiAgICogPC91bD5cclxuICAgKiA8L2xpPlxyXG4gICAqIDxsaT48c3Ryb25nPmxpbms8L3N0cm9uZz49PGVtPnRleHRQYXR0ZXJuPC9lbT46XHJcbiAgICogU2VsZWN0IHRoZSBsaW5rIChhbmNob3IpIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGV4dCBtYXRjaGluZyB0aGVcclxuICAgKiBzcGVjaWZpZWQgPGVtPnBhdHRlcm48L2VtPi5cclxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxyXG4gICAqIDxsaT5saW5rPVRoZSBsaW5rIHRleHQ8L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICpcclxuICAgKiA8L2xpPlxyXG4gICAqXHJcbiAgICogPGxpPjxzdHJvbmc+Y3NzPC9zdHJvbmc+PTxlbT5jc3NTZWxlY3RvclN5bnRheDwvZW0+OlxyXG4gICAqIFNlbGVjdCB0aGUgZWxlbWVudCB1c2luZyBjc3Mgc2VsZWN0b3JzLiBQbGVhc2UgcmVmZXIgdG8gPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1DU1MyL3NlbGVjdG9yLmh0bWxcIj5DU1MyIHNlbGVjdG9yczwvYT4sIDxhIGhyZWY9XCJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL0NSLWNzczMtc2VsZWN0b3JzLTIwMDExMTEzL1wiPkNTUzMgc2VsZWN0b3JzPC9hPiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gWW91IGNhbiBhbHNvIGNoZWNrIHRoZSBUZXN0Q3NzTG9jYXRvcnMgdGVzdCBpbiB0aGUgc2VsZW5pdW0gdGVzdCBzdWl0ZSBmb3IgYW4gZXhhbXBsZSBvZiB1c2FnZSwgd2hpY2ggaXMgaW5jbHVkZWQgaW4gdGhlIGRvd25sb2FkZWQgc2VsZW5pdW0gY29yZSBwYWNrYWdlLlxyXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XHJcbiAgICogPGxpPmNzcz1hW2hyZWY9XCIjaWQzXCJdPC9saT5cclxuICAgKiA8bGk+Y3NzPXNwYW4jZmlyc3RDaGlsZCArIHNwYW48L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICogPHA+Q3VycmVudGx5IHRoZSBjc3Mgc2VsZWN0b3IgbG9jYXRvciBzdXBwb3J0cyBhbGwgY3NzMSwgY3NzMiBhbmQgY3NzMyBzZWxlY3RvcnMgZXhjZXB0IG5hbWVzcGFjZSBpbiBjc3MzLCBzb21lIHBzZXVkbyBjbGFzc2VzKDpudGgtb2YtdHlwZSwgOm50aC1sYXN0LW9mLXR5cGUsIDpmaXJzdC1vZi10eXBlLCA6bGFzdC1vZi10eXBlLCA6b25seS1vZi10eXBlLCA6dmlzaXRlZCwgOmhvdmVyLCA6YWN0aXZlLCA6Zm9jdXMsIDppbmRldGVybWluYXRlKSBhbmQgcHNldWRvIGVsZW1lbnRzKDo6Zmlyc3QtbGluZSwgOjpmaXJzdC1sZXR0ZXIsIDo6c2VsZWN0aW9uLCA6OmJlZm9yZSwgOjphZnRlcikuIDwvcD5cclxuICAgKiA8L2xpPlxyXG4gICAqXHJcbiAgICogPGxpPjxzdHJvbmc+dWk8L3N0cm9uZz49PGVtPnVpU3BlY2lmaWVyU3RyaW5nPC9lbT46XHJcbiAgICogTG9jYXRlIGFuIGVsZW1lbnQgYnkgcmVzb2x2aW5nIHRoZSBVSSBzcGVjaWZpZXIgc3RyaW5nIHRvIGFub3RoZXIgbG9jYXRvciwgYW5kIGV2YWx1YXRpbmcgaXQuIFNlZSB0aGUgPGEgaHJlZj1cImh0dHA6Ly9zdm4ub3BlbnFhLm9yZy9maXNoZXllL2Jyb3dzZS9+cmF3LHI9dHJ1bmsvc2VsZW5pdW0vdHJ1bmsvc3JjL21haW4vcmVzb3VyY2VzL2NvcmUvc2NyaXB0cy91aS1kb2MuaHRtbFwiPlNlbGVuaXVtIFVJLUVsZW1lbnQgUmVmZXJlbmNlPC9hPiBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XHJcbiAgICogPGxpPnVpPWxvZ2luUGFnZXM6OmxvZ2luQnV0dG9uKCk8L2xpPlxyXG4gICAqIDxsaT51aT1zZXR0aW5nc1BhZ2VzOjp0b2dnbGUobGFiZWw9SGlkZSBFbWFpbCk8L2xpPlxyXG4gICAqIDxsaT51aT1mb3J1bVBhZ2VzOjpwb3N0Qm9keShpbmRleD0yKS8vYVsyXTwvbGk+XHJcbiAgICogPC91bD5cclxuICAgKiA8L2xpPlxyXG4gICAqXHJcbiAgICogPC91bD5cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIFdpdGhvdXQgYW4gZXhwbGljaXQgbG9jYXRvciBwcmVmaXgsIFNlbGVuaXVtIHVzZXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0XHJcbiAgICogc3RyYXRlZ2llczpcclxuICAgKiA8L3A+XHJcbiAgICpcclxuICAgKiA8dWwgY2xhc3M9XCJzaW1wbGVcIj5cclxuICAgKiA8bGk+PHN0cm9uZz5kb208L3N0cm9uZz4sIGZvciBsb2NhdG9ycyBzdGFydGluZyB3aXRoICZxdW90O2RvY3VtZW50LiZxdW90OzwvbGk+XHJcbiAgICogPGxpPjxzdHJvbmc+eHBhdGg8L3N0cm9uZz4sIGZvciBsb2NhdG9ycyBzdGFydGluZyB3aXRoICZxdW90Oy8vJnF1b3Q7PC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz5pZGVudGlmaWVyPC9zdHJvbmc+LCBvdGhlcndpc2U8L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICpcclxuICAgKiA8aDM+PGEgbmFtZT1cImVsZW1lbnQtZmlsdGVyc1wiPkVsZW1lbnQgRmlsdGVyczwvYT48L2gzPlxyXG4gICAqIDxibG9ja3F1b3RlPlxyXG4gICAqIDxwPkVsZW1lbnQgZmlsdGVycyBjYW4gYmUgdXNlZCB3aXRoIGEgbG9jYXRvciB0byByZWZpbmUgYSBsaXN0IG9mIGNhbmRpZGF0ZSBlbGVtZW50cy4gIFRoZXkgYXJlIGN1cnJlbnRseSB1c2VkIG9ubHkgaW4gdGhlICduYW1lJyBlbGVtZW50LWxvY2F0b3IuPC9wPlxyXG4gICAqIDxwPkZpbHRlcnMgbG9vayBtdWNoIGxpa2UgbG9jYXRvcnMsIGllLjwvcD5cclxuICAgKiA8YmxvY2txdW90ZT5cclxuICAgKiA8ZW0+ZmlsdGVyVHlwZTwvZW0+PHN0cm9uZz49PC9zdHJvbmc+PGVtPmFyZ3VtZW50PC9lbT48L2Jsb2NrcXVvdGU+XHJcbiAgICpcclxuICAgKiA8cD5TdXBwb3J0ZWQgZWxlbWVudC1maWx0ZXJzIGFyZTo8L3A+XHJcbiAgICogPHA+PHN0cm9uZz52YWx1ZT08L3N0cm9uZz48ZW0+dmFsdWVQYXR0ZXJuPC9lbT48L3A+XHJcbiAgICogPGJsb2NrcXVvdGU+XHJcbiAgICogTWF0Y2hlcyBlbGVtZW50cyBiYXNlZCBvbiB0aGVpciB2YWx1ZXMuICBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHJlZmluaW5nIGEgbGlzdCBvZiBzaW1pbGFybHktbmFtZWQgdG9nZ2xlLWJ1dHRvbnMuPC9ibG9ja3F1b3RlPlxyXG4gICAqIDxwPjxzdHJvbmc+aW5kZXg9PC9zdHJvbmc+PGVtPmluZGV4PC9lbT48L3A+XHJcbiAgICogPGJsb2NrcXVvdGU+XHJcbiAgICogU2VsZWN0cyBhIHNpbmdsZSBlbGVtZW50IGJhc2VkIG9uIGl0cyBwb3NpdGlvbiBpbiB0aGUgbGlzdCAob2Zmc2V0IGZyb20gemVybykuPC9ibG9ja3F1b3RlPlxyXG4gICAqIDwvYmxvY2txdW90ZT5cclxuICAgKlxyXG4gICAqIDxoMz48YSBuYW1lPVwicGF0dGVybnNcIj48L2E+U3RyaW5nLW1hdGNoIFBhdHRlcm5zPC9oMz5cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIFZhcmlvdXMgUGF0dGVybiBzeW50YXhlcyBhcmUgYXZhaWxhYmxlIGZvciBtYXRjaGluZyBzdHJpbmcgdmFsdWVzOlxyXG4gICAqIDwvcD5cclxuICAgKiA8dWw+XHJcbiAgICogPGxpPjxzdHJvbmc+Z2xvYjo8L3N0cm9uZz48ZW0+cGF0dGVybjwvZW0+OlxyXG4gICAqIE1hdGNoIGEgc3RyaW5nIGFnYWluc3QgYSBcImdsb2JcIiAoYWthIFwid2lsZG1hdFwiKSBwYXR0ZXJuLiBcIkdsb2JcIiBpcyBhXHJcbiAgICoga2luZCBvZiBsaW1pdGVkIHJlZ3VsYXItZXhwcmVzc2lvbiBzeW50YXggdHlwaWNhbGx5IHVzZWQgaW4gY29tbWFuZC1saW5lXHJcbiAgICogc2hlbGxzLiBJbiBhIGdsb2IgcGF0dGVybiwgXCIqXCIgcmVwcmVzZW50cyBhbnkgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycywgYW5kIFwiP1wiXHJcbiAgICogcmVwcmVzZW50cyBhbnkgc2luZ2xlIGNoYXJhY3Rlci4gR2xvYiBwYXR0ZXJucyBtYXRjaCBhZ2FpbnN0IHRoZSBlbnRpcmVcclxuICAgKiBzdHJpbmcuPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHA6PC9zdHJvbmc+PGVtPnJlZ2V4cDwvZW0+OlxyXG4gICAqIE1hdGNoIGEgc3RyaW5nIHVzaW5nIGEgcmVndWxhci1leHByZXNzaW9uLiBUaGUgZnVsbCBwb3dlciBvZiBKYXZhU2NyaXB0XHJcbiAgICogcmVndWxhci1leHByZXNzaW9ucyBpcyBhdmFpbGFibGUuPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHBpOjwvc3Ryb25nPjxlbT5yZWdleHBpPC9lbT46XHJcbiAgICogTWF0Y2ggYSBzdHJpbmcgdXNpbmcgYSBjYXNlLWluc2Vuc2l0aXZlIHJlZ3VsYXItZXhwcmVzc2lvbi48L2xpPlxyXG4gICAqIDxsaT48c3Ryb25nPmV4YWN0Ojwvc3Ryb25nPjxlbT5zdHJpbmc8L2VtPjpcclxuICAgKlxyXG4gICAqIE1hdGNoIGEgc3RyaW5nIGV4YWN0bHksIHZlcmJhdGltLCB3aXRob3V0IGFueSBvZiB0aGF0IGZhbmN5IHdpbGRjYXJkXHJcbiAgICogc3R1ZmYuPC9saT5cclxuICAgKiA8L3VsPlxyXG4gICAqIDxwPlxyXG4gICAqIElmIG5vIHBhdHRlcm4gcHJlZml4IGlzIHNwZWNpZmllZCwgU2VsZW5pdW0gYXNzdW1lcyB0aGF0IGl0J3MgYSBcImdsb2JcIlxyXG4gICAqIHBhdHRlcm4uXHJcbiAgICogPC9wPlxyXG4gICAqIDxwPlxyXG4gICAqIEZvciBjb21tYW5kcyB0aGF0IHJldHVybiBtdWx0aXBsZSB2YWx1ZXMgKHN1Y2ggYXMgdmVyaWZ5U2VsZWN0T3B0aW9ucyksXHJcbiAgICogdGhlIHN0cmluZyBiZWluZyBtYXRjaGVkIGlzIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgdGhlIHJldHVybiB2YWx1ZXMsXHJcbiAgICogd2hlcmUgYm90aCBjb21tYXMgYW5kIGJhY2tzbGFzaGVzIGluIHRoZSB2YWx1ZXMgYXJlIGJhY2tzbGFzaC1lc2NhcGVkLlxyXG4gICAqIFdoZW4gcHJvdmlkaW5nIGEgcGF0dGVybiwgdGhlIG9wdGlvbmFsIG1hdGNoaW5nIHN5bnRheCAoaS5lLiBnbG9iLFxyXG4gICAqIHJlZ2V4cCwgZXRjLikgaXMgc3BlY2lmaWVkIG9uY2UsIGFzIHVzdWFsLCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZVxyXG4gICAqIHBhdHRlcm4uXHJcbiAgICogPC9wPlxyXG4gICAqL2NvbnN0cnVjdG9yKGJyb3dzZXJib3Qpe3RoaXMuYnJvd3NlcmJvdD1icm93c2VyYm90O3RoaXMub3B0aW9uTG9jYXRvckZhY3Rvcnk9bmV3IE9wdGlvbkxvY2F0b3JGYWN0b3J5KCk7Ly8gREdGIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxudGhpcy5wYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGJyb3dzZXJib3Q7fTt0aGlzLmRlZmF1bHRUaW1lb3V0PVNlbGVuaXVtLkRFRkFVTFRfVElNRU9VVDt0aGlzLm1vdXNlU3BlZWQ9U2VsZW5pdW0uREVGQVVMVF9NT1VTRV9TUEVFRDt9fVNlbGVuaXVtLkRFRkFVTFRfVElNRU9VVD0zMCoxMDAwO1NlbGVuaXVtLkRFRkFVTFRfTU9VU0VfU1BFRUQ9MTA7U2VsZW5pdW0uUklHSFRfTU9VU0VfQ0xJQ0s9MjtTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oZix0aW1lb3V0LGNhbGxiYWNrKXtpZihmPT1udWxsKXtyZXR1cm4gbnVsbDt9bGV0IHRpbWVvdXRUaW1lPWdldFRpbWVvdXRUaW1lKHRpbWVvdXQpO3JldHVybiBmdW5jdGlvbigpe2lmKG5ldyBEYXRlKCkuZ2V0VGltZSgpPnRpbWVvdXRUaW1lKXtpZihjYWxsYmFjayE9bnVsbCl7Y2FsbGJhY2soKTt9dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1RpbWVkIG91dCBhZnRlciAnK3RpbWVvdXQrJ21zJyk7fXJldHVybiBmKCk7fTt9O1NlbGVuaXVtLmNyZWF0ZUZvcldpbmRvdz1mdW5jdGlvbih3aW5kb3cscHJveHlJbmplY3Rpb25Nb2RlKXtpZighd2luZG93LmxvY2F0aW9uKXt0aHJvdydlcnJvcjogbm90IGEgd2luZG93ISc7fXJldHVybiBTZWxlbml1bShCcm93c2VyQm90LmNyZWF0ZUZvcldpbmRvdyh3aW5kb3cscHJveHlJbmplY3Rpb25Nb2RlKSk7fTtTZWxlbml1bS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRUaW1lb3V0PVNlbGVuaXVtLkRFRkFVTFRfVElNRU9VVDsvLyB0b2RvOiB0aGlzLmJyb3dzZXJib3QucmVzZXQoKVxudGhpcy5icm93c2VyYm90LnNlbGVjdFdpbmRvdygnbnVsbCcpO3RoaXMuYnJvd3NlcmJvdC5yZXNldFBvcHVwcygpO307U2VsZW5pdW0ucHJvdG90eXBlLmV2YWw9ZnVuY3Rpb24oc2NyaXB0LGFyZ3Y9W10sc2NvcGVkPXRydWUsaXNFeHByZXNzaW9uPWZhbHNlKXsvLyB3ZSBhcmUgc3RpbGwgc3RyaW5naWZ5aW5nIGhlcmUsIGJ1dCB3ZSBhcmUgbm90IHN1cHBvcnRpbmcgcGFzc2luZyBIVE1MRWxlbWVudHMgYW55d2F5IDopXG4vLyBTaW5nbGUgcXVvdGVzIGFyZSBpbXBvcnRhbnQhIEpTT04uc3RyaW5naWZpZXMgdXNlcyBkb3VibGUgcXVvdGVzLCB0byBhdm9pZCBzeW50YXggZXJyb3Igd2UgdXNlIHNpbmdsZSBxdW90ZXMhIVxuaWYoaXNFeHByZXNzaW9uKXtyZXR1cm4gd2luZG93LmV2YWwoc2NvcGVkP2AoKC4uLmFyZ3VtZW50cykgPT4gKCR7c2NyaXB0fSkpKC4uLkpTT04ucGFyc2UoJyR7SlNPTi5zdHJpbmdpZnkoYXJndil9JykpYDpzY3JpcHQpO31lbHNle3JldHVybiB3aW5kb3cuZXZhbChzY29wZWQ/YCgoLi4uYXJndW1lbnRzKSA9PiB7JHtzY3JpcHR9fSkoLi4uSlNPTi5wYXJzZSgnJHtKU09OLnN0cmluZ2lmeShhcmd2KX0nKSlgOnNjcmlwdCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvRXZhbHVhdGVDb25kaXRpb25hbD1mdW5jdGlvbihzY3JpcHQpe3JldHVybiEhdGhpcy5ldmFsKHNjcmlwdC5zY3JpcHQsc2NyaXB0LmFyZ3YsdHJ1ZSx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeUNoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgYSBjaGVja2JveCBub3IgYSByYWRpbyBidXR0b25gKTt9ZWxzZSBpZighZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGNoZWNrZWRgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlOb3RDaGVja2VkPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nY2hlY2tib3gnJiZlbGVtZW50LnR5cGUhPT0ncmFkaW8nKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uYCk7fWVsc2UgaWYoZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgY2hlY2tlZGApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeUVkaXRhYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipe2lmKCF0aGlzLmlzRWRpdGFibGUobG9jYXRvcikpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgZWRpdGFibGVgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlOb3RFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZih0aGlzLmlzRWRpdGFibGUobG9jYXRvcikpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBlZGl0YWJsZWApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBhIHNlbGVjdGApO31lbHNlIGlmKGVsZW1lbnQudmFsdWUhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitlbGVtZW50LnZhbHVlK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5Tm90U2VsZWN0ZWRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC50eXBlIT09J3NlbGVjdC1vbmUnKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgc2VsZWN0YCk7fWVsc2UgaWYoZWxlbWVudC52YWx1ZT09PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2VsZW1lbnQudmFsdWUrXCInIGRpZCBtYXRjaFwiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlUZXh0PWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe3RoaXMuZG9Bc3NlcnRUZXh0KGxvY2F0b3IsdmFsdWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5Tm90VGV4dD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt0aGlzLmRvQXNzZXJ0Tm90VGV4dChsb2NhdG9yLHZhbHVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVZhbHVlPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVRpdGxlPWZ1bmN0aW9uKHZhbHVlKXtpZihnb29nLnN0cmluZy5ub3JtYWxpemVTcGFjZXModGhpcy5nZXRUaXRsZSgpKSE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2dvb2cuc3RyaW5nLm5vcm1hbGl6ZVNwYWNlcyh0aGlzLmdldFRpdGxlKCkpK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5RWxlbWVudFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3RoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe2lmKGVycm9yLm1lc3NhZ2UubWF0Y2goL0VsZW1lbnRbXFxzXFxTXSo/bm90IGZvdW5kLykpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBjb3VsZCBub3QgYmUgZm91bmRgKTt9ZWxzZXt0aHJvdyBlcnJvcjt9fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5RWxlbWVudE5vdFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3RoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gd2FzIGZvdW5kYCk7fWNhdGNoKGVycm9yKXtpZighZXJyb3IubWVzc2FnZS5tYXRjaCgvRWxlbWVudFtcXHNcXFNdKj9ub3QgZm91bmQvKSl7dGhyb3cgZXJyb3I7fX19O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeT1mdW5jdGlvbih2YXJpYWJsZU5hbWUsZXhwZWN0ZWQpe3JldHVybiB0aGlzLmRvQXNzZXJ0KHZhcmlhYmxlTmFtZSxleHBlY3RlZCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnQ9ZnVuY3Rpb24odmFyaWFibGVOYW1lLGV4cGVjdGVkKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlcyxyZWopPT57YnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtnZXRWYXI6dHJ1ZSx2YXJpYWJsZTp2YXJpYWJsZU5hbWV9KS50aGVuKGFjdHVhbD0+e2lmKGAke2FjdHVhbH1gIT1leHBlY3RlZCl7cmV0dXJuIHJlaihcIkFjdHVhbCB2YWx1ZSAnXCIrYWN0dWFsK1wiJyBkaWQgbm90IG1hdGNoICdcIitleHBlY3RlZCtcIidcIik7fXJldHVybiByZXMoKTt9KTt9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydENoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgYSBjaGVja2JveCBub3IgYSByYWRpbyBidXR0b25gKTt9ZWxzZSBpZighZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGNoZWNrZWRgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnROb3RDaGVja2VkPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nY2hlY2tib3gnJiZlbGVtZW50LnR5cGUhPT0ncmFkaW8nKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uYCk7fWVsc2UgaWYoZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgY2hlY2tlZGApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydEVkaXRhYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipe2lmKCF0aGlzLmlzRWRpdGFibGUobG9jYXRvcikpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgZWRpdGFibGVgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnROb3RFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZih0aGlzLmlzRWRpdGFibGUobG9jYXRvcikpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBlZGl0YWJsZWApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBhIHNlbGVjdGApO31lbHNlIGlmKGVsZW1lbnQudmFsdWUhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitlbGVtZW50LnZhbHVlK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5U2VsZWN0ZWRMYWJlbD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yLHZhbHVlKXtsZXQgc2VsZWN0ZWRMYWJlbD10aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ3RleHQnKTtpZihzZWxlY3RlZExhYmVsIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCBsYWJlbCAnXCIrc2VsZWN0ZWRMYWJlbCtcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFNlbGVjdGVkTGFiZWw9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcix2YWx1ZSl7bGV0IHNlbGVjdGVkTGFiZWw9dGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCd0ZXh0Jyk7aWYoc2VsZWN0ZWRMYWJlbCE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgbGFiZWwgJ1wiK3NlbGVjdGVkTGFiZWwrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnROb3RTZWxlY3RlZFZhbHVlPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nc2VsZWN0LW9uZScpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgYSBzZWxlY3RgKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlPT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG1hdGNoXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kRWxlbWVudFZpc2libGU9ZnVuY3Rpb24obG9jYXRvcil7Y29uc3QgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoIWJvdC5kb20uaXNTaG93bihlbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgJHtsb2NhdG9yfSBub3QgdmlzaWJsZWApO3JldHVybiBlbGVtZW50O307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0VGV4dD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXtjb25zdCBlbGVtZW50PXRoaXMuZmluZEVsZW1lbnRWaXNpYmxlKGxvY2F0b3IpO2NvbnN0IHZpc2libGVUZXh0PWJvdC5kb20uZ2V0VmlzaWJsZVRleHQoZWxlbWVudCkudHJpbSgpO2lmKHZpc2libGVUZXh0IT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihgQWN0dWFsIHZhbHVlIFwiJHt2aXNpYmxlVGV4dH1cIiBkaWQgbm90IG1hdGNoIFwiJHt2YWx1ZX1cImApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydE5vdFRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7Y29uc3QgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50VmlzaWJsZShsb2NhdG9yKTtjb25zdCB2aXNpYmxlVGV4dD1ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpLnRyaW0oKTtpZih2aXNpYmxlVGV4dD09PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoYEFjdHVhbCB2YWx1ZSBcIiR7dmlzaWJsZVRleHR9XCIgZGlkIG1hdGNoIFwiJHt2YWx1ZX1cImApO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFZhbHVlPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFRpdGxlPWZ1bmN0aW9uKHZhbHVlKXtpZihnb29nLnN0cmluZy5ub3JtYWxpemVTcGFjZXModGhpcy5nZXRUaXRsZSgpKSE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2dvb2cuc3RyaW5nLm5vcm1hbGl6ZVNwYWNlcyh0aGlzLmdldFRpdGxlKCkpK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0RWxlbWVudFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3RoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe2lmKGVycm9yLm1lc3NhZ2UubWF0Y2goL0VsZW1lbnRbXFxzXFxTXSo/bm90IGZvdW5kLykpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBjb3VsZCBub3QgYmUgZm91bmRgKTt9ZWxzZXt0aHJvdyBlcnJvcjt9fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0RWxlbWVudE5vdFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3RoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gd2FzIGZvdW5kYCk7fWNhdGNoKGVycm9yKXtpZighZXJyb3IubWVzc2FnZS5tYXRjaCgvRWxlbWVudFtcXHNcXFNdKj9ub3QgZm91bmQvKSl7dGhyb3cgZXJyb3I7fX19O2Z1bmN0aW9uIHRocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKXtpZighdmFyTmFtZSl7dGhyb3cgbmV3IEVycm9yKCdObyB2YXJpYWJsZSBuYW1lIHByb3ZpZGVkLicpO319U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmU9ZnVuY3Rpb24odmFsdWUsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOnZhbHVlLHN0b3JlVmFyOnZhck5hbWV9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlRXZhbD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignc3RvcmUgZXZhbCBpcyBvYnNvbGV0ZSBwbGVhc2UgbWlncmF0ZSB0byBleGVjdXRlIHNjcmlwdCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVKc29uPWZ1bmN0aW9uKGpzb24sdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO2NvbnN0IHJlc3VsdD1KU09OLnBhcnNlKGpzb24pO3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOnJlc3VsdCxzdG9yZVZhcjp2YXJOYW1lfSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TdG9yZVRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7bGV0IHRleHQ7dHJ5ey8vIFRyeSB0byBnZXQgdGhlIHRleHQgaWYgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZVxuY29uc3QgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50VmlzaWJsZShsb2NhdG9yKTt0ZXh0PWJvdC5kb20uZ2V0VmlzaWJsZVRleHQoZWxlbWVudCkudHJpbSgpO31jYXRjaChlKXsvLyBlbGVtZW50IGlzIG5vdCB2aXNpYmxlLCBidXQgaXQgbWF5IGJlIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGl0IGhhcyBubyB0ZXh0XG5jb25zdCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LmlubmVySFRNTD09PScnKXsvLyBlbGVtZW50IGlzIGVtcHR5IHRoZW4gcmV0dXJuIGVtcHR5IHN0cmluZ1xudGV4dD0nJzt9ZWxzZXsvLyBlbGVtZW50IGhhcyBjb250ZW50IHRoaXMgaXMgaW5kZWVkIGludmlzaWJsZVxudGhyb3cgZTt9fXJldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOnRleHQsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhck5hbWUpe3Rocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKTtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7cmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6ZWxlbWVudC52YWx1ZS50cmltKCksc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVUaXRsZT1mdW5jdGlvbih2YWx1ZSx2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7bGV0IGRvYz1zZWxlbml1bS5icm93c2VyYm90LmdldERvY3VtZW50KCk7cmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dmFsdWV8fGRvYy50aXRsZSxzdG9yZVZhcjp2YXJOYW1lfSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TdG9yZVhwYXRoQ291bnQ9ZnVuY3Rpb24oeHBhdGgsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO2xldCBjb3VudD10aGlzLmJyb3dzZXJib3QuZXZhbHVhdGVYUGF0aENvdW50KHhwYXRoLHRoaXMuYnJvd3NlcmJvdC5nZXREb2N1bWVudCgpKTtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjpgJHtjb3VudH1gfHwnMCcsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVBdHRyaWJ1dGU9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7bGV0IGF0dHJpYnV0ZVZhbHVlPXRoaXMuYnJvd3NlcmJvdC5maW5kQXR0cmlidXRlKGxvY2F0b3IpO3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOmF0dHJpYnV0ZVZhbHVlLHN0b3JlVmFyOnZhck5hbWV9KTt9O2Z1bmN0aW9uIHdhaXRVbnRpbChjb25kaXRpb24sdGFyZ2V0LHRpbWVvdXQsZmFpbHVyZU1lc3NhZ2Upe2lmKCF0aW1lb3V0KXt0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXQgbm90IHNwZWNpZmllZC4nKTt9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtsZXQgY291bnQ9MDtsZXQgcmV0cnlJbnRlcnZhbD0xMDA7bGV0IHJlc3VsdDtsZXQgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihjb3VudD50aW1lb3V0KXtjbGVhckludGVydmFsKGludGVydmFsKTtyZWplY3QoZmFpbHVyZU1lc3NhZ2UpO310cnl7cmVzdWx0PWNvbmRpdGlvbih0YXJnZXQpO31jYXRjaChlcnJvcil7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7cmVqZWN0KGVycm9yLm1lc3NhZ2UpO31pZighcmVzdWx0KXtjb3VudCs9cmV0cnlJbnRlcnZhbDt9ZWxzZSBpZihyZXN1bHQpe2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO3Jlc29sdmUoKTt9fSxyZXRyeUludGVydmFsKTt9KTt9U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3IsdGltZW91dCl7cmV0dXJuIHdhaXRVbnRpbCh0aGlzLmlzRWxlbWVudFByZXNlbnQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ1VuYWJsZSB0byBmaW5kIHRoZSB0YXJnZXQgZWxlbWVudCB3aXRoaW4gdGhlIHRpbWVvdXQgc3BlY2lmaWVkLicpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnROb3RQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3IsdGltZW91dCl7cmV0dXJuIHdhaXRVbnRpbChpc0VsZW1lbnROb3RQcmVzZW50LmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdFbGVtZW50IHN0aWxsIHByZXNlbnQgb24gdGhlIHBhZ2Ugd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50VmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNEaXNwbGF5ZWQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgbm90IHZpc2libGUgb24gdGhlIHBhZ2Ugd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50Tm90VmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNOb3REaXNwbGF5ZWQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgc3RpbGwgdmlzaWJsZSBvbiB0aGUgcGFnZSB3aXRoaW4gdGhlIHRpbWVvdXQgc3BlY2lmaWVkLicpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnRFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNFZGl0YWJsZS5iaW5kKHRoaXMpLGxvY2F0b3IsdGltZW91dCwnRWxlbWVudCBub3QgZWRpdGFibGUgd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50Tm90RWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcix0aW1lb3V0KXtyZXR1cm4gd2FpdFVudGlsKGlzTm90RWRpdGFibGUuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgc3RpbGwgZWRpdGFibGUgd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9Oy8vIHhpYW5cblNlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRQcmVwYXJhdGlvbj1mdW5jdGlvbigpey8vIGZ1bmN0aW9uIHNldE5ld1BhZ2VWYWx1ZShlKSB7XG4vLyAgICAgd2luZG93Lm5ld19wYWdlID0gdHJ1ZTtcbi8vIH07XG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBzZXROZXdQYWdlVmFsdWUsIGZhbHNlKTtcbi8vIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbi8vICAgICAvLyBvbmx5IG92ZXJyaWRlIFhNTEh0dHBSZXF1ZXN0IG9uY2Vcbi8vICAgICBpZiAoIXdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgfHwgIXdpbmRvdy5hamF4X29iaikge1xuLy8gICAgICAgICAvLyBpdCdzIG5ldyBwYWdlLCBzbyBzZXQgdGhlIG5ldyB3aW5kb3cncyBYTUxIdHRwUmVxdWVzdCwgYW5kIGFsbCBvZiB0aGUgb2JqIGluIHRoZSBhamF4X29ialxuLy8gICAgICAgICAvLyBhcmUgbGFzdCB3aW5kb3cncyBpbnN0YW5jZSwgc28gY2xlYXIgaXRcbi8vICAgICAgICAgd2luZG93LmFqYXhfb2JqID0gW107XG4vLyAgICAgICAgIHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG4vLyAgICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgdmFyIHhociA9IG5ldyB3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0KCk7XG4vLyAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmoucHVzaCh4aHIpO1xuLy8gICAgICAgICAgICAgcmV0dXJuIHhocjtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH1cbi8vIGZ1bmN0aW9uIHNldERPTU1vZGlmaWVkVGltZSgpIHtcbi8vICAgICB3aW5kb3cuZG9tTW9kaWZpZWRUaW1lID0gRGF0ZS5ub3coKTtcbi8vIH1cbi8vIHZhciBfd2luID0gd2luZG93LmRvY3VtZW50LmJvZHk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcbi8vIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50XCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xuLy8gX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xudGhpcy5ldmFsKCdmdW5jdGlvbiBzZXROZXdQYWdlVmFsdWUoZSkge3dpbmRvdy5uZXdfcGFnZSA9IHRydWU7fTtcXFxyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgc2V0TmV3UGFnZVZhbHVlLCBmYWxzZSk7XFxcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtpZiAoIXdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgfHwgIXdpbmRvdy5hamF4X29iaikge1xcXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmogPSBbXTsgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtcXFxyXG4gICAgICAgICAgICAgICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7IHZhciB4aHIgPSBuZXcgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCgpO1xcXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmoucHVzaCh4aHIpOyByZXR1cm4geGhyO319fSBmdW5jdGlvbiBzZXRET01Nb2RpZmllZFRpbWUoKSB7XFxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5kb21Nb2RpZmllZFRpbWUgPSBEYXRlLm5vdygpO312YXIgX3dpbiA9IHdpbmRvdy5kb2N1bWVudC5ib2R5O1xcXHJcbiAgICAgICAgICAgICAgICBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XFxcclxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcXFxyXG4gICAgICAgICAgICAgICAgX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZVJlbW92ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XFxcclxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50XCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xcXHJcbiAgICAgICAgICAgICAgICBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7JyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9QcmVQYWdlV2FpdD1mdW5jdGlvbigpe3dpbmRvdy5zaWRlZXhfbmV3X3BhZ2U9dGhpcy5ldmFsKCcoZnVuY3Rpb24oKSB7cmV0dXJuIHdpbmRvdy5uZXdfcGFnZTt9KCkpJyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9QYWdlV2FpdD1mdW5jdGlvbigpey8vIGlmICh3aW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbi8vICAgICByZXR1cm4gdHJ1ZTtcbi8vIH0gZWxzZSB7XG4vLyAgICAgcmV0dXJuIGZhbHNlO1xuLy8gfVxubGV0IGV4cHJlc3Npb249J2lmKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlPT1cImNvbXBsZXRlXCIpe3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9Jzt3aW5kb3cuc2lkZWV4X3BhZ2VfZG9uZT10aGlzLmV2YWwoJyhmdW5jdGlvbigpIHsnK2V4cHJlc3Npb24rJ30oKSknLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0FqYXhXYWl0PWZ1bmN0aW9uKCl7Ly8gLy8gY2hlY2sgYWpheCB3YWl0XG4vLyBpZiAod2luZG93LmFqYXhfb2JqKSB7XG4vLyAgICAgaWYgKHdpbmRvdy5hamF4X29iai5sZW5ndGggPT0gMCkge1xuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBmb3IgKHZhciBpbmRleCBpbiB3aW5kb3cuYWpheF9vYmopIHtcbi8vICAgICAgICAgLy8gaWYgcmVhZHlTdGF0ZSBpcyAxfjMsIHRoZW4ga2VlcCB3YWl0aW5nXG4vLyAgICAgICAgICAgICBpZiAod2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSA0ICYmXG4vLyAgICAgICAgICAgICAgICAgd2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSB1bmRlZmluZWQgJiZcbi8vICAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgIH1cbi8vIH0gZWxzZSB7XG4vLyAgICAgaWYgKHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QpIHtcbi8vICAgICAgICAgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCA9IFwiXCI7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiB0cnVlO1xuLy8gfVxubGV0IGV4cHJlc3Npb249J2lmICh3aW5kb3cuYWpheF9vYmopIHsgaWYgKHdpbmRvdy5hamF4X29iai5sZW5ndGggPT0gMCkge3JldHVybiB0cnVlO30gZWxzZSB7XFxcclxuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4IGluIHdpbmRvdy5hamF4X29iaikge1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSA0ICYmXFxcclxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gdW5kZWZpbmVkICYmXFxcclxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gMCkge3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO319XFxcclxuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge2lmICh3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0KSB7d2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCA9IFwiXCI7fXJldHVybiB0cnVlO30nO3dpbmRvdy5zaWRlZXhfYWpheF9kb25lPXRoaXMuZXZhbCgnKGZ1bmN0aW9uKCkgeycrZXhwcmVzc2lvbisnfSgpKScsW10sZmFsc2UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRG9tV2FpdD1mdW5jdGlvbigpe3dpbmRvdy5zaWRlZXhfZG9tX3RpbWU9dGhpcy5ldmFsKCcoZnVuY3Rpb24oKSB7cmV0dXJuIHdpbmRvdy5kb21Nb2RpZmllZFRpbWU7fSgpKScsW10sZmFsc2UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2xpY2s9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogQ2xpY2tzIG9uIGEgbGluaywgYnV0dG9uLCBjaGVja2JveCBvciByYWRpbyBidXR0b24uIElmIHRoZSBjbGljayBhY3Rpb25cclxuICAgKiBjYXVzZXMgYSBuZXcgcGFnZSB0byBsb2FkIChsaWtlIGEgbGluayB1c3VhbGx5IGRvZXMpLCBjYWxsXHJcbiAgICogd2FpdEZvclBhZ2VUb0xvYWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcclxuICAgKlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtib3QuYWN0aW9uLmNsaWNrKGVsZW1lbnQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRG91YmxlQ2xpY2s9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogRG91YmxlIGNsaWNrcyBvbiBhIGxpbmssIGJ1dHRvbiwgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLiBJZiB0aGUgZG91YmxlIGNsaWNrIGFjdGlvblxyXG4gICAqIGNhdXNlcyBhIG5ldyBwYWdlIHRvIGxvYWQgKGxpa2UgYSBsaW5rIHVzdWFsbHkgZG9lcyksIGNhbGxcclxuICAgKiB3YWl0Rm9yUGFnZVRvTG9hZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxyXG4gICAqXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2JvdC5hY3Rpb24uZG91YmxlQ2xpY2soZWxlbWVudCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250ZXh0TWVudT1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBTaW11bGF0ZXMgb3BlbmluZyB0aGUgY29udGV4dCBtZW51IGZvciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgKGFzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdXNlciBcInJpZ2h0LWNsaWNrZWRcIiBvbiB0aGUgZWxlbWVudCkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcclxuICAgKlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtib3QuYWN0aW9uLnJpZ2h0Q2xpY2soZWxlbWVudCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DbGlja0F0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIENsaWNrcyBvbiBhIGxpbmssIGJ1dHRvbiwgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLiBJZiB0aGUgY2xpY2sgYWN0aW9uXHJcbiAgICogY2F1c2VzIGEgbmV3IHBhZ2UgdG8gbG9hZCAobGlrZSBhIGxpbmsgdXN1YWxseSBkb2VzKSwgY2FsbFxyXG4gICAqIHdhaXRGb3JQYWdlVG9Mb2FkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXHJcbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxyXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXHJcbiAgICpcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNvb3Jkcz1nZXRDb29yZHMoZWxlbWVudCxjb29yZFN0cmluZyk7Ym90LmFjdGlvbi5jbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Eb3VibGVDbGlja0F0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIERvdWJsZWNsaWNrcyBvbiBhIGxpbmssIGJ1dHRvbiwgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLiBJZiB0aGUgYWN0aW9uXHJcbiAgICogY2F1c2VzIGEgbmV3IHBhZ2UgdG8gbG9hZCAobGlrZSBhIGxpbmsgdXN1YWxseSBkb2VzKSwgY2FsbFxyXG4gICAqIHdhaXRGb3JQYWdlVG9Mb2FkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXHJcbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxyXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXHJcbiAgICpcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNvb3Jkcz1nZXRDb29yZHMoZWxlbWVudCxjb29yZFN0cmluZyk7Ym90LmFjdGlvbi5kb3VibGVDbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250ZXh0TWVudUF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIFNpbXVsYXRlcyBvcGVuaW5nIHRoZSBjb250ZXh0IG1lbnUgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCAoYXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB1c2VyIFwicmlnaHQtY2xpY2tlZFwiIG9uIHRoZSBlbGVtZW50KS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxyXG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcclxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxyXG4gICAqXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBjb29yZHM9Z2V0Q29vcmRzKGVsZW1lbnQsY29vcmRTdHJpbmcpO2JvdC5hY3Rpb24ucmlnaHRDbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Gb2N1cz1mdW5jdGlvbihsb2NhdG9yKXsvKiogTW92ZSB0aGUgZm9jdXMgdG8gdGhlIHNwZWNpZmllZCBlbGVtZW50OyBmb3IgZXhhbXBsZSwgaWYgdGhlIGVsZW1lbnQgaXMgYW4gaW5wdXQgZmllbGQsIG1vdmUgdGhlIGN1cnNvciB0byB0aGF0IGZpZWxkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC5mb2N1cyl7ZWxlbWVudC5mb2N1cygpO31lbHNle2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TaGlmdEtleURvd249ZnVuY3Rpb24oKXsvKipcclxuICAgKiBQcmVzcyB0aGUgc2hpZnQga2V5IGFuZCBob2xkIGl0IGRvd24gdW50aWwgZG9TaGlmdFVwKCkgaXMgY2FsbGVkIG9yIGEgbmV3IHBhZ2UgaXMgbG9hZGVkLlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90LnNoaWZ0S2V5RG93bj10cnVlO2NvcmUuZXZlbnRzLnNoaWZ0S2V5RG93bl89dHJ1ZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NoaWZ0S2V5VXA9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZWxlYXNlIHRoZSBzaGlmdCBrZXkuXHJcbiAgICpcclxuICAgKi90aGlzLmJyb3dzZXJib3Quc2hpZnRLZXlEb3duPWZhbHNlO2NvcmUuZXZlbnRzLnNoaWZ0S2V5RG93bl89ZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9NZXRhS2V5RG93bj1mdW5jdGlvbigpey8qKlxyXG4gICAqIFByZXNzIHRoZSBtZXRhIGtleSBhbmQgaG9sZCBpdCBkb3duIHVudGlsIGRvTWV0YVVwKCkgaXMgY2FsbGVkIG9yIGEgbmV3IHBhZ2UgaXMgbG9hZGVkLlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90Lm1ldGFLZXlEb3duPXRydWU7Y29yZS5ldmVudHMubWV0YUtleURvd25fPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9NZXRhS2V5VXA9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZWxlYXNlIHRoZSBtZXRhIGtleS5cclxuICAgKlxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5tZXRhS2V5RG93bj1mYWxzZTtjb3JlLmV2ZW50cy5tZXRhS2V5RG93bl89ZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9BbHRLZXlEb3duPWZ1bmN0aW9uKCl7LyoqXHJcbiAgICogUHJlc3MgdGhlIGFsdCBrZXkgYW5kIGhvbGQgaXQgZG93biB1bnRpbCBkb0FsdFVwKCkgaXMgY2FsbGVkIG9yIGEgbmV3IHBhZ2UgaXMgbG9hZGVkLlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90LmFsdEtleURvd249dHJ1ZTtjb3JlLmV2ZW50cy5hbHRLZXlEb3duXz10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWx0S2V5VXA9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZWxlYXNlIHRoZSBhbHQga2V5LlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90LmFsdEtleURvd249ZmFsc2U7Y29yZS5ldmVudHMuYWx0S2V5RG93bl89ZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250cm9sS2V5RG93bj1mdW5jdGlvbigpey8qKlxyXG4gICAqIFByZXNzIHRoZSBjb250cm9sIGtleSBhbmQgaG9sZCBpdCBkb3duIHVudGlsIGRvQ29udHJvbFVwKCkgaXMgY2FsbGVkIG9yIGEgbmV3IHBhZ2UgaXMgbG9hZGVkLlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90LmNvbnRyb2xLZXlEb3duPXRydWU7Y29yZS5ldmVudHMuY29udHJvbEtleURvd25fPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250cm9sS2V5VXA9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZWxlYXNlIHRoZSBjb250cm9sIGtleS5cclxuICAgKlxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bj1mYWxzZTtjb3JlLmV2ZW50cy5jb250cm9sS2V5RG93bl89ZmFsc2U7fTtmdW5jdGlvbiBnZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKXsvLyBQYXJzZSBjb29yZFN0cmluZ1xubGV0IGNvb3Jkcz1udWxsO2xldCB4O2xldCB5O2lmKGNvb3JkU3RyaW5nKXtjb29yZHM9Y29vcmRTdHJpbmcuc3BsaXQoLywvKTt4PU51bWJlcihjb29yZHNbMF0pO3k9TnVtYmVyKGNvb3Jkc1sxXSk7fWVsc2V7eD15PTA7fS8vIEdldCBwb3NpdGlvbiBvZiBlbGVtZW50LFxuLy8gUmV0dXJuIDIgaXRlbSBhcnJheSB3aXRoIGNsaWVudFggYW5kIGNsaWVudFlcbnJldHVybltTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uTGVmdChlbGVtZW50KSt4LFNlbGVuaXVtLnByb3RvdHlwZS5nZXRFbGVtZW50UG9zaXRpb25Ub3AoZWxlbWVudCkreV07fWZ1bmN0aW9uIGdldENvb3JkcyhfZWxlbWVudCxjb29yZFN0cmluZyl7Ly8gUGFyc2UgY29vcmRTdHJpbmdcbmxldCBjb29yZHM9bnVsbDtsZXQgeDtsZXQgeTtpZihjb29yZFN0cmluZyl7Y29vcmRzPWNvb3JkU3RyaW5nLnNwbGl0KC8sLyk7eD1OdW1iZXIoY29vcmRzWzBdKTt5PU51bWJlcihjb29yZHNbMV0pO31lbHNle3g9eT0wO31yZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHgseSk7fVNlbGVuaXVtLnByb3RvdHlwZS5wcmVwYXJlVG9JbnRlcmFjdF89ZnVuY3Rpb24obG9jYXRvcil7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCByZWN0PWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Ym90LmFjdGlvbi5wcmVwYXJlVG9JbnRlcmFjdFdpdGhfKGVsZW1lbnQsbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHJlY3Qud2lkdGgvMixyZWN0LmhlaWdodC8yKSk7cmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZU92ZXI9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogU2ltdWxhdGVzIGEgdXNlciBob3ZlcmluZyBhIG1vdXNlIG92ZXIgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IHJlY3Q9ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtib3QuYWN0aW9uLm1vdmVNb3VzZShlbGVtZW50LG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShyZWN0LndpZHRoLzIscmVjdC5oZWlnaHQvMikpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VPdXQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogU2ltdWxhdGVzIGEgdXNlciBtb3ZpbmcgdGhlIG1vdXNlIHBvaW50ZXIgYXdheSBmcm9tIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW91dCcsdHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZURvd249ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogU2ltdWxhdGVzIGEgdXNlciBwcmVzc2luZyB0aGUgbGVmdCBtb3VzZSBidXR0b24gKHdpdGhvdXQgcmVsZWFzaW5nIGl0IHlldCkgb25cclxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vkb3duJyx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlRG93blJpZ2h0PWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxyXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZWRvd24nLHRydWUsdW5kZWZpbmVkLHVuZGVmaW5lZCxTZWxlbml1bS5SSUdIVF9NT1VTRV9DTElDSyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZURvd25BdD1mdW5jdGlvbihsb2NhdG9yLGNvb3JkU3RyaW5nKXsvKipcclxuICAgKiBTaW11bGF0ZXMgYSB1c2VyIHByZXNzaW5nIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBhdFxyXG4gICAqIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcclxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRYWVswXSxjbGllbnRYWVsxXSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZURvd25SaWdodEF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBhdFxyXG4gICAqIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcclxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRYWVswXSxjbGllbnRYWVsxXSxTZWxlbml1bS5SSUdIVF9NT1VTRV9DTElDSyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZVVwPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFNpbXVsYXRlcyB0aGUgZXZlbnQgdGhhdCBvY2N1cnMgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgbW91c2UgYnV0dG9uIChpLmUuLCBzdG9wc1xyXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBvbiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2V1cCcsdHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZVVwUmlnaHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogU2ltdWxhdGVzIHRoZSBldmVudCB0aGF0IG9jY3VycyB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSByaWdodCBtb3VzZSBidXR0b24gKGkuZS4sIHN0b3BzXHJcbiAgICogaG9sZGluZyB0aGUgYnV0dG9uIGRvd24pIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLHVuZGVmaW5lZCx1bmRlZmluZWQsU2VsZW5pdW0uUklHSFRfTU9VU0VfQ0xJQ0spO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VVcEF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIFNpbXVsYXRlcyB0aGUgZXZlbnQgdGhhdCBvY2N1cnMgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgbW91c2UgYnV0dG9uIChpLmUuLCBzdG9wc1xyXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBhdCB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXHJcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNsaWVudFhZPWdldENsaWVudFhZKGVsZW1lbnQsY29vcmRTdHJpbmcpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlVXBSaWdodEF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIFNpbXVsYXRlcyB0aGUgZXZlbnQgdGhhdCBvY2N1cnMgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIChpLmUuLCBzdG9wc1xyXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBhdCB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXHJcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNsaWVudFhZPWdldENsaWVudFhZKGVsZW1lbnQsY29vcmRTdHJpbmcpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdLFNlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlTW92ZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBTaW11bGF0ZXMgYSB1c2VyIHByZXNzaW5nIHRoZSBtb3VzZSBidXR0b24gKHdpdGhvdXQgcmVsZWFzaW5nIGl0IHlldCkgb25cclxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlTW92ZUF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxyXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxyXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxyXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBjbGllbnRYWT1nZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1R5cGU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXHJcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgYW4gaW5wdXQgZmllbGQsIGFzIHRob3VnaCB5b3UgdHlwZWQgaXQgaW4uXHJcbiAgICpcclxuICAgKiA8cD5DYW4gYWxzbyBiZSB1c2VkIHRvIHNldCB0aGUgdmFsdWUgb2YgY29tYm8gYm94ZXMsIGNoZWNrIGJveGVzLCBldGMuIEluIHRoZXNlIGNhc2VzLFxyXG4gICAqIHZhbHVlIHNob3VsZCBiZSB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvbiBzZWxlY3RlZCwgbm90IHRoZSB2aXNpYmxlIHRleHQuPC9wPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIHRvIHR5cGVcclxuICAgKi9pZih0aGlzLmJyb3dzZXJib3QuY29udHJvbEtleURvd258fHRoaXMuYnJvd3NlcmJvdC5hbHRLZXlEb3dufHx0aGlzLmJyb3dzZXJib3QubWV0YUtleURvd24pe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCd0eXBlIG5vdCBzdXBwb3J0ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgY2FsbCB0byBjb250cm9sS2V5RG93bigpIG9yIGFsdEtleURvd24oKSBvciBtZXRhS2V5RG93bigpJyk7fWxldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtjb3JlLmV2ZW50cy5zZXRWYWx1ZShlbGVtZW50LCcnKTtjb25zdCB0eXBlPWVsZW1lbnQudHlwZTtpZih0eXBlPT09J251bWJlcid8fHR5cGU9PT0nZGF0ZScpe2NvcmUuZXZlbnRzLnNldFZhbHVlKGVsZW1lbnQsdmFsdWUpO31lbHNle2JvdC5hY3Rpb24udHlwZShlbGVtZW50LHZhbHVlKTtpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe2NvcmUuZXZlbnRzLnNldFZhbHVlKGVsZW1lbnQsdmFsdWUpO319Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NlbmRLZXlzPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpey8qKlxyXG4gICAqICpFeHBlcmltZW50YWwqIFNpbXVsYXRlcyBrZXlzdHJva2UgZXZlbnRzIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudCwgYXMgdGhvdWdoIHlvdSB0eXBlZCB0aGUgdmFsdWUga2V5LWJ5LWtleS5cclxuICAgKlxyXG4gICAqIDxwPlRoaXMgc2ltdWxhdGVzIGEgcmVhbCB1c2VyIHR5cGluZyBldmVyeSBjaGFyYWN0ZXIgaW4gdGhlIHNwZWNpZmllZCBzdHJpbmc7IGl0IGlzIGFsc28gYm91bmQgYnkgdGhlIGxpbWl0YXRpb25zIG9mIGFcclxuICAgKiByZWFsIHVzZXIsIGxpa2Ugbm90IGJlaW5nIGFibGUgdG8gdHlwZSBpbnRvIGEgaW52aXNpYmxlIG9yIHJlYWQgb25seSBlbGVtZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIGR5bmFtaWMgVUkgd2lkZ2V0c1xyXG4gICAqIChsaWtlIGF1dG8tY29tcGxldGluZyBjb21ibyBib3hlcykgdGhhdCByZXF1aXJlIGV4cGxpY2l0IGtleSBldmVudHMuPC9wPlxyXG4gICAqIDxwPlVubGlrZSB0aGUgc2ltcGxlIFwidHlwZVwiIGNvbW1hbmQsIHdoaWNoIGZvcmNlcyB0aGUgc3BlY2lmaWVkIHZhbHVlIGludG8gdGhlIHBhZ2UgZGlyZWN0bHksIHRoaXMgY29tbWFuZCB3aWxsIG5vdFxyXG4gICAqIHJlcGxhY2UgdGhlIGV4aXN0aW5nIGNvbnRlbnQuIElmIHlvdSB3YW50IHRvIHJlcGxhY2UgdGhlIGV4aXN0aW5nIGNvbnRlbnRzLCB5b3UgbmVlZCB0byB1c2UgdGhlIHNpbXBsZSBcInR5cGVcIiBjb21tYW5kIHRvIHNldCB0aGUgdmFsdWUgb2YgdGhlXHJcbiAgICogZmllbGQgdG8gZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBmaWVsZCBhbmQgdGhlbiB0aGUgXCJzZW5kS2V5c1wiIGNvbW1hbmQgdG8gc2VuZCB0aGUga2V5c3Ryb2tlIGZvciB3aGF0IHlvdSB3YW50XHJcbiAgICogdG8gdHlwZS48L3A+XHJcbiAgICogPHA+VGhpcyBjb21tYW5kIGlzIGV4cGVyaW1lbnRhbC4gSXQgbWF5IHJlcGxhY2UgdGhlIHR5cGVLZXlzIGNvbW1hbmQgaW4gdGhlIGZ1dHVyZS48L3A+XHJcbiAgICogPHA+Rm9yIHRob3NlIHdobyBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgZGV0YWlscywgdW5saWtlIHRoZSB0eXBlS2V5cyBjb21tYW5kLCB3aGljaCB0cmllcyB0b1xyXG4gICAqIGZpcmUgdGhlIGtleURvd24sIHRoZSBrZXlVcCBhbmQgdGhlIGtleVByZXNzIGV2ZW50cywgdGhpcyBjb21tYW5kIGlzIGJhY2tlZCBieSB0aGUgYXRvbXMgZnJvbSBTZWxlbml1bSAyIGFuZCBwcm92aWRlcyBhXHJcbiAgICogbXVjaCBtb3JlIHJvYnVzdCBpbXBsZW1lbnRhdGlvbiB0aGF0IHdpbGwgYmUgbWFpbnRhaW5lZCBpbiB0aGUgZnV0dXJlLjwvcD5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIHRvIHR5cGVcclxuICAgKi9pZih0aGlzLmJyb3dzZXJib3QuY29udHJvbEtleURvd258fHRoaXMuYnJvd3NlcmJvdC5hbHRLZXlEb3dufHx0aGlzLmJyb3dzZXJib3QubWV0YUtleURvd24pe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCd0eXBlIG5vdCBzdXBwb3J0ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgY2FsbCB0byBjb250cm9sS2V5RG93bigpIG9yIGFsdEtleURvd24oKSBvciBtZXRhS2V5RG93bigpJyk7fWxldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQga2V5cz10aGlzLnJlcGxhY2VLZXlzKHZhbHVlKTtib3QuYWN0aW9uLnR5cGUoZWxlbWVudCxrZXlzKTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2V0U3BlZWQ9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBTZXQgZXhlY3V0aW9uIHNwZWVkIChpLmUuLCBzZXQgdGhlIG1pbGxpc2Vjb25kIGxlbmd0aCBvZiBhIGRlbGF5IHdoaWNoIHdpbGwgZm9sbG93IGVhY2ggc2VsZW5pdW0gb3BlcmF0aW9uKS4gIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIHN1Y2ggZGVsYXksIGkuZS4sXHJcbiAgICogdGhlIGRlbGF5IGlzIDAgbWlsbGlzZWNvbmRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHZhbHVlIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHBhdXNlIGFmdGVyIG9wZXJhdGlvblxyXG4gICAqL3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCd0aGlzIG9wZXJhdGlvbiBpcyBvbmx5IGltcGxlbWVudGVkIGluIHNlbGVuaXVtLXJjLCBhbmQgc2hvdWxkIG5ldmVyIHJlc3VsdCBpbiBhIHJlcXVlc3QgbWFraW5nIGl0IGFjcm9zcyB0aGUgd2lyZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNwZWVkPWZ1bmN0aW9uKCl7LyoqXHJcbiAgICogR2V0IGV4ZWN1dGlvbiBzcGVlZCAoaS5lLiwgZ2V0IHRoZSBtaWxsaXNlY29uZCBsZW5ndGggb2YgdGhlIGRlbGF5IGZvbGxvd2luZyBlYWNoIHNlbGVuaXVtIG9wZXJhdGlvbikuICBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBzdWNoIGRlbGF5LCBpLmUuLFxyXG4gICAqIHRoZSBkZWxheSBpcyAwIG1pbGxpc2Vjb25kcy5cclxuICAgKlxyXG4gICAqIFNlZSBhbHNvIHNldFNwZWVkLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGV4ZWN1dGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICovdGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ3RoaXMgb3BlcmF0aW9uIGlzIG9ubHkgaW1wbGVtZW50ZWQgaW4gc2VsZW5pdW0tcmMsIGFuZCBzaG91bGQgbmV2ZXIgcmVzdWx0IGluIGEgcmVxdWVzdCBtYWtpbmcgaXQgYWNyb3NzIHRoZSB3aXJlJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZmluZFRvZ2dsZUJ1dHRvbj1mdW5jdGlvbihsb2NhdG9yKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC5jaGVja2VkPT1udWxsKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgJytsb2NhdG9yKycgaXMgbm90IGEgdG9nZ2xlLWJ1dHRvbi4nKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIGVsZW1lbnQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DaGVjaz1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBDaGVjayBhIHRvZ2dsZS1idXR0b24gKGNoZWNrYm94L3JhZGlvKVxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKi90aGlzLmZpbmRUb2dnbGVCdXR0b24obG9jYXRvcikuY2hlY2tlZD10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvVW5jaGVjaz1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBVbmNoZWNrIGEgdG9nZ2xlLWJ1dHRvbiAoY2hlY2tib3gvcmFkaW8pXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxyXG4gICAqL3RoaXMuZmluZFRvZ2dsZUJ1dHRvbihsb2NhdG9yKS5jaGVja2VkPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0PWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXHJcbiAgICogU2VsZWN0IGFuIG9wdGlvbiBmcm9tIGEgZHJvcC1kb3duIHVzaW5nIGFuIG9wdGlvbiBsb2NhdG9yLlxyXG4gICAqXHJcbiAgICogPHA+XHJcbiAgICogT3B0aW9uIGxvY2F0b3JzIHByb3ZpZGUgZGlmZmVyZW50IHdheXMgb2Ygc3BlY2lmeWluZyBvcHRpb25zIG9mIGFuIEhUTUxcclxuICAgKiBTZWxlY3QgZWxlbWVudCAoZS5nLiBmb3Igc2VsZWN0aW5nIGEgc3BlY2lmaWMgb3B0aW9uLCBvciBmb3IgYXNzZXJ0aW5nXHJcbiAgICogdGhhdCB0aGUgc2VsZWN0ZWQgb3B0aW9uIHNhdGlzZmllcyBhIHNwZWNpZmljYXRpb24pLiBUaGVyZSBhcmUgc2V2ZXJhbFxyXG4gICAqIGZvcm1zIG9mIFNlbGVjdCBPcHRpb24gTG9jYXRvci5cclxuICAgKiA8L3A+XHJcbiAgICogPHVsPlxyXG4gICAqIDxsaT48c3Ryb25nPmxhYmVsPC9zdHJvbmc+PTxlbT5sYWJlbFBhdHRlcm48L2VtPjpcclxuICAgKiBtYXRjaGVzIG9wdGlvbnMgYmFzZWQgb24gdGhlaXIgbGFiZWxzLCBpLmUuIHRoZSB2aXNpYmxlIHRleHQuIChUaGlzXHJcbiAgICogaXMgdGhlIGRlZmF1bHQuKVxyXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XHJcbiAgICogPGxpPmxhYmVsPXJlZ2V4cDpeW09vXXRoZXI8L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICogPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz52YWx1ZTwvc3Ryb25nPj08ZW0+dmFsdWVQYXR0ZXJuPC9lbT46XHJcbiAgICogbWF0Y2hlcyBvcHRpb25zIGJhc2VkIG9uIHRoZWlyIHZhbHVlcy5cclxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxyXG4gICAqIDxsaT52YWx1ZT1vdGhlcjwvbGk+XHJcbiAgICogPC91bD5cclxuICAgKlxyXG4gICAqXHJcbiAgICogPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz5pZDwvc3Ryb25nPj08ZW0+aWQ8L2VtPjpcclxuICAgKlxyXG4gICAqIG1hdGNoZXMgb3B0aW9ucyBiYXNlZCBvbiB0aGVpciBpZHMuXHJcbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cclxuICAgKiA8bGk+aWQ9b3B0aW9uMTwvbGk+XHJcbiAgICogPC91bD5cclxuICAgKiA8L2xpPlxyXG4gICAqIDxsaT48c3Ryb25nPmluZGV4PC9zdHJvbmc+PTxlbT5pbmRleDwvZW0+OlxyXG4gICAqIG1hdGNoZXMgYW4gb3B0aW9uIGJhc2VkIG9uIGl0cyBpbmRleCAob2Zmc2V0IGZyb20gemVybykuXHJcbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cclxuICAgKlxyXG4gICAqIDxsaT5pbmRleD0yPC9saT5cclxuICAgKiA8L3VsPlxyXG4gICAqIDwvbGk+XHJcbiAgICogPC91bD5cclxuICAgKiA8cD5cclxuICAgKiBJZiBubyBvcHRpb24gbG9jYXRvciBwcmVmaXggaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBpcyB0byBtYXRjaCBvbiA8c3Ryb25nPmxhYmVsPC9zdHJvbmc+LlxyXG4gICAqIDwvcD5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxyXG4gICAqIEBwYXJhbSBvcHRpb25Mb2NhdG9yIGFuIG9wdGlvbiBsb2NhdG9yIChhIGxhYmVsIGJ5IGRlZmF1bHQpXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KHNlbGVjdExvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO31sZXQgbG9jYXRvcj10aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5LmZyb21Mb2NhdG9yU3RyaW5nKG9wdGlvbkxvY2F0b3IpO2xldCBvcHRpb249bG9jYXRvci5maW5kT3B0aW9uKGVsZW1lbnQpO3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RPcHRpb24oZWxlbWVudCxvcHRpb24pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWRkU2VsZWN0aW9uPWZ1bmN0aW9uKGxvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXHJcbiAgICogQWRkIGEgc2VsZWN0aW9uIHRvIHRoZSBzZXQgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBpbiBhIG11bHRpLXNlbGVjdCBlbGVtZW50IHVzaW5nIGFuIG9wdGlvbiBsb2NhdG9yLlxyXG4gICAqXHJcbiAgICogQHNlZSAjZG9TZWxlY3QgZm9yIGRldGFpbHMgb2Ygb3B0aW9uIGxvY2F0b3JzXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIG11bHRpLXNlbGVjdCBib3hcclxuICAgKiBAcGFyYW0gb3B0aW9uTG9jYXRvciBhbiBvcHRpb24gbG9jYXRvciAoYSBsYWJlbCBieSBkZWZhdWx0KVxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZighKCdvcHRpb25zJ2luIGVsZW1lbnQpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9bGV0IGN1cnJMb2NhdG9yPXRoaXMub3B0aW9uTG9jYXRvckZhY3RvcnkuZnJvbUxvY2F0b3JTdHJpbmcob3B0aW9uTG9jYXRvcik7bGV0IG9wdGlvbj1jdXJyTG9jYXRvci5maW5kT3B0aW9uKGVsZW1lbnQpO3RoaXMuYnJvd3NlcmJvdC5hZGRTZWxlY3Rpb24oZWxlbWVudCxvcHRpb24pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUmVtb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uKGxvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXHJcbiAgICogUmVtb3ZlIGEgc2VsZWN0aW9uIGZyb20gdGhlIHNldCBvZiBzZWxlY3RlZCBvcHRpb25zIGluIGEgbXVsdGktc2VsZWN0IGVsZW1lbnQgdXNpbmcgYW4gb3B0aW9uIGxvY2F0b3IuXHJcbiAgICpcclxuICAgKiBAc2VlICNkb1NlbGVjdCBmb3IgZGV0YWlscyBvZiBvcHRpb24gbG9jYXRvcnNcclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgbXVsdGktc2VsZWN0IGJveFxyXG4gICAqIEBwYXJhbSBvcHRpb25Mb2NhdG9yIGFuIG9wdGlvbiBsb2NhdG9yIChhIGxhYmVsIGJ5IGRlZmF1bHQpXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO31sZXQgY3VyckxvY2F0b3I9dGhpcy5vcHRpb25Mb2NhdG9yRmFjdG9yeS5mcm9tTG9jYXRvclN0cmluZyhvcHRpb25Mb2NhdG9yKTtsZXQgb3B0aW9uPWN1cnJMb2NhdG9yLmZpbmRPcHRpb24oZWxlbWVudCk7dGhpcy5icm93c2VyYm90LnJlbW92ZVNlbGVjdGlvbihlbGVtZW50LG9wdGlvbik7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9SZW1vdmVBbGxTZWxlY3Rpb25zPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFVuc2VsZWN0cyBhbGwgb2YgdGhlIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBtdWx0aS1zZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgbXVsdGktc2VsZWN0IGJveFxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZighKCdvcHRpb25zJ2luIGVsZW1lbnQpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7dGhpcy5icm93c2VyYm90LnJlbW92ZVNlbGVjdGlvbihlbGVtZW50LGVsZW1lbnQub3B0aW9uc1tpXSk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvU3VibWl0PWZ1bmN0aW9uKGZvcm1Mb2NhdG9yKXsvKipcclxuICAgKiBTdWJtaXQgdGhlIHNwZWNpZmllZCBmb3JtLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGZvcm1zIHdpdGhvdXRcclxuICAgKiBzdWJtaXQgYnV0dG9ucywgZS5nLiBzaW5nbGUtaW5wdXQgXCJTZWFyY2hcIiBmb3Jtcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBmb3JtTG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBmb3IgdGhlIGZvcm0geW91IHdhbnQgdG8gc3VibWl0XHJcbiAgICovYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtsb2c6e3R5cGU6J3dhcm4nLG1lc3NhZ2U6J3N1Ym1pdCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBsYXRlciB2ZXJzaW9ucyBvZiBTZWxlbml1bSBJREUsIHBsZWFzZSByZS1yZWNvcmQgdGhlIHN0ZXAuJ319KTtsZXQgZm9ybT10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoZm9ybUxvY2F0b3IpO3JldHVybiBib3QuYWN0aW9uLnN1Ym1pdChmb3JtKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5tYWtlUGFnZUxvYWRDb25kaXRpb249ZnVuY3Rpb24odGltZW91dCl7aWYodGltZW91dD09bnVsbCl7dGltZW91dD10aGlzLmRlZmF1bHRUaW1lb3V0O30vLyBpZiB0aGUgdGltZW91dCBpcyB6ZXJvLCB3ZSB3b24ndCB3YWl0IGZvciB0aGUgcGFnZSB0byBsb2FkIGJlZm9yZSByZXR1cm5pbmdcbmlmKHRpbWVvdXQ9PTApey8vIGFib3J0IFhIUiByZXF1ZXN0XG50aGlzLl9hYm9ydFhoclJlcXVlc3QoKTtyZXR1cm47fXJldHVybiBTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQodGhpcy5faXNOZXdQYWdlTG9hZGVkLmJpbmQodGhpcyksdGltZW91dCx0aGlzLl9hYm9ydFhoclJlcXVlc3QuYmluZCh0aGlzKSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9PcGVuPWZ1bmN0aW9uKHVybCxpZ25vcmVSZXNwb25zZUNvZGUpey8qKlxyXG4gICAqIE9wZW5zIGFuIFVSTCBpbiB0aGUgdGVzdCBmcmFtZS4gVGhpcyBhY2NlcHRzIGJvdGggcmVsYXRpdmUgYW5kIGFic29sdXRlXHJcbiAgICogVVJMcy5cclxuICAgKlxyXG4gICAqIFRoZSAmcXVvdDtvcGVuJnF1b3Q7IGNvbW1hbmQgd2FpdHMgZm9yIHRoZSBwYWdlIHRvIGxvYWQgYmVmb3JlIHByb2NlZWRpbmcsXHJcbiAgICogaWUuIHRoZSAmcXVvdDtBbmRXYWl0JnF1b3Q7IHN1ZmZpeCBpcyBpbXBsaWNpdC5cclxuICAgKlxyXG4gICAqIDxlbT5Ob3RlPC9lbT46IFRoZSBVUkwgbXVzdCBiZSBvbiB0aGUgc2FtZSBkb21haW4gYXMgdGhlIHJ1bm5lciBIVE1MXHJcbiAgICogZHVlIHRvIHNlY3VyaXR5IHJlc3RyaWN0aW9ucyBpbiB0aGUgYnJvd3NlciAoU2FtZSBPcmlnaW4gUG9saWN5KS4gSWYgeW91XHJcbiAgICogbmVlZCB0byBvcGVuIGFuIFVSTCBvbiBhbm90aGVyIGRvbWFpbiwgdXNlIHRoZSBTZWxlbml1bSBTZXJ2ZXIgdG8gc3RhcnQgYVxyXG4gICAqIG5ldyBicm93c2VyIHNlc3Npb24gb24gdGhhdCBkb21haW4uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIHRoZSBVUkwgdG8gb3BlbjsgbWF5IGJlIHJlbGF0aXZlIG9yIGFic29sdXRlXHJcbiAgICogQHBhcmFtIGlnbm9yZVJlc3BvbnNlQ29kZSAob3B0aW9uYWwpIHR1cm4gb2ZmIGFqYXggaGVhZCByZXF1ZXN0IGZ1bmN0aW9uYWxpdHlcclxuICAgKlxyXG4gICAqL2lmKGlnbm9yZVJlc3BvbnNlQ29kZT09bnVsbHx8aWdub3JlUmVzcG9uc2VDb2RlLmxlbmd0aD09MCl7dGhpcy5icm93c2VyYm90Lmlnbm9yZVJlc3BvbnNlQ29kZT10cnVlO31lbHNlIGlmKGlnbm9yZVJlc3BvbnNlQ29kZS50b0xvd2VyQ2FzZSgpPT0ndHJ1ZScpe3RoaXMuYnJvd3NlcmJvdC5pZ25vcmVSZXNwb25zZUNvZGU9dHJ1ZTt9ZWxzZXt0aGlzLmJyb3dzZXJib3QuaWdub3JlUmVzcG9uc2VDb2RlPWZhbHNlO310aGlzLmJyb3dzZXJib3Qub3BlbkxvY2F0aW9uKHVybCk7aWYod2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXT09bnVsbHx8IXdpbmRvd1sncHJveHlJbmplY3Rpb25Nb2RlJ10pe3JldHVybiB0aGlzLm1ha2VQYWdlTG9hZENvbmRpdGlvbigpO30vLyBpbiBQSSBtb2RlLCBqdXN0IHJldHVybiBcIk9LXCI7IHRoZSBzZXJ2ZXIgd2lsbCB3YWl0Rm9yTG9hZFxufTtTZWxlbml1bS5wcm90b3R5cGUuZG9PcGVuV2luZG93PWZ1bmN0aW9uKHVybCx3aW5kb3dJRCl7LyoqXHJcbiAgICogT3BlbnMgYSBwb3B1cCB3aW5kb3cgKGlmIGEgd2luZG93IHdpdGggdGhhdCBJRCBpc24ndCBhbHJlYWR5IG9wZW4pLlxyXG4gICAqIEFmdGVyIG9wZW5pbmcgdGhlIHdpbmRvdywgeW91J2xsIG5lZWQgdG8gc2VsZWN0IGl0IHVzaW5nIHRoZSBzZWxlY3RXaW5kb3dcclxuICAgKiBjb21tYW5kLlxyXG4gICAqXHJcbiAgICogPHA+VGhpcyBjb21tYW5kIGNhbiBhbHNvIGJlIGEgdXNlZnVsIHdvcmthcm91bmQgZm9yIGJ1ZyBTRUwtMzM5LiAgSW4gc29tZSBjYXNlcywgU2VsZW5pdW0gd2lsbCBiZSB1bmFibGUgdG8gaW50ZXJjZXB0IGEgY2FsbCB0byB3aW5kb3cub3BlbiAoaWYgdGhlIGNhbGwgb2NjdXJzIGR1cmluZyBvciBiZWZvcmUgdGhlIFwib25Mb2FkXCIgZXZlbnQsIGZvciBleGFtcGxlKS5cclxuICAgKiBJbiB0aG9zZSBjYXNlcywgeW91IGNhbiBmb3JjZSBTZWxlbml1bSB0byBub3RpY2UgdGhlIG9wZW4gd2luZG93J3MgbmFtZSBieSB1c2luZyB0aGUgU2VsZW5pdW0gb3BlbldpbmRvdyBjb21tYW5kLCB1c2luZ1xyXG4gICAqIGFuIGVtcHR5IChibGFuaykgdXJsLCBsaWtlIHRoaXM6IG9wZW5XaW5kb3coXCJcIiwgXCJteUZ1bm55V2luZG93XCIpLjwvcD5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgdGhlIFVSTCB0byBvcGVuLCB3aGljaCBjYW4gYmUgYmxhbmtcclxuICAgKiBAcGFyYW0gd2luZG93SUQgdGhlIEphdmFTY3JpcHQgd2luZG93IElEIG9mIHRoZSB3aW5kb3cgdG8gc2VsZWN0XHJcbiAgICovdGhpcy5icm93c2VyYm90Lm9wZW5XaW5kb3codXJsLHdpbmRvd0lEKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NlbGVjdFdpbmRvdz1mdW5jdGlvbih3aW5kb3dJRCl7LyoqXHJcbiAgICogU2VsZWN0cyBhIHBvcHVwIHdpbmRvdyB1c2luZyBhIHdpbmRvdyBsb2NhdG9yOyBvbmNlIGEgcG9wdXAgd2luZG93IGhhcyBiZWVuIHNlbGVjdGVkLCBhbGxcclxuICAgKiBjb21tYW5kcyBnbyB0byB0aGF0IHdpbmRvdy4gVG8gc2VsZWN0IHRoZSBtYWluIHdpbmRvdyBhZ2FpbiwgdXNlIG51bGxcclxuICAgKiBhcyB0aGUgdGFyZ2V0LlxyXG4gICAqXHJcbiAgICogPHA+XHJcbiAgICpcclxuICAgKiBXaW5kb3cgbG9jYXRvcnMgcHJvdmlkZSBkaWZmZXJlbnQgd2F5cyBvZiBzcGVjaWZ5aW5nIHRoZSB3aW5kb3cgb2JqZWN0OlxyXG4gICAqIGJ5IHRpdGxlLCBieSBpbnRlcm5hbCBKYXZhU2NyaXB0IFwibmFtZSxcIiBvciBieSBKYXZhU2NyaXB0IHZhcmlhYmxlLlxyXG4gICAqIDwvcD5cclxuICAgKiA8dWw+XHJcbiAgICogPGxpPjxzdHJvbmc+dGl0bGU8L3N0cm9uZz49PGVtPk15IFNwZWNpYWwgV2luZG93PC9lbT46XHJcbiAgICogRmluZHMgdGhlIHdpbmRvdyB1c2luZyB0aGUgdGV4dCB0aGF0IGFwcGVhcnMgaW4gdGhlIHRpdGxlIGJhci4gIEJlIGNhcmVmdWw7XHJcbiAgICogdHdvIHdpbmRvd3MgY2FuIHNoYXJlIHRoZSBzYW1lIHRpdGxlLiAgSWYgdGhhdCBoYXBwZW5zLCB0aGlzIGxvY2F0b3Igd2lsbFxyXG4gICAqIGp1c3QgcGljayBvbmUuXHJcbiAgICogPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz5uYW1lPC9zdHJvbmc+PTxlbT5teVdpbmRvdzwvZW0+OlxyXG4gICAqIEZpbmRzIHRoZSB3aW5kb3cgdXNpbmcgaXRzIGludGVybmFsIEphdmFTY3JpcHQgXCJuYW1lXCIgcHJvcGVydHkuICBUaGlzIGlzIHRoZSBzZWNvbmRcclxuICAgKiBwYXJhbWV0ZXIgXCJ3aW5kb3dOYW1lXCIgcGFzc2VkIHRvIHRoZSBKYXZhU2NyaXB0IG1ldGhvZCB3aW5kb3cub3Blbih1cmwsIHdpbmRvd05hbWUsIHdpbmRvd0ZlYXR1cmVzLCByZXBsYWNlRmxhZylcclxuICAgKiAod2hpY2ggU2VsZW5pdW0gaW50ZXJjZXB0cykuXHJcbiAgICogPC9saT5cclxuICAgKiA8bGk+PHN0cm9uZz52YXI8L3N0cm9uZz49PGVtPnZhcmlhYmxlTmFtZTwvZW0+OlxyXG4gICAqIFNvbWUgcG9wLXVwIHdpbmRvd3MgYXJlIHVubmFtZWQgKGFub255bW91cyksIGJ1dCBhcmUgYXNzb2NpYXRlZCB3aXRoIGEgSmF2YVNjcmlwdCB2YXJpYWJsZSBuYW1lIGluIHRoZSBjdXJyZW50XHJcbiAgICogYXBwbGljYXRpb24gd2luZG93LCBlLmcuIFwid2luZG93LmZvbyA9IHdpbmRvdy5vcGVuKHVybCk7XCIuICBJbiB0aG9zZSBjYXNlcywgeW91IGNhbiBvcGVuIHRoZSB3aW5kb3cgdXNpbmdcclxuICAgKiBcInZhcj1mb29cIi5cclxuICAgKiA8L2xpPlxyXG4gICAqIDwvdWw+XHJcbiAgICogPHA+XHJcbiAgICogSWYgbm8gd2luZG93IGxvY2F0b3IgcHJlZml4IGlzIHByb3ZpZGVkLCB3ZSdsbCB0cnkgdG8gZ3Vlc3Mgd2hhdCB5b3UgbWVhbiBsaWtlIHRoaXM6PC9wPlxyXG4gICAqIDxwPjEuKSBpZiB3aW5kb3dJRCBpcyBudWxsLCAob3IgdGhlIHN0cmluZyBcIm51bGxcIikgdGhlbiBpdCBpcyBhc3N1bWVkIHRoZSB1c2VyIGlzIHJlZmVycmluZyB0byB0aGUgb3JpZ2luYWwgd2luZG93IGluc3RhbnRpYXRlZCBieSB0aGUgYnJvd3NlcikuPC9wPlxyXG4gICAqIDxwPjIuKSBpZiB0aGUgdmFsdWUgb2YgdGhlIFwid2luZG93SURcIiBwYXJhbWV0ZXIgaXMgYSBKYXZhU2NyaXB0IHZhcmlhYmxlIG5hbWUgaW4gdGhlIGN1cnJlbnQgYXBwbGljYXRpb24gd2luZG93LCB0aGVuIGl0IGlzIGFzc3VtZWRcclxuICAgKiB0aGF0IHRoaXMgdmFyaWFibGUgY29udGFpbnMgdGhlIHJldHVybiB2YWx1ZSBmcm9tIGEgY2FsbCB0byB0aGUgSmF2YVNjcmlwdCB3aW5kb3cub3BlbigpIG1ldGhvZC48L3A+XHJcbiAgICogPHA+My4pIE90aGVyd2lzZSwgc2VsZW5pdW0gbG9va3MgaW4gYSBoYXNoIGl0IG1haW50YWlucyB0aGF0IG1hcHMgc3RyaW5nIG5hbWVzIHRvIHdpbmRvdyBcIm5hbWVzXCIuPC9wPlxyXG4gICAqIDxwPjQuKSBJZiA8ZW0+dGhhdDwvZW0+IGZhaWxzLCB3ZSdsbCB0cnkgbG9vcGluZyBvdmVyIGFsbCBvZiB0aGUga25vd24gd2luZG93cyB0byB0cnkgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUgXCJ0aXRsZVwiLlxyXG4gICAqIFNpbmNlIFwidGl0bGVcIiBpcyBub3QgbmVjZXNzYXJpbHkgdW5pcXVlLCB0aGlzIG1heSBoYXZlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuPC9wPlxyXG4gICAqXHJcbiAgICogPHA+SWYgeW91J3JlIGhhdmluZyB0cm91YmxlIGZpZ3VyaW5nIG91dCB0aGUgbmFtZSBvZiBhIHdpbmRvdyB0aGF0IHlvdSB3YW50IHRvIG1hbmlwdWxhdGUsIGxvb2sgYXQgdGhlIFNlbGVuaXVtIGxvZyBtZXNzYWdlc1xyXG4gICAqIHdoaWNoIGlkZW50aWZ5IHRoZSBuYW1lcyBvZiB3aW5kb3dzIGNyZWF0ZWQgdmlhIHdpbmRvdy5vcGVuIChhbmQgdGhlcmVmb3JlIGludGVyY2VwdGVkIGJ5IFNlbGVuaXVtKS4gIFlvdSB3aWxsIHNlZSBtZXNzYWdlc1xyXG4gICAqIGxpa2UgdGhlIGZvbGxvd2luZyBmb3IgZWFjaCB3aW5kb3cgYXMgaXQgaXMgb3BlbmVkOjwvcD5cclxuICAgKlxyXG4gICAqIDxwPjxjb2RlPmRlYnVnOiB3aW5kb3cub3BlbiBjYWxsIGludGVyY2VwdGVkOyB3aW5kb3cgSUQgKHdoaWNoIHlvdSBjYW4gdXNlIHdpdGggc2VsZWN0V2luZG93KCkpIGlzIFwibXlOZXdXaW5kb3dcIjwvY29kZT48L3A+XHJcbiAgICpcclxuICAgKiA8cD5JbiBzb21lIGNhc2VzLCBTZWxlbml1bSB3aWxsIGJlIHVuYWJsZSB0byBpbnRlcmNlcHQgYSBjYWxsIHRvIHdpbmRvdy5vcGVuIChpZiB0aGUgY2FsbCBvY2N1cnMgZHVyaW5nIG9yIGJlZm9yZSB0aGUgXCJvbkxvYWRcIiBldmVudCwgZm9yIGV4YW1wbGUpLlxyXG4gICAqIChUaGlzIGlzIGJ1ZyBTRUwtMzM5LikgIEluIHRob3NlIGNhc2VzLCB5b3UgY2FuIGZvcmNlIFNlbGVuaXVtIHRvIG5vdGljZSB0aGUgb3BlbiB3aW5kb3cncyBuYW1lIGJ5IHVzaW5nIHRoZSBTZWxlbml1bSBvcGVuV2luZG93IGNvbW1hbmQsIHVzaW5nXHJcbiAgICogYW4gZW1wdHkgKGJsYW5rKSB1cmwsIGxpa2UgdGhpczogb3BlbldpbmRvdyhcIlwiLCBcIm15RnVubnlXaW5kb3dcIikuPC9wPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHdpbmRvd0lEIHRoZSBKYXZhU2NyaXB0IHdpbmRvdyBJRCBvZiB0aGUgd2luZG93IHRvIHNlbGVjdFxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RXaW5kb3cod2luZG93SUQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0UG9wVXA9ZnVuY3Rpb24od2luZG93SUQpey8qKlxyXG4gICAqIFNpbXBsaWZpZXMgdGhlIHByb2Nlc3Mgb2Ygc2VsZWN0aW5nIGEgcG9wdXAgd2luZG93IChhbmQgZG9lcyBub3Qgb2ZmZXJcclxuICAgKiBmdW5jdGlvbmFsaXR5IGJleW9uZCB3aGF0IDxjb2RlPnNlbGVjdFdpbmRvdygpPC9jb2RlPiBhbHJlYWR5IHByb3ZpZGVzKS5cclxuICAgKiA8dWw+XHJcbiAgICogPGxpPklmIDxjb2RlPndpbmRvd0lEPC9jb2RlPiBpcyBlaXRoZXIgbm90IHNwZWNpZmllZCwgb3Igc3BlY2lmaWVkIGFzXHJcbiAgICogXCJudWxsXCIsIHRoZSBmaXJzdCBub24tdG9wIHdpbmRvdyBpcyBzZWxlY3RlZC4gVGhlIHRvcCB3aW5kb3cgaXMgdGhlIG9uZVxyXG4gICAqIHRoYXQgd291bGQgYmUgc2VsZWN0ZWQgYnkgPGNvZGU+c2VsZWN0V2luZG93KCk8L2NvZGU+IHdpdGhvdXQgcHJvdmlkaW5nIGFcclxuICAgKiA8Y29kZT53aW5kb3dJRDwvY29kZT4gLiBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIG1vcmUgdGhhbiBvbmUgcG9wdXBcclxuICAgKiB3aW5kb3cgaXMgaW4gcGxheS48L2xpPlxyXG4gICAqIDxsaT5PdGhlcndpc2UsIHRoZSB3aW5kb3cgd2lsbCBiZSBsb29rZWQgdXAgY29uc2lkZXJpbmdcclxuICAgKiA8Y29kZT53aW5kb3dJRDwvY29kZT4gYXMgdGhlIGZvbGxvd2luZyBpbiBvcmRlcjogMSkgdGhlIFwibmFtZVwiIG9mIHRoZVxyXG4gICAqIHdpbmRvdywgYXMgc3BlY2lmaWVkIHRvIDxjb2RlPndpbmRvdy5vcGVuKCk8L2NvZGU+OyAyKSBhIGphdmFzY3JpcHRcclxuICAgKiB2YXJpYWJsZSB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byBhIHdpbmRvdzsgYW5kIDMpIHRoZSB0aXRsZSBvZiB0aGVcclxuICAgKiB3aW5kb3cuIFRoaXMgaXMgdGhlIHNhbWUgb3JkZXJlZCBsb29rdXAgcGVyZm9ybWVkIGJ5XHJcbiAgICogPGNvZGU+c2VsZWN0V2luZG93PC9jb2RlPiAuPC9saT5cclxuICAgKiA8L3VsPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHdpbmRvd0lEICBhbiBpZGVudGlmaWVyIGZvciB0aGUgcG9wdXAgd2luZG93LCB3aGljaCBjYW4gdGFrZSBvbiBhXHJcbiAgICogICAgICAgICAgICAgICAgICBudW1iZXIgb2YgZGlmZmVyZW50IG1lYW5pbmdzXHJcbiAgICovdGhpcy5icm93c2VyYm90LnNlbGVjdFBvcFVwKHdpbmRvd0lEKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Rlc2VsZWN0UG9wVXA9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBTZWxlY3RzIHRoZSBtYWluIHdpbmRvdy4gRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gdXNpbmdcclxuICAgKiA8Y29kZT5zZWxlY3RXaW5kb3coKTwvY29kZT4gYW5kIHNwZWNpZnlpbmcgbm8gdmFsdWUgZm9yXHJcbiAgICogPGNvZGU+d2luZG93SUQ8L2NvZGU+LlxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RXaW5kb3coKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NlbGVjdEZyYW1lPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFNlbGVjdHMgYSBmcmFtZSB3aXRoaW4gdGhlIGN1cnJlbnQgd2luZG93LiAgKFlvdSBtYXkgaW52b2tlIHRoaXMgY29tbWFuZFxyXG4gICAqIG11bHRpcGxlIHRpbWVzIHRvIHNlbGVjdCBuZXN0ZWQgZnJhbWVzLikgIFRvIHNlbGVjdCB0aGUgcGFyZW50IGZyYW1lLCB1c2VcclxuICAgKiBcInJlbGF0aXZlPXBhcmVudFwiIGFzIGEgbG9jYXRvcjsgdG8gc2VsZWN0IHRoZSB0b3AgZnJhbWUsIHVzZSBcInJlbGF0aXZlPXRvcFwiLlxyXG4gICAqIFlvdSBjYW4gYWxzbyBzZWxlY3QgYSBmcmFtZSBieSBpdHMgMC1iYXNlZCBpbmRleCBudW1iZXI7IHNlbGVjdCB0aGUgZmlyc3QgZnJhbWUgd2l0aFxyXG4gICAqIFwiaW5kZXg9MFwiLCBvciB0aGUgdGhpcmQgZnJhbWUgd2l0aCBcImluZGV4PTJcIi5cclxuICAgKlxyXG4gICAqIDxwPllvdSBtYXkgYWxzbyB1c2UgYSBET00gZXhwcmVzc2lvbiB0byBpZGVudGlmeSB0aGUgZnJhbWUgeW91IHdhbnQgZGlyZWN0bHksXHJcbiAgICogbGlrZSB0aGlzOiA8Y29kZT5kb209ZnJhbWVzW1wibWFpblwiXS5mcmFtZXNbXCJzdWJmcmFtZVwiXTwvY29kZT48L3A+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGZyYW1lIG9yIGlmcmFtZVxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RGcmFtZShsb2NhdG9yKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRXaGV0aGVyVGhpc0ZyYW1lTWF0Y2hGcmFtZUV4cHJlc3Npb249ZnVuY3Rpb24oY3VycmVudEZyYW1lU3RyaW5nLHRhcmdldCl7LyoqXHJcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgY3VycmVudC9sb2NhdG9yIGlkZW50aWZ5IHRoZSBmcmFtZSBjb250YWluaW5nIHRoaXMgcnVubmluZyBjb2RlLlxyXG4gICAqXHJcbiAgICogPHA+VGhpcyBpcyB1c2VmdWwgaW4gcHJveHkgaW5qZWN0aW9uIG1vZGUsIHdoZXJlIHRoaXMgY29kZSBydW5zIGluIGV2ZXJ5XHJcbiAgICogYnJvd3NlciBmcmFtZSBhbmQgd2luZG93LCBhbmQgc29tZXRpbWVzIHRoZSBzZWxlbml1bSBzZXJ2ZXIgbmVlZHMgdG8gaWRlbnRpZnlcclxuICAgKiB0aGUgXCJjdXJyZW50XCIgZnJhbWUuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0RnJhbWUsIHRoaXNcclxuICAgKiByb3V0aW5lIGlzIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB0byBmaWd1cmUgb3V0IHdoaWNoIG9uZSBoYXMgYmVlbiBzZWxlY3RlZC5cclxuICAgKiBUaGUgc2VsZWN0ZWQgZnJhbWUgd2lsbCByZXR1cm4gdHJ1ZSwgd2hpbGUgYWxsIG90aGVycyB3aWxsIHJldHVybiBmYWxzZS48L3A+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gY3VycmVudEZyYW1lU3RyaW5nIHN0YXJ0aW5nIGZyYW1lXHJcbiAgICogQHBhcmFtIHRhcmdldCBuZXcgZnJhbWUgKHdoaWNoIG1pZ2h0IGJlIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IG9uZSlcclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgbmV3IGZyYW1lIGlzIHRoaXMgY29kZSdzIHdpbmRvd1xyXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZG9lc1RoaXNGcmFtZU1hdGNoRnJhbWVFeHByZXNzaW9uKGN1cnJlbnRGcmFtZVN0cmluZyx0YXJnZXQpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFdoZXRoZXJUaGlzV2luZG93TWF0Y2hXaW5kb3dFeHByZXNzaW9uPWZ1bmN0aW9uKF9jdXJyZW50V2luZG93U3RyaW5nLHRhcmdldCl7LyoqXHJcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgY3VycmVudFdpbmRvd1N0cmluZyBwbHVzIHRhcmdldCBpZGVudGlmeSB0aGUgd2luZG93IGNvbnRhaW5pbmcgdGhpcyBydW5uaW5nIGNvZGUuXHJcbiAgICpcclxuICAgKiA8cD5UaGlzIGlzIHVzZWZ1bCBpbiBwcm94eSBpbmplY3Rpb24gbW9kZSwgd2hlcmUgdGhpcyBjb2RlIHJ1bnMgaW4gZXZlcnlcclxuICAgKiBicm93c2VyIGZyYW1lIGFuZCB3aW5kb3csIGFuZCBzb21ldGltZXMgdGhlIHNlbGVuaXVtIHNlcnZlciBuZWVkcyB0byBpZGVudGlmeVxyXG4gICAqIHRoZSBcImN1cnJlbnRcIiB3aW5kb3cuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0V2luZG93LCB0aGlzXHJcbiAgICogcm91dGluZSBpcyBjYWxsZWQgZm9yIGVhY2ggd2luZG93IHRvIGZpZ3VyZSBvdXQgd2hpY2ggb25lIGhhcyBiZWVuIHNlbGVjdGVkLlxyXG4gICAqIFRoZSBzZWxlY3RlZCB3aW5kb3cgd2lsbCByZXR1cm4gdHJ1ZSwgd2hpbGUgYWxsIG90aGVycyB3aWxsIHJldHVybiBmYWxzZS48L3A+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gY3VycmVudFdpbmRvd1N0cmluZyBzdGFydGluZyB3aW5kb3dcclxuICAgKiBAcGFyYW0gdGFyZ2V0IG5ldyB3aW5kb3cgKHdoaWNoIG1pZ2h0IGJlIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IG9uZSwgZS5nLiwgXCJfcGFyZW50XCIpXHJcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIG5ldyB3aW5kb3cgaXMgdGhpcyBjb2RlJ3Mgd2luZG93XHJcbiAgICovaWYod2luZG93Lm9wZW5lciE9bnVsbCYmd2luZG93Lm9wZW5lclt0YXJnZXRdIT1udWxsJiZ3aW5kb3cub3BlbmVyW3RhcmdldF09PXdpbmRvdyl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JQb3BVcD1mdW5jdGlvbih3aW5kb3dJRCx0aW1lb3V0KXsvKipcclxuICAgKiBXYWl0cyBmb3IgYSBwb3B1cCB3aW5kb3cgdG8gYXBwZWFyIGFuZCBsb2FkIHVwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHdpbmRvd0lEIHRoZSBKYXZhU2NyaXB0IHdpbmRvdyBcIm5hbWVcIiBvZiB0aGUgd2luZG93IHRoYXQgd2lsbCBhcHBlYXIgKG5vdCB0aGUgdGV4dCBvZiB0aGUgdGl0bGUgYmFyKVxyXG4gICAqICAgICAgICAgICAgICAgICBJZiB1bnNwZWNpZmllZCwgb3Igc3BlY2lmaWVkIGFzIFwibnVsbFwiLCB0aGlzIGNvbW1hbmQgd2lsbFxyXG4gICAqICAgICAgICAgICAgICAgICB3YWl0IGZvciB0aGUgZmlyc3Qgbm9uLXRvcCB3aW5kb3cgdG8gYXBwZWFyIChkb24ndCByZWx5XHJcbiAgICogICAgICAgICAgICAgICAgIG9uIHRoaXMgaWYgeW91IGFyZSB3b3JraW5nIHdpdGggbXVsdGlwbGUgcG9wdXBzXHJcbiAgICogICAgICAgICAgICAgICAgIHNpbXVsdGFuZW91c2x5KS5cclxuICAgKiBAcGFyYW0gdGltZW91dCBhIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBhZnRlciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3IuXHJcbiAgICogICAgICAgICAgICAgICAgSWYgdGhpcyB2YWx1ZSBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVmYXVsdCBTZWxlbml1bVxyXG4gICAqICAgICAgICAgICAgICAgIHRpbWVvdXQgd2lsbCBiZSB1c2VkLiBTZWUgdGhlIHNldFRpbWVvdXQoKSBjb21tYW5kLlxyXG4gICAqL2lmKCF0aW1lb3V0KXt0aW1lb3V0PXRoaXMuZGVmYXVsdFRpbWVvdXQ7fWxldCB0aW1lb3V0VGltZT1nZXRUaW1lb3V0VGltZSh0aW1lb3V0KTtsZXQgcG9wdXBMb2FkZWRQcmVkaWNhdGU9ZnVuY3Rpb24oKXtsZXQgdGFyZ2V0V2luZG93O3RyeXtpZih3aW5kb3dJRCYmd2luZG93SUQhPSdudWxsJyl7dGFyZ2V0V2luZG93PXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0V2luZG93QnlOYW1lKHdpbmRvd0lELHRydWUpO31lbHNle2xldCBuYW1lcz1zZWxlbml1bS5icm93c2VyYm90LmdldE5vblRvcFdpbmRvd05hbWVzKCk7dGFyZ2V0V2luZG93PXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0V2luZG93QnlOYW1lKG5hbWVzWzBdLHRydWUpO319Y2F0Y2goZSl7aWYobmV3IERhdGUoKS5nZXRUaW1lKCk+dGltZW91dFRpbWUpe3Rocm93IGU7fX1pZighdGFyZ2V0V2luZG93KXJldHVybiBmYWxzZTt0cnl7aWYoIXRhcmdldFdpbmRvdy5sb2NhdGlvbilyZXR1cm4gZmFsc2U7aWYoJ2Fib3V0OmJsYW5rJz09dGFyZ2V0V2luZG93LmxvY2F0aW9uKXJldHVybiBmYWxzZTt9Y2F0Y2goZSl7Ly9MT0cuZGVidWcoXCJMb2NhdGlvbiBleGNlcHRpb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbnJldHVybiBmYWxzZTt9aWYoYnJvd3NlclZlcnNpb24uaXNLb25xdWVyb3Ipe2lmKCcvJz09dGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWYpey8vIGFwcGFyZW50bHkgS29ucXVlcm9yIHVzZXMgdGhpcyBhcyB0aGUgdGVtcG9yYXJ5IGxvY2F0aW9uLCBpbnN0ZWFkIG9mIGFib3V0OmJsYW5rXG5yZXR1cm4gZmFsc2U7fX1pZihicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7aWYodGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWY9PXNlbGVuaXVtLmJyb3dzZXJib3QuYnV0dG9uV2luZG93LmxvY2F0aW9uLmhyZWYpey8vIEFwcGFyZW50bHkgU2FmYXJpIHVzZXMgdGhpcyBhcyB0aGUgdGVtcG9yYXJ5IGxvY2F0aW9uLCBpbnN0ZWFkIG9mIGFib3V0OmJsYW5rXG4vLyB3aGF0IGEgd29ybGQhXG4vL0xPRy5kZWJ1ZyhcIkRHRiB3aGF0IGEgd29ybGQhXCIpO1xucmV0dXJuIGZhbHNlO319aWYoIXRhcmdldFdpbmRvdy5kb2N1bWVudClyZXR1cm4gZmFsc2U7aWYoIXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50LnJlYWR5U3RhdGUpey8vIFRoaXMgaXMgRmlyZWZveCwgd2l0aCBubyByZWFkeVN0YXRlIGV4dGVuc2lvblxucmV0dXJuIHRydWU7fWlmKCdjb21wbGV0ZSchPXRhcmdldFdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9O3JldHVybiBTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQocG9wdXBMb2FkZWRQcmVkaWNhdGUsdGltZW91dCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUG9wVXAuZG9udENoZWNrQWxlcnRzQW5kQ29uZmlybXM9dHJ1ZTsvL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuLyoqXHJcbiAqIDxwPlxyXG4gKiBCeSBkZWZhdWx0LCBTZWxlbml1bSdzIG92ZXJyaWRkZW4gd2luZG93LmNvbmZpcm0oKSBmdW5jdGlvbiB3aWxsXHJcbiAqIHJldHVybiB0cnVlLCBhcyBpZiB0aGUgdXNlciBoYWQgbWFudWFsbHkgY2xpY2tlZCBPSzsgYWZ0ZXIgcnVubmluZ1xyXG4gKiB0aGlzIGNvbW1hbmQsIHRoZSBuZXh0IGNhbGwgdG8gY29uZmlybSgpIHdpbGwgcmV0dXJuIGZhbHNlLCBhcyBpZlxyXG4gKiB0aGUgdXNlciBoYWQgY2xpY2tlZCBDYW5jZWwuICBTZWxlbml1bSB3aWxsIHRoZW4gcmVzdW1lIHVzaW5nIHRoZVxyXG4gKiBkZWZhdWx0IGJlaGF2aW9yIGZvciBmdXR1cmUgY29uZmlybWF0aW9ucywgYXV0b21hdGljYWxseSByZXR1cm5pbmdcclxuICogdHJ1ZSAoT0spIHVubGVzcy91bnRpbCB5b3UgZXhwbGljaXRseSBjYWxsIHRoaXMgY29tbWFuZCBmb3IgZWFjaFxyXG4gKiBjb25maXJtYXRpb24uXHJcbiAqIDwvcD5cclxuICogPHA+XHJcbiAqIFRha2Ugbm90ZSAtIGV2ZXJ5IHRpbWUgYSBjb25maXJtYXRpb24gY29tZXMgdXAsIHlvdSBtdXN0XHJcbiAqIGNvbnN1bWUgaXQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgZ2V0Q29uZmlybWF0aW9uLCBvciBlbHNlXHJcbiAqIHRoZSBuZXh0IHNlbGVuaXVtIG9wZXJhdGlvbiB3aWxsIGZhaWwuXHJcbiAqIDwvcD5cclxuICovIC8vdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRDb25maXJtYXRpb24oZmFsc2UpO1xuLy99O1xuLy9TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VPa09uTmV4dENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuLyoqXHJcbiAqIDxwPlxyXG4gKiBVbmRvIHRoZSBlZmZlY3Qgb2YgY2FsbGluZyBjaG9vc2VDYW5jZWxPbk5leHRDb25maXJtYXRpb24uICBOb3RlXHJcbiAqIHRoYXQgU2VsZW5pdW0ncyBvdmVycmlkZGVuIHdpbmRvdy5jb25maXJtKCkgZnVuY3Rpb24gd2lsbCBub3JtYWxseSBhdXRvbWF0aWNhbGx5XHJcbiAqIHJldHVybiB0cnVlLCBhcyBpZiB0aGUgdXNlciBoYWQgbWFudWFsbHkgY2xpY2tlZCBPSywgc28geW91IHNob3VsZG4ndFxyXG4gKiBuZWVkIHRvIHVzZSB0aGlzIGNvbW1hbmQgdW5sZXNzIGZvciBzb21lIHJlYXNvbiB5b3UgbmVlZCB0byBjaGFuZ2VcclxuICogeW91ciBtaW5kIHByaW9yIHRvIHRoZSBuZXh0IGNvbmZpcm1hdGlvbi4gIEFmdGVyIGFueSBjb25maXJtYXRpb24sIFNlbGVuaXVtIHdpbGwgcmVzdW1lIHVzaW5nIHRoZVxyXG4gKiBkZWZhdWx0IGJlaGF2aW9yIGZvciBmdXR1cmUgY29uZmlybWF0aW9ucywgYXV0b21hdGljYWxseSByZXR1cm5pbmdcclxuICogdHJ1ZSAoT0spIHVubGVzcy91bnRpbCB5b3UgZXhwbGljaXRseSBjYWxsIGNob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbiBmb3IgZWFjaFxyXG4gKiBjb25maXJtYXRpb24uXHJcbiAqIDwvcD5cclxuICogPHA+XHJcbiAqIFRha2Ugbm90ZSAtIGV2ZXJ5IHRpbWUgYSBjb25maXJtYXRpb24gY29tZXMgdXAsIHlvdSBtdXN0XHJcbiAqIGNvbnN1bWUgaXQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgZ2V0Q29uZmlybWF0aW9uLCBvciBlbHNlXHJcbiAqIHRoZSBuZXh0IHNlbGVuaXVtIG9wZXJhdGlvbiB3aWxsIGZhaWwuXHJcbiAqIDwvcD5cclxuICpcclxuICovIC8vdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRDb25maXJtYXRpb24odHJ1ZSk7XG4vL307XG4vL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fuc3dlck9uTmV4dFByb21wdCA9IGZ1bmN0aW9uKGFuc3dlcikge1xuLyoqXHJcbiAqIEluc3RydWN0cyBTZWxlbml1bSB0byByZXR1cm4gdGhlIHNwZWNpZmllZCBhbnN3ZXIgc3RyaW5nIGluIHJlc3BvbnNlIHRvXHJcbiAqIHRoZSBuZXh0IEphdmFTY3JpcHQgcHJvbXB0IFt3aW5kb3cucHJvbXB0KCldLlxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0gYW5zd2VyIHRoZSBhbnN3ZXIgdG8gZ2l2ZSBpbiByZXNwb25zZSB0byB0aGUgcHJvbXB0IHBvcC11cFxyXG4gKi8gLy90aGlzLmJyb3dzZXJib3Quc2V0TmV4dFByb21wdFJlc3VsdChhbnN3ZXIpO1xuLy99O1xuU2VsZW5pdW0ucHJvdG90eXBlLmRvR29CYWNrPWZ1bmN0aW9uKCl7LyoqXHJcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImJhY2tcIiBidXR0b24gb24gdGhlaXIgYnJvd3Nlci5cclxuICAgKlxyXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5nb0JhY2soKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1JlZnJlc2g9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBTaW11bGF0ZXMgdGhlIHVzZXIgY2xpY2tpbmcgdGhlIFwiUmVmcmVzaFwiIGJ1dHRvbiBvbiB0aGVpciBicm93c2VyLlxyXG4gICAqXHJcbiAgICovdGhpcy5icm93c2VyYm90LnJlZnJlc2goKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Nsb3NlPWZ1bmN0aW9uKCl7LyoqXHJcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImNsb3NlXCIgYnV0dG9uIGluIHRoZSB0aXRsZWJhciBvZiBhIHBvcHVwXHJcbiAgICogd2luZG93IG9yIHRhYi5cclxuICAgKi90aGlzLmJyb3dzZXJib3QuY2xvc2UoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5lbnN1cmVOb1VuaGFuZGxlZFBvcHVwcz1mdW5jdGlvbigpe2lmKHRoaXMuYnJvd3NlcmJvdC5oYXNBbGVydHMoKSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1RoZXJlIHdhcyBhbiB1bmV4cGVjdGVkIEFsZXJ0ISBbJyt0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dEFsZXJ0KCkrJ10nKTt9aWYodGhpcy5icm93c2VyYm90Lmhhc0NvbmZpcm1hdGlvbnMoKSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1RoZXJlIHdhcyBhbiB1bmV4cGVjdGVkIENvbmZpcm1hdGlvbiEgWycrdGhpcy5icm93c2VyYm90LmdldE5leHRDb25maXJtYXRpb24oKSsnXScpO319O1NlbGVuaXVtLnByb3RvdHlwZS5pc0FsZXJ0UHJlc2VudD1mdW5jdGlvbigpey8qKlxyXG4gICAqIEhhcyBhbiBhbGVydCBvY2N1cnJlZD9cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gbmV2ZXIgdGhyb3dzIGFuIGV4Y2VwdGlvblxyXG4gICAqIDwvcD5cclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGVyZSBpcyBhbiBhbGVydFxyXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuaGFzQWxlcnRzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNQcm9tcHRQcmVzZW50PWZ1bmN0aW9uKCl7LyoqXHJcbiAgICogSGFzIGEgcHJvbXB0IG9jY3VycmVkP1xyXG4gICAqXHJcbiAgICogPHA+XHJcbiAgICogVGhpcyBmdW5jdGlvbiBuZXZlciB0aHJvd3MgYW4gZXhjZXB0aW9uXHJcbiAgICogPC9wPlxyXG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBwcm9tcHRcclxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90Lmhhc1Byb21wdHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5pc0NvbmZpcm1hdGlvblByZXNlbnQ9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBIYXMgY29uZmlybSgpIGJlZW4gY2FsbGVkP1xyXG4gICAqXHJcbiAgICogPHA+XHJcbiAgICogVGhpcyBmdW5jdGlvbiBuZXZlciB0aHJvd3MgYW4gZXhjZXB0aW9uXHJcbiAgICogPC9wPlxyXG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBjb25maXJtYXRpb25cclxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90Lmhhc0NvbmZpcm1hdGlvbnMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRBbGVydD1mdW5jdGlvbigpey8qKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSBtZXNzYWdlIG9mIGEgSmF2YVNjcmlwdCBhbGVydCBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBwcmV2aW91cyBhY3Rpb24sIG9yIGZhaWwgaWYgdGhlcmUgd2VyZSBubyBhbGVydHMuXHJcbiAgICAgKlxyXG4gICAgICogPHA+R2V0dGluZyBhbiBhbGVydCBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzIG1hbnVhbGx5IGNsaWNraW5nIE9LLiBJZiBhblxyXG4gICAgICogYWxlcnQgaXMgZ2VuZXJhdGVkIGJ1dCB5b3UgZG8gbm90IGNvbnN1bWUgaXQgd2l0aCBnZXRBbGVydCwgdGhlIG5leHQgU2VsZW5pdW0gYWN0aW9uXHJcbiAgICAgKiB3aWxsIGZhaWwuPC9wPlxyXG4gICAgICpcclxuICAgICAqIDxwPlVuZGVyIFNlbGVuaXVtLCBKYXZhU2NyaXB0IGFsZXJ0cyB3aWxsIE5PVCBwb3AgdXAgYSB2aXNpYmxlIGFsZXJ0XHJcbiAgICAgKiBkaWFsb2cuPC9wPlxyXG4gICAgICpcclxuICAgICAqIDxwPlNlbGVuaXVtIGRvZXMgTk9UIHN1cHBvcnQgSmF2YVNjcmlwdCBhbGVydHMgdGhhdCBhcmUgZ2VuZXJhdGVkIGluIGFcclxuICAgICAqIHBhZ2UncyBvbmxvYWQoKSBldmVudCBoYW5kbGVyLiBJbiB0aGlzIGNhc2UgYSB2aXNpYmxlIGRpYWxvZyBXSUxMIGJlXHJcbiAgICAgKiBnZW5lcmF0ZWQgYW5kIFNlbGVuaXVtIHdpbGwgaGFuZyB1bnRpbCBzb21lb25lIG1hbnVhbGx5IGNsaWNrcyBPSy48L3A+XHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyBUaGUgbWVzc2FnZSBvZiB0aGUgbW9zdCByZWNlbnQgSmF2YVNjcmlwdCBhbGVydFxyXG5cclxuICAgICAqL2lmKCF0aGlzLmJyb3dzZXJib3QuaGFzQWxlcnRzKCkpe0Fzc2VydC5mYWlsKCdUaGVyZSB3ZXJlIG5vIGFsZXJ0cycpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldE5leHRBbGVydCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsZXJ0LmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7U2VsZW5pdW0ucHJvdG90eXBlLmdldENvbmZpcm1hdGlvbj1mdW5jdGlvbigpey8qKlxyXG4gICAqIFJldHJpZXZlcyB0aGUgbWVzc2FnZSBvZiBhIEphdmFTY3JpcHQgY29uZmlybWF0aW9uIGRpYWxvZyBnZW5lcmF0ZWQgZHVyaW5nXHJcbiAgICogdGhlIHByZXZpb3VzIGFjdGlvbi5cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBjb25maXJtIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRydWUsIGhhdmluZyB0aGUgc2FtZSBlZmZlY3RcclxuICAgKiBhcyBtYW51YWxseSBjbGlja2luZyBPSy4gVGhpcyBjYW4gYmUgY2hhbmdlZCBieSBwcmlvciBleGVjdXRpb24gb2YgdGhlXHJcbiAgICogY2hvb3NlQ2FuY2VsT25OZXh0Q29uZmlybWF0aW9uIGNvbW1hbmQuXHJcbiAgICogPC9wPlxyXG4gICAqIDxwPlxyXG4gICAqIElmIGFuIGNvbmZpcm1hdGlvbiBpcyBnZW5lcmF0ZWQgYnV0IHlvdSBkbyBub3QgY29uc3VtZSBpdCB3aXRoIGdldENvbmZpcm1hdGlvbixcclxuICAgKiB0aGUgbmV4dCBTZWxlbml1bSBhY3Rpb24gd2lsbCBmYWlsLlxyXG4gICAqIDwvcD5cclxuICAgKlxyXG4gICAqIDxwPlxyXG4gICAqIE5PVEU6IHVuZGVyIFNlbGVuaXVtLCBKYXZhU2NyaXB0IGNvbmZpcm1hdGlvbnMgd2lsbCBOT1QgcG9wIHVwIGEgdmlzaWJsZVxyXG4gICAqIGRpYWxvZy5cclxuICAgKiA8L3A+XHJcbiAgICpcclxuICAgKiA8cD5cclxuICAgKiBOT1RFOiBTZWxlbml1bSBkb2VzIE5PVCBzdXBwb3J0IEphdmFTY3JpcHQgY29uZmlybWF0aW9ucyB0aGF0IGFyZVxyXG4gICAqIGdlbmVyYXRlZCBpbiBhIHBhZ2UncyBvbmxvYWQoKSBldmVudCBoYW5kbGVyLiBJbiB0aGlzIGNhc2UgYSB2aXNpYmxlXHJcbiAgICogZGlhbG9nIFdJTEwgYmUgZ2VuZXJhdGVkIGFuZCBTZWxlbml1bSB3aWxsIGhhbmcgdW50aWwgeW91IG1hbnVhbGx5IGNsaWNrXHJcbiAgICogT0suXHJcbiAgICogPC9wPlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIG1lc3NhZ2Ugb2YgdGhlIG1vc3QgcmVjZW50IEphdmFTY3JpcHQgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAqL2lmKCF0aGlzLmJyb3dzZXJib3QuaGFzQ29uZmlybWF0aW9ucygpKXtBc3NlcnQuZmFpbCgnVGhlcmUgd2VyZSBubyBjb25maXJtYXRpb25zJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufXJldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dENvbmZpcm1hdGlvbigpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldENvbmZpcm1hdGlvbi5kb250Q2hlY2tBbGVydHNBbmRDb25maXJtcz10cnVlO1NlbGVuaXVtLnByb3RvdHlwZS5nZXRQcm9tcHQ9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZXRyaWV2ZXMgdGhlIG1lc3NhZ2Ugb2YgYSBKYXZhU2NyaXB0IHF1ZXN0aW9uIHByb21wdCBkaWFsb2cgZ2VuZXJhdGVkIGR1cmluZ1xyXG4gICAqIHRoZSBwcmV2aW91cyBhY3Rpb24uXHJcbiAgICpcclxuICAgKiA8cD5TdWNjZXNzZnVsIGhhbmRsaW5nIG9mIHRoZSBwcm9tcHQgcmVxdWlyZXMgcHJpb3IgZXhlY3V0aW9uIG9mIHRoZVxyXG4gICAqIGFuc3dlck9uTmV4dFByb21wdCBjb21tYW5kLiBJZiBhIHByb21wdCBpcyBnZW5lcmF0ZWQgYnV0IHlvdVxyXG4gICAqIGRvIG5vdCBnZXQvdmVyaWZ5IGl0LCB0aGUgbmV4dCBTZWxlbml1bSBhY3Rpb24gd2lsbCBmYWlsLjwvcD5cclxuICAgKlxyXG4gICAqIDxwPk5PVEU6IHVuZGVyIFNlbGVuaXVtLCBKYXZhU2NyaXB0IHByb21wdHMgd2lsbCBOT1QgcG9wIHVwIGEgdmlzaWJsZVxyXG4gICAqIGRpYWxvZy48L3A+XHJcbiAgICpcclxuICAgKiA8cD5OT1RFOiBTZWxlbml1bSBkb2VzIE5PVCBzdXBwb3J0IEphdmFTY3JpcHQgcHJvbXB0cyB0aGF0IGFyZSBnZW5lcmF0ZWQgaW4gYVxyXG4gICAqIHBhZ2UncyBvbmxvYWQoKSBldmVudCBoYW5kbGVyLiBJbiB0aGlzIGNhc2UgYSB2aXNpYmxlIGRpYWxvZyBXSUxMIGJlXHJcbiAgICogZ2VuZXJhdGVkIGFuZCBTZWxlbml1bSB3aWxsIGhhbmcgdW50aWwgc29tZW9uZSBtYW51YWxseSBjbGlja3MgT0suPC9wPlxyXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBtZXNzYWdlIG9mIHRoZSBtb3N0IHJlY2VudCBKYXZhU2NyaXB0IHF1ZXN0aW9uIHByb21wdFxyXG4gICAqL2lmKCF0aGlzLmJyb3dzZXJib3QuaGFzUHJvbXB0cygpKXtBc3NlcnQuZmFpbCgnVGhlcmUgd2VyZSBubyBwcm9tcHRzJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufXJldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dFByb21wdCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7LyoqIEdldHMgdGhlIGFic29sdXRlIFVSTCBvZiB0aGUgY3VycmVudCBwYWdlLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGFic29sdXRlIFVSTCBvZiB0aGUgY3VycmVudCBwYWdlXHJcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCkubG9jYXRpb24uaHJlZjt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpey8qKiBHZXRzIHRoZSB0aXRsZSBvZiB0aGUgY3VycmVudCBwYWdlLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHRpdGxlIG9mIHRoZSBjdXJyZW50IHBhZ2VcclxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldFRpdGxlKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Qm9keVRleHQ9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBHZXRzIHRoZSBlbnRpcmUgdGV4dCBvZiB0aGUgcGFnZS5cclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgZW50aXJlIHRleHQgb2YgdGhlIHBhZ2VcclxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmJvZHlUZXh0KCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogR2V0cyB0aGUgKHdoaXRlc3BhY2UtdHJpbW1lZCkgdmFsdWUgb2YgYW4gaW5wdXQgZmllbGQgKG9yIGFueXRoaW5nIGVsc2Ugd2l0aCBhIHZhbHVlIHBhcmFtZXRlcikuXHJcbiAgICogRm9yIGNoZWNrYm94L3JhZGlvIGVsZW1lbnRzLCB0aGUgdmFsdWUgd2lsbCBiZSBcIm9uXCIgb3IgXCJvZmZcIiBkZXBlbmRpbmcgb25cclxuICAgKiB3aGV0aGVyIHRoZSBlbGVtZW50IGlzIGNoZWNrZWQgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgZWxlbWVudCB2YWx1ZSwgb3IgXCJvbi9vZmZcIiBmb3IgY2hlY2tib3gvcmFkaW8gZWxlbWVudHNcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7cmV0dXJuIGVsZW1lbnQudmFsdWUudHJpbSgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogR2V0cyB0aGUgdGV4dCBvZiBhbiBlbGVtZW50LiBUaGlzIHdvcmtzIGZvciBhbnkgZWxlbWVudCB0aGF0IGNvbnRhaW5zXHJcbiAgICogdGV4dC4gVGhpcyBjb21tYW5kIHVzZXMgZWl0aGVyIHRoZSB0ZXh0Q29udGVudCAoTW96aWxsYS1saWtlIGJyb3dzZXJzKSBvclxyXG4gICAqIHRoZSBpbm5lclRleHQgKElFLWxpa2UgYnJvd3NlcnMpIG9mIHRoZSBlbGVtZW50LCB3aGljaCBpcyB0aGUgcmVuZGVyZWRcclxuICAgKiB0ZXh0IHNob3duIHRvIHRoZSB1c2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgdGV4dCBvZiB0aGUgZWxlbWVudFxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtyZXR1cm4gYm90LmRvbS5nZXRWaXNpYmxlVGV4dChlbGVtZW50KS50cmltKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RXZhbD1mdW5jdGlvbihzY3JpcHQpey8qKiBHZXRzIHRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgc3BlY2lmaWVkIEphdmFTY3JpcHQgc25pcHBldC4gIFRoZSBzbmlwcGV0IG1heVxyXG4gICAqIGhhdmUgbXVsdGlwbGUgbGluZXMsIGJ1dCBvbmx5IHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgbGluZSB3aWxsIGJlIHJldHVybmVkLlxyXG4gICAqXHJcbiAgICogPHA+Tm90ZSB0aGF0LCBieSBkZWZhdWx0LCB0aGUgc25pcHBldCB3aWxsIHJ1biBpbiB0aGUgY29udGV4dCBvZiB0aGUgXCJzZWxlbml1bVwiXHJcbiAgICogb2JqZWN0IGl0c2VsZiwgc28gPGNvZGU+dGhpczwvY29kZT4gd2lsbCByZWZlciB0byB0aGUgU2VsZW5pdW0gb2JqZWN0LiAgVXNlIDxjb2RlPndpbmRvdzwvY29kZT4gdG9cclxuICAgKiByZWZlciB0byB0aGUgd2luZG93IG9mIHlvdXIgYXBwbGljYXRpb24sIGUuZy4gPGNvZGU+d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb28nKTwvY29kZT48L3A+XHJcbiAgICpcclxuICAgKiA8cD5JZiB5b3UgbmVlZCB0byB1c2VcclxuICAgKiBhIGxvY2F0b3IgdG8gcmVmZXIgdG8gYSBzaW5nbGUgZWxlbWVudCBpbiB5b3VyIGFwcGxpY2F0aW9uIHBhZ2UsIHlvdSBjYW5cclxuICAgKiB1c2UgPGNvZGU+dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KFwiaWQ9Zm9vXCIpPC9jb2RlPiB3aGVyZSBcImlkPWZvb1wiIGlzIHlvdXIgbG9jYXRvci48L3A+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2NyaXB0IHRoZSBKYXZhU2NyaXB0IHNuaXBwZXQgdG8gcnVuXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHJlc3VsdHMgb2YgZXZhbHVhdGluZyB0aGUgc25pcHBldFxyXG4gICAqL3RyeXsvL0xPRy5pbmZvKCdzY3JpcHQgaXM6ICcgKyBzY3JpcHQpO1xubGV0IHJlc3VsdD10aGlzLmV2YWwoc2NyaXB0KTsvLyBTZWxlbml1bSBSQyBkb2Vzbid0IGFsbG93IHJldHVybmluZyBudWxsXG5pZihudWxsPT1yZXN1bHQpcmV0dXJuJ251bGwnO3JldHVybiByZXN1bHQ7fWNhdGNoKGUpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdUaHJldyBhbiBleGNlcHRpb246ICcrZXh0cmFjdEV4Y2VwdGlvbk1lc3NhZ2UoZSkpO319O1NlbGVuaXVtLnByb3RvdHlwZS5pc0NoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogR2V0cyB3aGV0aGVyIGEgdG9nZ2xlLWJ1dHRvbiAoY2hlY2tib3gvcmFkaW8pIGlzIGNoZWNrZWQuICBGYWlscyBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgZG9lc24ndCBleGlzdCBvciBpc24ndCBhIHRvZ2dsZS1idXR0b24uXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYSBjaGVja2JveCBvciByYWRpbyBidXR0b25cclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZCwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQuY2hlY2tlZD09bnVsbCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0VsZW1lbnQgJytsb2NhdG9yKycgaXMgbm90IGEgdG9nZ2xlLWJ1dHRvbi4nKTt9cmV0dXJuIGVsZW1lbnQuY2hlY2tlZDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRUYWJsZT1mdW5jdGlvbih0YWJsZUNlbGxBZGRyZXNzKXsvKipcclxuICAgKiBHZXRzIHRoZSB0ZXh0IGZyb20gYSBjZWxsIG9mIGEgdGFibGUuIFRoZSBjZWxsQWRkcmVzcyBzeW50YXhcclxuICAgKiB0YWJsZUxvY2F0b3Iucm93LmNvbHVtbiwgd2hlcmUgcm93IGFuZCBjb2x1bW4gc3RhcnQgYXQgMC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB0YWJsZUNlbGxBZGRyZXNzIGEgY2VsbCBhZGRyZXNzLCBlLmcuIFwiZm9vLjEuNFwiXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHRleHQgZnJvbSB0aGUgc3BlY2lmaWVkIGNlbGxcclxuICAgKi8gLy8gVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBcInRhYmxlTmFtZS5yb3cuY29sdW1uXCJcbi8vIEZvciBleGFtcGxlLCBcIm15dGFibGUuMy40XCJcbmxldCBwYXR0ZXJuPS8oLiopXFwuKFxcZCspXFwuKFxcZCspLztpZighcGF0dGVybi50ZXN0KHRhYmxlQ2VsbEFkZHJlc3MpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignSW52YWxpZCB0YXJnZXQgZm9ybWF0LiBDb3JyZWN0IGZvcm1hdCBpcyB0YWJsZU5hbWUucm93TnVtLmNvbHVtbk51bScpO31sZXQgcGllY2VzPXRhYmxlQ2VsbEFkZHJlc3MubWF0Y2gocGF0dGVybik7bGV0IHRhYmxlTmFtZT1waWVjZXNbMV07bGV0IHJvdz1waWVjZXNbMl07bGV0IGNvbD1waWVjZXNbM107bGV0IHRhYmxlPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudCh0YWJsZU5hbWUpO2lmKHJvdz50YWJsZS5yb3dzLmxlbmd0aCl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5Bc3NlcnQuZmFpbCgnQ2Fubm90IGFjY2VzcyByb3cgJytyb3crJyAtIHRhYmxlIGhhcyAnK3RhYmxlLnJvd3MubGVuZ3RoKycgcm93cycpO31lbHNlIGlmKGNvbD50YWJsZS5yb3dzW3Jvd10uY2VsbHMubGVuZ3RoKXsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbkFzc2VydC5mYWlsKCdDYW5ub3QgYWNjZXNzIGNvbHVtbiAnK2NvbCsnIC0gdGFibGUgcm93IGhhcyAnK3RhYmxlLnJvd3Nbcm93XS5jZWxscy5sZW5ndGgrJyBjb2x1bW5zJyk7fWVsc2V7bGV0IGFjdHVhbENvbnRlbnQ9Ym90LmRvbS5nZXRWaXNpYmxlVGV4dCh0YWJsZS5yb3dzW3Jvd10uY2VsbHNbY29sXSk7cmV0dXJuIGFjdHVhbENvbnRlbnQudHJpbSgpO31yZXR1cm4gbnVsbDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZExhYmVscz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIGxhYmVscyAodmlzaWJsZSB0ZXh0KSBmb3Igc2VsZWN0ZWQgb3B0aW9ucyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBvciBtdWx0aS1zZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZ1tdIGFuIGFycmF5IG9mIGFsbCBzZWxlY3RlZCBvcHRpb24gbGFiZWxzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxyXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnRpZXMoc2VsZWN0TG9jYXRvciwndGV4dCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkTGFiZWw9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgb3B0aW9uIGxhYmVsICh2aXNpYmxlIHRleHQpIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIGxhYmVsIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxyXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ3RleHQnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZFZhbHVlcz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIHZhbHVlcyAodmFsdWUgYXR0cmlidXRlcykgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XHJcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cclxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKHNlbGVjdExvY2F0b3IsJ3ZhbHVlJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRWYWx1ZT1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gdmFsdWUgKHZhbHVlIGF0dHJpYnV0ZSkgZm9yIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxyXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBzZWxlY3RlZCBvcHRpb24gdmFsdWUgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXHJcbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydHkoc2VsZWN0TG9jYXRvciwndmFsdWUnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZEluZGV4ZXM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBpbmRleGVzIChvcHRpb24gbnVtYmVyLCBzdGFydGluZyBhdCAwKSBmb3Igc2VsZWN0ZWQgb3B0aW9ucyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBvciBtdWx0aS1zZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZ1tdIGFuIGFycmF5IG9mIGFsbCBzZWxlY3RlZCBvcHRpb24gaW5kZXhlcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cclxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKHNlbGVjdExvY2F0b3IsJ2luZGV4Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJbmRleD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gaW5kZXggKG9wdGlvbiBudW1iZXIsIHN0YXJ0aW5nIGF0IDApIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIGluZGV4IGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxyXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ2luZGV4Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJZHM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBlbGVtZW50IElEcyBmb3Igc2VsZWN0ZWQgb3B0aW9ucyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBvciBtdWx0aS1zZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZ1tdIGFuIGFycmF5IG9mIGFsbCBzZWxlY3RlZCBvcHRpb24gSURzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxyXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnRpZXMoc2VsZWN0TG9jYXRvciwnaWQnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZElkPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Ipey8qKiBHZXRzIG9wdGlvbiBlbGVtZW50IElEIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcclxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIElEIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxyXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ2lkJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNTb21ldGhpbmdTZWxlY3RlZD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogRGV0ZXJtaW5lcyB3aGV0aGVyIHNvbWUgb3B0aW9uIGluIGEgZHJvcC1kb3duIG1lbnUgaXMgc2VsZWN0ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XHJcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgc29tZSBvcHRpb24gaGFzIGJlZW4gc2VsZWN0ZWQsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChzZWxlY3RMb2NhdG9yKTtpZighKCdvcHRpb25zJ2luIGVsZW1lbnQpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7aWYoZWxlbWVudC5vcHRpb25zW2ldLnNlbGVjdGVkKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKGxvY2F0b3IscHJvcGVydHkpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZighKCdvcHRpb25zJ2luIGVsZW1lbnQpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9bGV0IHNlbGVjdGVkT3B0aW9ucz1bXTtmb3IobGV0IGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZihlbGVtZW50Lm9wdGlvbnNbaV0uc2VsZWN0ZWQpe2xldCBwcm9wVmFsPWVsZW1lbnQub3B0aW9uc1tpXVtwcm9wZXJ0eV07c2VsZWN0ZWRPcHRpb25zLnB1c2gocHJvcFZhbCk7fX1pZihzZWxlY3RlZE9wdGlvbnMubGVuZ3RoPT0wKUFzc2VydC5mYWlsKCdObyBvcHRpb24gc2VsZWN0ZWQnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5yZXR1cm4gc2VsZWN0ZWRPcHRpb25zO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5PWZ1bmN0aW9uKGxvY2F0b3IscHJvcGVydHkpe2xldCBzZWxlY3RlZE9wdGlvbnM9dGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKGxvY2F0b3IscHJvcGVydHkpO2lmKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGg+MSl7QXNzZXJ0LmZhaWwoJ01vcmUgdGhhbiBvbmUgc2VsZWN0ZWQgb3B0aW9uIScpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gc2VsZWN0ZWRPcHRpb25zWzBdO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdE9wdGlvbnM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBsYWJlbHMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxyXG4gICAqIEByZXR1cm4gc3RyaW5nW10gYW4gYXJyYXkgb2YgYWxsIG9wdGlvbiBsYWJlbHMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KHNlbGVjdExvY2F0b3IpO2xldCBzZWxlY3RPcHRpb25zPVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudC5vcHRpb25zLmxlbmd0aDtpKyspe2xldCBvcHRpb249ZWxlbWVudC5vcHRpb25zW2ldLnRleHQ7c2VsZWN0T3B0aW9ucy5wdXNoKG9wdGlvbik7fXJldHVybiBzZWxlY3RPcHRpb25zO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEF0dHJpYnV0ZT1mdW5jdGlvbihhdHRyaWJ1dGVMb2NhdG9yKXsvKipcclxuICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGF0dHJpYnV0ZS4gVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgbWF5XHJcbiAgICogZGlmZmVyIGFjcm9zcyBicm93c2VycyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdGhlIFwic3R5bGVcIiBhdHRyaWJ1dGUsIGZvclxyXG4gICAqIGV4YW1wbGUpLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yIGZvbGxvd2VkIGJ5IGFuICYjMDY0OyBzaWduIGFuZCB0aGVuIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUsIGUuZy4gXCJmb28mIzA2NDtiYXJcIlxyXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZVxyXG4gICAqL2xldCByZXN1bHQ9dGhpcy5icm93c2VyYm90LmZpbmRBdHRyaWJ1dGUoYXR0cmlidXRlTG9jYXRvcik7aWYocmVzdWx0PT1udWxsKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignQ291bGQgbm90IGZpbmQgZWxlbWVudCBhdHRyaWJ1dGU6ICcrYXR0cmlidXRlTG9jYXRvcik7fXJldHVybiByZXN1bHQ7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNUZXh0UHJlc2VudD1mdW5jdGlvbihwYXR0ZXJuKXsvKipcclxuICAgKiBWZXJpZmllcyB0aGF0IHRoZSBzcGVjaWZpZWQgdGV4dCBwYXR0ZXJuIGFwcGVhcnMgc29tZXdoZXJlIG9uIHRoZSByZW5kZXJlZCBwYWdlIHNob3duIHRvIHRoZSB1c2VyLlxyXG4gICAqIEBwYXJhbSBwYXR0ZXJuIGEgPGEgaHJlZj1cIiNwYXR0ZXJuc1wiPnBhdHRlcm48L2E+IHRvIG1hdGNoIHdpdGggdGhlIHRleHQgb2YgdGhlIHBhZ2VcclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgcGF0dGVybiBtYXRjaGVzIHRoZSB0ZXh0LCBmYWxzZSBvdGhlcndpc2VcclxuICAgKi9sZXQgYWxsVGV4dD10aGlzLmJyb3dzZXJib3QuYm9keVRleHQoKTtsZXQgcGF0dGVybk1hdGNoZXI9bmV3IFBhdHRlcm5NYXRjaGVyKHBhdHRlcm4pO2lmKHBhdHRlcm5NYXRjaGVyLnN0cmF0ZWd5PT1QYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLmdsb2Ipe2lmKHBhdHRlcm4uaW5kZXhPZignZ2xvYjonKT09MCl7cGF0dGVybj1wYXR0ZXJuLnN1YnN0cmluZygnZ2xvYjonLmxlbmd0aCk7Ly8gc3RyaXAgb2ZmIFwiZ2xvYjpcIlxufXBhdHRlcm5NYXRjaGVyLm1hdGNoZXI9bmV3IFBhdHRlcm5NYXRjaGVyLnN0cmF0ZWdpZXMuZ2xvYkNvbnRhaW5zKHBhdHRlcm4pO31lbHNlIGlmKHBhdHRlcm5NYXRjaGVyLnN0cmF0ZWd5PT1QYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLmV4YWN0KXtwYXR0ZXJuPXBhdHRlcm4uc3Vic3RyaW5nKCdleGFjdDonLmxlbmd0aCk7Ly8gc3RyaXAgb2ZmIFwiZXhhY3Q6XCJcbnJldHVybiBhbGxUZXh0LmluZGV4T2YocGF0dGVybikhPS0xO31yZXR1cm4gcGF0dGVybk1hdGNoZXIubWF0Y2hlcyhhbGxUZXh0KTt9O2Z1bmN0aW9uIGlzRWxlbWVudE5vdFByZXNlbnQobG9jYXRvcil7cmV0dXJuIXRoaXMuaXNFbGVtZW50UHJlc2VudChsb2NhdG9yKTt9U2VsZW5pdW0ucHJvdG90eXBlLmlzRWxlbWVudFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogVmVyaWZpZXMgdGhhdCB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgc29tZXdoZXJlIG9uIHRoZSBwYWdlLlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgcHJlc2VudCwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50T3JOdWxsKGxvY2F0b3IpO2lmKGVsZW1lbnQ9PW51bGwpe3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fTtmdW5jdGlvbiB1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcigpe3Rocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvY2F0ZSB0YXJnZXQgZWxlbWVudC4nKTt9ZnVuY3Rpb24gaXNOb3REaXNwbGF5ZWQobG9jYXRvcil7dHJ5e3JldHVybiF0aGlzLmlzVmlzaWJsZShsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe3VuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yKCk7fX1mdW5jdGlvbiBpc0Rpc3BsYXllZChsb2NhdG9yKXt0cnl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKGxvY2F0b3IpO31jYXRjaChlcnJvcil7cmV0dXJuIGZhbHNlO319U2VsZW5pdW0ucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpcyB2aXNpYmxlLiBBblxyXG4gICAqIGVsZW1lbnQgY2FuIGJlIHJlbmRlcmVkIGludmlzaWJsZSBieSBzZXR0aW5nIHRoZSBDU1MgXCJ2aXNpYmlsaXR5XCJcclxuICAgKiBwcm9wZXJ0eSB0byBcImhpZGRlblwiLCBvciB0aGUgXCJkaXNwbGF5XCIgcHJvcGVydHkgdG8gXCJub25lXCIsIGVpdGhlciBmb3IgdGhlXHJcbiAgICogZWxlbWVudCBpdHNlbGYgb3Igb25lIGlmIGl0cyBhbmNlc3RvcnMuICBUaGlzIG1ldGhvZCB3aWxsIGZhaWwgaWZcclxuICAgKiB0aGUgZWxlbWVudCBpcyBub3QgcHJlc2VudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XHJcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAqL2xldCBlbGVtZW50O2VsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpOy8vIERHRiBpZiBpdCdzIGFuIGlucHV0IHRhZyBvZiB0eXBlIFwiaGlkZGVuXCIgdGhlbiBpdCdzIG5vdCB2aXNpYmxlXG5pZihlbGVtZW50LnRhZ05hbWUpe2xldCB0YWdOYW1lPW5ldyBTdHJpbmcoZWxlbWVudC50YWdOYW1lKS50b0xvd2VyQ2FzZSgpO2lmKHRhZ05hbWU9PSdpbnB1dCcpe2lmKGVsZW1lbnQudHlwZSl7bGV0IGVsZW1lbnRUeXBlPW5ldyBTdHJpbmcoZWxlbWVudC50eXBlKS50b0xvd2VyQ2FzZSgpO2lmKGVsZW1lbnRUeXBlPT0naGlkZGVuJyl7cmV0dXJuIGZhbHNlO319fX1sZXQgdmlzaWJpbGl0eT10aGlzLmZpbmRFZmZlY3RpdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQsJ3Zpc2liaWxpdHknKTtsZXQgX2lzRGlzcGxheWVkPXRoaXMuX2lzRGlzcGxheWVkKGVsZW1lbnQpO3JldHVybiB2aXNpYmlsaXR5IT0naGlkZGVuJyYmX2lzRGlzcGxheWVkO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRFZmZlY3RpdmVTdHlsZVByb3BlcnR5PWZ1bmN0aW9uKGVsZW1lbnQscHJvcGVydHkpe2xldCBlZmZlY3RpdmVTdHlsZT10aGlzLmZpbmRFZmZlY3RpdmVTdHlsZShlbGVtZW50KTtsZXQgcHJvcGVydHlWYWx1ZT1lZmZlY3RpdmVTdHlsZVtwcm9wZXJ0eV07aWYocHJvcGVydHlWYWx1ZT09J2luaGVyaXQnJiZlbGVtZW50LnBhcmVudE5vZGUuc3R5bGUpe3JldHVybiB0aGlzLmZpbmRFZmZlY3RpdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQucGFyZW50Tm9kZSxwcm9wZXJ0eSk7fXJldHVybiBwcm9wZXJ0eVZhbHVlO307U2VsZW5pdW0ucHJvdG90eXBlLl9pc0Rpc3BsYXllZD1mdW5jdGlvbihlbGVtZW50KXtsZXQgZGlzcGxheT10aGlzLmZpbmRFZmZlY3RpdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQsJ2Rpc3BsYXknKTtpZihkaXNwbGF5PT0nbm9uZScpcmV0dXJuIGZhbHNlO2lmKGVsZW1lbnQucGFyZW50Tm9kZS5zdHlsZSl7cmV0dXJuIHRoaXMuX2lzRGlzcGxheWVkKGVsZW1lbnQucGFyZW50Tm9kZSk7fXJldHVybiB0cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRFZmZlY3RpdmVTdHlsZT1mdW5jdGlvbihlbGVtZW50KXtpZihlbGVtZW50LnN0eWxlPT11bmRlZmluZWQpe3JldHVybiB1bmRlZmluZWQ7Ly8gbm90IGEgc3R5bGVkIGVsZW1lbnRcbn1sZXQgd2luZG93PXRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7aWYod2luZG93LmdldENvbXB1dGVkU3R5bGUpey8vIERPTS1MZXZlbC0yLUNTU1xucmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsbnVsbCk7fWlmKGVsZW1lbnQuY3VycmVudFN0eWxlKXsvLyBub24tc3RhbmRhcmQgSUUgYWx0ZXJuYXRpdmVcbnJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZTsvLyBUT0RPOiB0aGlzIHdvbid0IHJlYWxseSB3b3JrIGluIGEgZ2VuZXJhbCBzZW5zZSwgYXNcbi8vICAgY3VycmVudFN0eWxlIGlzIG5vdCBpZGVudGljYWwgdG8gZ2V0Q29tcHV0ZWRTdHlsZSgpXG4vLyAgIC4uLiBidXQgaXQncyBnb29kIGVub3VnaCBmb3IgXCJ2aXNpYmlsaXR5XCJcbn1pZih3aW5kb3cuZG9jdW1lbnQuZGVmYXVsdFZpZXcmJndpbmRvdy5kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKXtyZXR1cm4gd2luZG93LmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCxudWxsKTt9dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ2Nhbm5vdCBkZXRlcm1pbmUgZWZmZWN0aXZlIHN0eWxlc2hlZXQgaW4gdGhpcyBicm93c2VyJyk7fTtmdW5jdGlvbiBpc0VkaXRhYmxlKGxvY2F0b3Ipe3RyeXtyZXR1cm4gdGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpO31jYXRjaChlcnJvcil7dW5hYmxlVG9Mb2NhdGVUYXJnZXRFbGVtZW50RXJyb3IoKTt9fWZ1bmN0aW9uIGlzTm90RWRpdGFibGUobG9jYXRvcil7dHJ5e3JldHVybiF0aGlzLmlzRWRpdGFibGUobG9jYXRvcik7fWNhdGNoKGVycm9yKXt1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcigpO319U2VsZW5pdW0ucHJvdG90eXBlLmlzRWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgaW5wdXQgZWxlbWVudCBpcyBlZGl0YWJsZSwgaWUgaGFzbid0IGJlZW4gZGlzYWJsZWQuXHJcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBmYWlsIGlmIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpc24ndCBhbiBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgaW5wdXQgZWxlbWVudCBpcyBlZGl0YWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudmFsdWU9PXVuZGVmaW5lZCl7QXNzZXJ0LmZhaWwoJ0VsZW1lbnQgJytsb2NhdG9yKycgaXMgbm90IGFuIGlucHV0LicpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1pZihlbGVtZW50LmRpc2FibGVkKXtyZXR1cm4gZmFsc2U7fS8vIERHRiBcInJlYWRvbmx5XCIgaXMgYSBiaXQgZ29vZnkuLi4gaXQgZG9lc24ndCBuZWNlc3NhcmlseSBoYXZlIGEgdmFsdWVcbi8vIFlvdSBjYW4gd3JpdGUgPGlucHV0IHJlYWRvbmx5IHZhbHVlPVwiYmxhY2tcIj5cbmxldCByZWFkT25seU5vZGU9ZWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlKCdyZWFkb25seScpO2lmKHJlYWRPbmx5Tm9kZSl7Ly8gREdGIG9uIElFLCBldmVyeSBpbnB1dCBlbGVtZW50IGhhcyBhIHJlYWRPbmx5IG5vZGUsIGJ1dCBpdCBtYXkgYmUgZmFsc2VcbmlmKHR5cGVvZiByZWFkT25seU5vZGUubm9kZVZhbHVlPT0nYm9vbGVhbicpe2xldCByZWFkT25seT1yZWFkT25seU5vZGUubm9kZVZhbHVlO2lmKHJlYWRPbmx5KXtyZXR1cm4gZmFsc2U7fX1lbHNle3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbEJ1dHRvbnM9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgSURzIG9mIGFsbCBidXR0b25zIG9uIHRoZSBwYWdlLlxyXG4gICAqXHJcbiAgICogPHA+SWYgYSBnaXZlbiBidXR0b24gaGFzIG5vIElELCBpdCB3aWxsIGFwcGVhciBhcyBcIlwiIGluIHRoaXMgYXJyYXkuPC9wPlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmdbXSB0aGUgSURzIG9mIGFsbCBidXR0b25zIG9uIHRoZSBwYWdlXHJcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxCdXR0b25zKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QWxsTGlua3M9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgSURzIG9mIGFsbCBsaW5rcyBvbiB0aGUgcGFnZS5cclxuICAgKlxyXG4gICAqIDxwPklmIGEgZ2l2ZW4gbGluayBoYXMgbm8gSUQsIGl0IHdpbGwgYXBwZWFyIGFzIFwiXCIgaW4gdGhpcyBhcnJheS48L3A+XHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHN0cmluZ1tdIHRoZSBJRHMgb2YgYWxsIGxpbmtzIG9uIHRoZSBwYWdlXHJcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxMaW5rcygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbEZpZWxkcz1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgYWxsIGlucHV0IGZpZWxkcyBvbiB0aGUgcGFnZS5cclxuICAgKlxyXG4gICAqIDxwPklmIGEgZ2l2ZW4gZmllbGQgaGFzIG5vIElELCBpdCB3aWxsIGFwcGVhciBhcyBcIlwiIGluIHRoaXMgYXJyYXkuPC9wPlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmdbXSB0aGUgSURzIG9mIGFsbCBmaWVsZCBvbiB0aGUgcGFnZVxyXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0QWxsRmllbGRzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZXRNb3VzZVNwZWVkPWZ1bmN0aW9uKHBpeGVscyl7LyoqIENvbmZpZ3VyZSB0aGUgbnVtYmVyIG9mIHBpeGVscyBiZXR3ZWVuIFwibW91c2Vtb3ZlXCIgZXZlbnRzIGR1cmluZyBkcmFnQW5kRHJvcCBjb21tYW5kcyAoZGVmYXVsdD0xMCkuXHJcbiAgICogPHA+U2V0dGluZyB0aGlzIHZhbHVlIHRvIDAgbWVhbnMgdGhhdCB3ZSdsbCBzZW5kIGEgXCJtb3VzZW1vdmVcIiBldmVudCB0byBldmVyeSBzaW5nbGUgcGl4ZWxcclxuICAgKiBpbiBiZXR3ZWVuIHRoZSBzdGFydCBsb2NhdGlvbiBhbmQgdGhlIGVuZCBsb2NhdGlvbjsgdGhhdCBjYW4gYmUgdmVyeSBzbG93LCBhbmQgbWF5XHJcbiAgICogY2F1c2Ugc29tZSBicm93c2VycyB0byBmb3JjZSB0aGUgSmF2YVNjcmlwdCB0byB0aW1lb3V0LjwvcD5cclxuICAgKlxyXG4gICAqIDxwPklmIHRoZSBtb3VzZSBzcGVlZCBpcyBncmVhdGVyIHRoYW4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBkcmFnZ2VkIG9iamVjdHMsIHdlJ2xsXHJcbiAgICoganVzdCBzZW5kIG9uZSBcIm1vdXNlbW92ZVwiIGF0IHRoZSBzdGFydCBsb2NhdGlvbiBhbmQgdGhlbiBvbmUgZmluYWwgb25lIGF0IHRoZSBlbmQgbG9jYXRpb24uPC9wPlxyXG4gICAqIEBwYXJhbSBwaXhlbHMgdGhlIG51bWJlciBvZiBwaXhlbHMgYmV0d2VlbiBcIm1vdXNlbW92ZVwiIGV2ZW50c1xyXG4gICAqL2xldCBpbnRWYWx1ZT1uZXcgTnVtYmVyKHBpeGVscyk7aWYoaW50VmFsdWUuY29uc3RydWN0b3IhPU51bWJlcnx8aW50VmFsdWU8MCl7dGhpcy5tb3VzZVNwZWVkPVNlbGVuaXVtLkRFRkFVTFRfTU9VU0VfU1BFRUQ7fWVsc2V7dGhpcy5tb3VzZVNwZWVkPXBpeGVsczt9fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0TW91c2VTcGVlZD1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKVxyXG4gICAqL3JldHVybiB0aGlzLm1vdXNlU3BlZWQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9EcmFnQW5kRHJvcD1mdW5jdGlvbihsb2NhdG9yLG1vdmVtZW50c1N0cmluZyl7LyoqIERyYWdzIGFuIGVsZW1lbnQgYSBjZXJ0YWluIGRpc3RhbmNlIGFuZCB0aGVuIGRyb3BzIGl0XHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXHJcbiAgICogQHBhcmFtIG1vdmVtZW50c1N0cmluZyBvZmZzZXQgaW4gcGl4ZWxzIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24gdG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIGJlIG1vdmVkLCBlLmcuLCBcIis3MCwtMzAwXCJcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNsaWVudFN0YXJ0WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCk7bGV0IGNsaWVudFN0YXJ0WD1jbGllbnRTdGFydFhZWzBdO2xldCBjbGllbnRTdGFydFk9Y2xpZW50U3RhcnRYWVsxXTtsZXQgbW92ZW1lbnRzPW1vdmVtZW50c1N0cmluZy5zcGxpdCgvLC8pO2xldCBtb3ZlbWVudFg9TnVtYmVyKG1vdmVtZW50c1swXSk7bGV0IG1vdmVtZW50WT1OdW1iZXIobW92ZW1lbnRzWzFdKTtsZXQgY2xpZW50RmluaXNoWD1jbGllbnRTdGFydFgrbW92ZW1lbnRYPDA/MDpjbGllbnRTdGFydFgrbW92ZW1lbnRYO2xldCBjbGllbnRGaW5pc2hZPWNsaWVudFN0YXJ0WSttb3ZlbWVudFk8MD8wOmNsaWVudFN0YXJ0WSttb3ZlbWVudFk7bGV0IG1vdXNlU3BlZWQ9dGhpcy5tb3VzZVNwZWVkO2xldCBtb3ZlPWZ1bmN0aW9uKGN1cnJlbnQsZGVzdCl7aWYoY3VycmVudD09ZGVzdClyZXR1cm4gY3VycmVudDtpZihNYXRoLmFicyhjdXJyZW50LWRlc3QpPG1vdXNlU3BlZWQpcmV0dXJuIGRlc3Q7cmV0dXJuIGN1cnJlbnQ8ZGVzdD9jdXJyZW50K21vdXNlU3BlZWQ6Y3VycmVudC1tb3VzZVNwZWVkO307dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRTdGFydFgsY2xpZW50U3RhcnRZKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudFN0YXJ0WCxjbGllbnRTdGFydFkpO2xldCBjbGllbnRYPWNsaWVudFN0YXJ0WDtsZXQgY2xpZW50WT1jbGllbnRTdGFydFk7d2hpbGUoY2xpZW50WCE9Y2xpZW50RmluaXNoWHx8Y2xpZW50WSE9Y2xpZW50RmluaXNoWSl7Y2xpZW50WD1tb3ZlKGNsaWVudFgsY2xpZW50RmluaXNoWCk7Y2xpZW50WT1tb3ZlKGNsaWVudFksY2xpZW50RmluaXNoWSk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlbW92ZScsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO310aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudEZpbmlzaFgsY2xpZW50RmluaXNoWSk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNldXAnLHRydWUsY2xpZW50RmluaXNoWCxjbGllbnRGaW5pc2hZKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RyYWdBbmREcm9wVG9PYmplY3Q9ZnVuY3Rpb24obG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQsbG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KXsvKiogRHJhZ3MgYW4gZWxlbWVudCBhbmQgZHJvcHMgaXQgb24gYW5vdGhlciBlbGVtZW50XHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQgYW4gZWxlbWVudCB0byBiZSBkcmFnZ2VkXHJcbiAgICogQHBhcmFtIGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCBhbiBlbGVtZW50IHdob3NlIGxvY2F0aW9uIChpLmUuLCB3aG9zZSBjZW50ZXItbW9zdCBwaXhlbCkgd2lsbCBiZSB0aGUgcG9pbnQgd2hlcmUgbG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQgIGlzIGRyb3BwZWRcclxuICAgKi9pZighdGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkKS5kcmFnZ2FibGUpey8vb3JpZ2luIGNvZGVcbmxldCBzdGFydFg9dGhpcy5nZXRFbGVtZW50UG9zaXRpb25MZWZ0KGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkKTtsZXQgc3RhcnRZPXRoaXMuZ2V0RWxlbWVudFBvc2l0aW9uVG9wKGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkKTtsZXQgZGVzdGluYXRpb25MZWZ0WD10aGlzLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQobG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KTtsZXQgZGVzdGluYXRpb25Ub3BZPXRoaXMuZ2V0RWxlbWVudFBvc2l0aW9uVG9wKGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCk7bGV0IGRlc3RpbmF0aW9uV2lkdGg9dGhpcy5nZXRFbGVtZW50V2lkdGgobG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KTtsZXQgZGVzdGluYXRpb25IZWlnaHQ9dGhpcy5nZXRFbGVtZW50SGVpZ2h0KGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCk7bGV0IGVuZFg9TWF0aC5yb3VuZChkZXN0aW5hdGlvbkxlZnRYK2Rlc3RpbmF0aW9uV2lkdGgvMik7bGV0IGVuZFk9TWF0aC5yb3VuZChkZXN0aW5hdGlvblRvcFkrZGVzdGluYXRpb25IZWlnaHQvMik7bGV0IGRlbHRhWD1lbmRYLXN0YXJ0WDtsZXQgZGVsdGFZPWVuZFktc3RhcnRZO2xldCBtb3ZlbWVudHNTdHJpbmc9JycrZGVsdGFYKycsJytkZWx0YVk7dGhpcy5kb0RyYWdBbmREcm9wKGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkLG1vdmVtZW50c1N0cmluZyk7fWVsc2V7Ly9EcmFnQW5kRHJvcEV4dCwgU2h1by1IZW5nIFNoaWgsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA5LzI5XG5sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQpO2xldCB0YXJnZXQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJEcmFnRXZlbnQoZWxlbWVudCx0YXJnZXQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dpbmRvd0ZvY3VzPWZ1bmN0aW9uKCl7LyoqIEdpdmVzIGZvY3VzIHRvIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgd2luZG93XHJcbiAgICpcclxuICAgKi90aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmZvY3VzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XaW5kb3dNYXhpbWl6ZT1mdW5jdGlvbigpey8qKiBSZXNpemUgY3VycmVudGx5IHNlbGVjdGVkIHdpbmRvdyB0byB0YWtlIHVwIHRoZSBlbnRpcmUgc2NyZWVuXHJcbiAgICpcclxuICAgKi9sZXQgd2luZG93PXRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7aWYod2luZG93IT1udWxsJiZ3aW5kb3cuc2NyZWVuKXt3aW5kb3cubW92ZVRvKDAsMCk7Ly8gSXQgYXBwZWFycyBGaXJlZm94IG9uIE1hYyB3b24ndCBtb3ZlIGEgd2luZG93IHRvICgwLDApLiAgQnV0LCB5b3UgY2FuIG1vdmUgaXQgdG8gKDAsMSksIHdoaWNoXG4vLyBzZWVtcyB0byBkbyBiYXNpY2FsbHkgdGhlIHNhbWUgdGhpbmcuICBJbiBteSAoS0pNIC0gNi8yMC8xMCkgdGVzdHMsIGFueXRoaW5nIGxlc3MgdGhhbiAoMCwgMjIpXG4vLyBwdXNoZWQgdGhlIGJyb3dzZXIgdG8gKDAsMCksIHNvIGl0IHNlZW1zIGl0J3MgaW1wcm9wZXJseSBhY2NvdW50aW5nIGZvciBzb21ldGhpbmcgaW4gdGhlIGJyb3dzZXIgY2hyb21lLlxuaWYod2luZG93LnNjcmVlblghPTApe3dpbmRvdy5tb3ZlVG8oMCwxKTt9d2luZG93LnJlc2l6ZVRvKHNjcmVlbi5hdmFpbFdpZHRoLHNjcmVlbi5hdmFpbEhlaWdodCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmdldEh0bWxTb3VyY2U9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgZW50aXJlIEhUTUwgc291cmNlIGJldHdlZW4gdGhlIG9wZW5pbmcgYW5kXHJcbiAgICogY2xvc2luZyBcImh0bWxcIiB0YWdzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGVudGlyZSBIVE1MIHNvdXJjZVxyXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmlubmVySFRNTDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldEN1cnNvclBvc2l0aW9uPWZ1bmN0aW9uKGxvY2F0b3IscG9zaXRpb24pey8qKlxyXG4gICAqIE1vdmVzIHRoZSB0ZXh0IGN1cnNvciB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSBnaXZlbiBpbnB1dCBlbGVtZW50IG9yIHRleHRhcmVhLlxyXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGlucHV0IGVsZW1lbnQgb3IgdGV4dGFyZWFcclxuICAgKiBAcGFyYW0gcG9zaXRpb24gdGhlIG51bWVyaWNhbCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yIGluIHRoZSBmaWVsZDsgcG9zaXRpb24gc2hvdWxkIGJlIDAgdG8gbW92ZSB0aGUgcG9zaXRpb24gdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgZmllbGQuICBZb3UgY2FuIGFsc28gc2V0IHRoZSBjdXJzb3IgdG8gLTEgdG8gbW92ZSBpdCB0byB0aGUgZW5kIG9mIHRoZSBmaWVsZC5cclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZT09dW5kZWZpbmVkKXtBc3NlcnQuZmFpbCgnRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYW4gaW5wdXQuJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufWlmKHBvc2l0aW9uPT0tMSl7cG9zaXRpb249ZWxlbWVudC52YWx1ZS5sZW5ndGg7fWlmKGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UmJiFicm93c2VyVmVyc2lvbi5pc09wZXJhKXtlbGVtZW50LmZvY3VzKCk7ZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgvKnN0YXJ0Ki9wb3NpdGlvbiwvKmVuZCovcG9zaXRpb24pO31lbHNlIGlmKGVsZW1lbnQuY3JlYXRlVGV4dFJhbmdlKXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7bGV0IHJhbmdlPWVsZW1lbnQuY3JlYXRlVGV4dFJhbmdlKCk7cmFuZ2UuY29sbGFwc2UodHJ1ZSk7cmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJyxwb3NpdGlvbik7cmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLHBvc2l0aW9uKTtyYW5nZS5zZWxlY3QoKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudEluZGV4PWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIEdldCB0aGUgcmVsYXRpdmUgaW5kZXggb2YgYW4gZWxlbWVudCB0byBpdHMgcGFyZW50IChzdGFydGluZyBmcm9tIDApLiBUaGUgY29tbWVudCBub2RlIGFuZCBlbXB0eSB0ZXh0IG5vZGVcclxuICAgKiB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhbiBlbGVtZW50XHJcbiAgICogQHJldHVybiBudW1iZXIgb2YgcmVsYXRpdmUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gaXRzIHBhcmVudCAoc3RhcnRpbmcgZnJvbSAwKVxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgcHJldmlvdXNTaWJsaW5nO2xldCBpbmRleD0wO3doaWxlKChwcmV2aW91c1NpYmxpbmc9ZWxlbWVudC5wcmV2aW91c1NpYmxpbmcpIT1udWxsKXtpZighdGhpcy5faXNDb21tZW50T3JFbXB0eVRleHROb2RlKHByZXZpb3VzU2libGluZykpe2luZGV4Kys7fWVsZW1lbnQ9cHJldmlvdXNTaWJsaW5nO31yZXR1cm4gaW5kZXg7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNPcmRlcmVkPWZ1bmN0aW9uKGxvY2F0b3IxLGxvY2F0b3IyKXsvKipcclxuICAgKiBDaGVjayBpZiB0aGVzZSB0d28gZWxlbWVudHMgaGF2ZSBzYW1lIHBhcmVudCBhbmQgYXJlIG9yZGVyZWQgc2libGluZ3MgaW4gdGhlIERPTS4gVHdvIHNhbWUgZWxlbWVudHMgd2lsbFxyXG4gICAqIG5vdCBiZSBjb25zaWRlcmVkIG9yZGVyZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbG9jYXRvcjEgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gdGhlIGZpcnN0IGVsZW1lbnRcclxuICAgKiBAcGFyYW0gbG9jYXRvcjIgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gdGhlIHNlY29uZCBlbGVtZW50XHJcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgZWxlbWVudDEgaXMgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgZWxlbWVudDIsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAqL2xldCBlbGVtZW50MT10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcjEpO2xldCBlbGVtZW50Mj10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcjIpO2lmKGVsZW1lbnQxPT09ZWxlbWVudDIpcmV0dXJuIGZhbHNlO2xldCBwcmV2aW91c1NpYmxpbmc7d2hpbGUoKHByZXZpb3VzU2libGluZz1lbGVtZW50Mi5wcmV2aW91c1NpYmxpbmcpIT1udWxsKXtpZihwcmV2aW91c1NpYmxpbmc9PT1lbGVtZW50MSl7cmV0dXJuIHRydWU7fWVsZW1lbnQyPXByZXZpb3VzU2libGluZzt9cmV0dXJuIGZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLl9pc0NvbW1lbnRPckVtcHR5VGV4dE5vZGU9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTh8fG5vZGUubm9kZVR5cGU9PTMmJiEvW15cXHRcXG5cXHIgXS8udGVzdChub2RlLmRhdGEpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXHJcbiAgICogUmV0cmlldmVzIHRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnRcclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnQgT1IgYW4gZWxlbWVudCBpdHNlbGZcclxuICAgKiBAcmV0dXJuIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgZWRnZSBvZiB0aGUgZnJhbWUuXHJcbiAgICovbGV0IGVsZW1lbnQ7aWYoJ3N0cmluZyc9PXR5cGVvZiBsb2NhdG9yKXtlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt9ZWxzZXtlbGVtZW50PWxvY2F0b3I7fWxldCB4PWVsZW1lbnQub2Zmc2V0TGVmdDtsZXQgZWxlbWVudFBhcmVudD1lbGVtZW50Lm9mZnNldFBhcmVudDt3aGlsZShlbGVtZW50UGFyZW50IT1udWxsKXtpZihkb2N1bWVudC5hbGwpe2lmKGVsZW1lbnRQYXJlbnQudGFnTmFtZSE9J1RBQkxFJyYmZWxlbWVudFBhcmVudC50YWdOYW1lIT0nQk9EWScpe3grPWVsZW1lbnRQYXJlbnQuY2xpZW50TGVmdDt9fS8vIE5ldHNjYXBlL0RPTVxuZWxzZXtpZihlbGVtZW50UGFyZW50LnRhZ05hbWU9PSdUQUJMRScpe2xldCBwYXJlbnRCb3JkZXI9cGFyc2VJbnQoZWxlbWVudFBhcmVudC5ib3JkZXIpO2lmKGlzTmFOKHBhcmVudEJvcmRlcikpe2xldCBwYXJlbnRGcmFtZT1lbGVtZW50UGFyZW50LmdldEF0dHJpYnV0ZSgnZnJhbWUnKTtpZihwYXJlbnRGcmFtZSE9bnVsbCl7eCs9MTt9fWVsc2UgaWYocGFyZW50Qm9yZGVyPjApe3grPXBhcmVudEJvcmRlcjt9fX14Kz1lbGVtZW50UGFyZW50Lm9mZnNldExlZnQ7ZWxlbWVudFBhcmVudD1lbGVtZW50UGFyZW50Lm9mZnNldFBhcmVudDt9cmV0dXJuIHg7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uVG9wPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFJldHJpZXZlcyB0aGUgdmVydGljYWwgcG9zaXRpb24gb2YgYW4gZWxlbWVudFxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudCBPUiBhbiBlbGVtZW50IGl0c2VsZlxyXG4gICAqIEByZXR1cm4gbnVtYmVyIG9mIHBpeGVscyBmcm9tIHRoZSBlZGdlIG9mIHRoZSBmcmFtZS5cclxuICAgKi9sZXQgZWxlbWVudDtpZignc3RyaW5nJz09dHlwZW9mIGxvY2F0b3Ipe2VsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO31lbHNle2VsZW1lbnQ9bG9jYXRvcjt9bGV0IHk9MDt3aGlsZShlbGVtZW50IT1udWxsKXtpZihkb2N1bWVudC5hbGwpe2lmKGVsZW1lbnQudGFnTmFtZSE9J1RBQkxFJyYmZWxlbWVudC50YWdOYW1lIT0nQk9EWScpe3krPWVsZW1lbnQuY2xpZW50VG9wO319Ly8gTmV0c2NhcGUvRE9NXG5lbHNle2lmKGVsZW1lbnQudGFnTmFtZT09J1RBQkxFJyl7bGV0IHBhcmVudEJvcmRlcj1wYXJzZUludChlbGVtZW50LmJvcmRlcik7aWYoaXNOYU4ocGFyZW50Qm9yZGVyKSl7bGV0IHBhcmVudEZyYW1lPWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdmcmFtZScpO2lmKHBhcmVudEZyYW1lIT1udWxsKXt5Kz0xO319ZWxzZSBpZihwYXJlbnRCb3JkZXI+MCl7eSs9cGFyZW50Qm9yZGVyO319fXkrPWVsZW1lbnQub2Zmc2V0VG9wOy8vIE5ldHNjYXBlIGNhbiBnZXQgY29uZnVzZWQgaW4gc29tZSBjYXNlcywgc3VjaCB0aGF0IHRoZSBoZWlnaHQgb2YgdGhlIHBhcmVudCBpcyBzbWFsbGVyXG4vLyB0aGFuIHRoYXQgb2YgdGhlIGVsZW1lbnQgKHdoaWNoIGl0IHNob3VsZG4ndCByZWFsbHkgYmUpLiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB3ZSBuZWVkIHRvXG4vLyBleGNsdWRlIHRoaXMgZWxlbWVudCwgc2luY2UgaXQgd2lsbCByZXN1bHQgaW4gdG9vIGxhcmdlIGEgJ3RvcCcgcmV0dXJuIHZhbHVlLlxuaWYoZWxlbWVudC5vZmZzZXRQYXJlbnQmJmVsZW1lbnQub2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCYmZWxlbWVudC5vZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0PGVsZW1lbnQub2Zmc2V0SGVpZ2h0KXsvLyBza2lwIHRoZSBwYXJlbnQgdGhhdCdzIHRvbyBzbWFsbFxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7fWVsc2V7Ly8gTmV4dCB1cC4uLlxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudDt9fXJldHVybiB5O307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRXaWR0aD1mdW5jdGlvbihsb2NhdG9yKXsvKipcclxuICAgKiBSZXRyaWV2ZXMgdGhlIHdpZHRoIG9mIGFuIGVsZW1lbnRcclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIG51bWJlciB3aWR0aCBvZiBhbiBlbGVtZW50IGluIHBpeGVsc1xyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtyZXR1cm4gZWxlbWVudC5vZmZzZXRXaWR0aDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRFbGVtZW50SGVpZ2h0PWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFJldHJpZXZlcyB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnRcclxuICAgKlxyXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIG51bWJlciBoZWlnaHQgb2YgYW4gZWxlbWVudCBpbiBwaXhlbHNcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7cmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O307U2VsZW5pdW0ucHJvdG90eXBlLmdldEN1cnNvclBvc2l0aW9uPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxyXG4gICAqIFJldHJpZXZlcyB0aGUgdGV4dCBjdXJzb3IgcG9zaXRpb24gaW4gdGhlIGdpdmVuIGlucHV0IGVsZW1lbnQgb3IgdGV4dGFyZWE7IGJld2FyZSwgdGhpcyBtYXkgbm90IHdvcmsgcGVyZmVjdGx5IG9uIGFsbCBicm93c2Vycy5cclxuICAgKlxyXG4gICAqIDxwPlNwZWNpZmljYWxseSwgaWYgdGhlIGN1cnNvci9zZWxlY3Rpb24gaGFzIGJlZW4gY2xlYXJlZCBieSBKYXZhU2NyaXB0LCB0aGlzIGNvbW1hbmQgd2lsbCB0ZW5kIHRvXHJcbiAgICogcmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBsb2NhdGlvbiBvZiB0aGUgY3Vyc29yLCBldmVuIHRob3VnaCB0aGUgY3Vyc29yIGlzIG5vdyBnb25lIGZyb20gdGhlIHBhZ2UuICBUaGlzIGlzIGZpbGVkIGFzIDxhIGhyZWY9XCJodHRwOi8vamlyYS5vcGVucWEub3JnL2Jyb3dzZS9TRUwtMjQzXCI+U0VMLTI0MzwvYT4uPC9wPlxyXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYSwgb3IgdGhlcmUgaXMgbm8gY3Vyc29yIGluIHRoZSBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYVxyXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1lcmljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnNvciBpbiB0aGUgZmllbGRcclxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGRvYz10aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKTtsZXQgd2luPXRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7bGV0IGVsZW1lbnRSYW5nZTtpZihkb2Muc2VsZWN0aW9uJiYhYnJvd3NlclZlcnNpb24uaXNPcGVyYSl7dHJ5e2xldCBzZWxlY3RSYW5nZT1kb2Muc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7ZWxlbWVudFJhbmdlPWVsZW1lbnQuY3JlYXRlVGV4dFJhbmdlKCk7c2VsZWN0UmFuZ2UubW92ZSgnY2hhcmFjdGVyJywwKTtlbGVtZW50UmFuZ2UubW92ZSgnY2hhcmFjdGVyJywwKTtlbGVtZW50UmFuZ2Uuc2V0RW5kUG9pbnQoJ0VuZFRvRW5kJyxzZWxlY3RSYW5nZSk7fWNhdGNoKGUpe0Fzc2VydC5mYWlsKCdUaGVyZSBpcyBubyBjdXJzb3Igb24gdGhpcyBwYWdlIScpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1sZXQgYW5zd2VyPVN0cmluZyhlbGVtZW50UmFuZ2UudGV4dCkucmVwbGFjZSgvXFxyL2csJycpLmxlbmd0aDtyZXR1cm4gYW5zd2VyO31lbHNle2lmKHR5cGVvZiBlbGVtZW50LnNlbGVjdGlvblN0YXJ0IT0ndW5kZWZpbmVkJyl7aWYod2luLmdldFNlbGVjdGlvbiYmdHlwZW9mIHdpbi5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50IT11bmRlZmluZWQmJndpbi5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50PT0wKXtBc3NlcnQuZmFpbCgnVGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoaXMgcGFnZSEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7fX10aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBkZXRlY3QgY3Vyc29yIHBvc2l0aW9uIG9uIHRoaXMgYnJvd3NlciFcIik7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RXhwcmVzc2lvbj1mdW5jdGlvbihleHByZXNzaW9uKXsvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgZXhwcmVzc2lvbi5cclxuICAgKlxyXG4gICAqIDxwPlRoaXMgaXMgdXNlZnVsIGJlY2F1c2Ugb2YgSmF2YVNjcmlwdCBwcmVwcm9jZXNzaW5nLlxyXG4gICAqIEl0IGlzIHVzZWQgdG8gZ2VuZXJhdGUgY29tbWFuZHMgbGlrZSBhc3NlcnRFeHByZXNzaW9uIGFuZCB3YWl0Rm9yRXhwcmVzc2lvbi48L3A+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXhwcmVzc2lvbiB0aGUgdmFsdWUgdG8gcmV0dXJuXHJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHZhbHVlIHBhc3NlZCBpblxyXG4gICAqL3JldHVybiBleHByZXNzaW9uO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFhwYXRoQ291bnQ9ZnVuY3Rpb24oeHBhdGgpey8qKlxyXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBub2RlcyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgeHBhdGgsIGVnLiBcIi8vdGFibGVcIiB3b3VsZCBnaXZlXHJcbiAgICogdGhlIG51bWJlciBvZiB0YWJsZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geHBhdGggdGhlIHhwYXRoIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUuIGRvIE5PVCB3cmFwIHRoaXMgZXhwcmVzc2lvbiBpbiBhICdjb3VudCgpJyBmdW5jdGlvbjsgd2Ugd2lsbCBkbyB0aGF0IGZvciB5b3UuXHJcbiAgICogQHJldHVybiBudW1iZXIgdGhlIG51bWJlciBvZiBub2RlcyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgeHBhdGhcclxuICAgKi9sZXQgcmVzdWx0PXRoaXMuYnJvd3NlcmJvdC5ldmFsdWF0ZVhQYXRoQ291bnQoeHBhdGgsdGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCkpO3JldHVybiByZXN1bHQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Q3NzQ291bnQ9ZnVuY3Rpb24oY3NzKXsvKipcclxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIGNzcyBzZWxlY3RvciwgZWcuIFwiY3NzPXRhYmxlXCIgd291bGQgZ2l2ZVxyXG4gICAqIHRoZSBudW1iZXIgb2YgdGFibGVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNzcyB0aGUgY3NzIHNlbGVjdG9yIHRvIGV2YWx1YXRlLiBkbyBOT1Qgd3JhcCB0aGlzIGV4cHJlc3Npb24gaW4gYSAnY291bnQoKScgZnVuY3Rpb247IHdlIHdpbGwgZG8gdGhhdCBmb3IgeW91LlxyXG4gICAqIEByZXR1cm4gdGhlIG51bWJlciBvZiBub2RlcyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgc2VsZWN0b3JcclxuICAgKi9sZXQgcmVzdWx0PXRoaXMuYnJvd3NlcmJvdC5ldmFsdWF0ZUNzc0NvdW50KGNzcyx0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKSk7cmV0dXJuIHJlc3VsdDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2lnbklkPWZ1bmN0aW9uKGxvY2F0b3IsaWRlbnRpZmllcil7LyoqXHJcbiAgICogVGVtcG9yYXJpbHkgc2V0cyB0aGUgXCJpZFwiIGF0dHJpYnV0ZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQsIHNvIHlvdSBjYW4gbG9jYXRlIGl0IGluIHRoZSBmdXR1cmVcclxuICAgKiB1c2luZyBpdHMgSUQgcmF0aGVyIHRoYW4gYSBzbG93L2NvbXBsaWNhdGVkIFhQYXRoLiAgVGhpcyBJRCB3aWxsIGRpc2FwcGVhciBvbmNlIHRoZSBwYWdlIGlzXHJcbiAgICogcmVsb2FkZWQuXHJcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudFxyXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyIGEgc3RyaW5nIHRvIGJlIHVzZWQgYXMgdGhlIElEIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxyXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtlbGVtZW50LmlkPWlkZW50aWZpZXI7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9BbGxvd05hdGl2ZVhwYXRoPWZ1bmN0aW9uKGFsbG93KXsvKipcclxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBTZWxlbml1bSBzaG91bGQgdXNlIHRoZSBuYXRpdmUgaW4tYnJvd3NlciBpbXBsZW1lbnRhdGlvblxyXG4gICAqIG9mIFhQYXRoIChpZiBhbnkgbmF0aXZlIHZlcnNpb24gaXMgYXZhaWxhYmxlKTsgaWYgeW91IHBhc3MgXCJmYWxzZVwiIHRvXHJcbiAgICogdGhpcyBmdW5jdGlvbiwgd2Ugd2lsbCBhbHdheXMgdXNlIG91ciBwdXJlLUphdmFTY3JpcHQgeHBhdGggbGlicmFyeS5cclxuICAgKiBVc2luZyB0aGUgcHVyZS1KUyB4cGF0aCBsaWJyYXJ5IGNhbiBpbXByb3ZlIHRoZSBjb25zaXN0ZW5jeSBvZiB4cGF0aFxyXG4gICAqIGVsZW1lbnQgbG9jYXRvcnMgYmV0d2VlbiBkaWZmZXJlbnQgYnJvd3NlciB2ZW5kb3JzLCBidXQgdGhlIHB1cmUtSlNcclxuICAgKiB2ZXJzaW9uIGlzIG11Y2ggc2xvd2VyIHRoYW4gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMuXHJcbiAgICogQHBhcmFtIGFsbG93IGJvb2xlYW4sIHRydWUgbWVhbnMgd2UnbGwgcHJlZmVyIHRvIHVzZSBuYXRpdmUgWFBhdGg7IGZhbHNlIG1lYW5zIHdlJ2xsIG9ubHkgdXNlIEpTIFhQYXRoXHJcbiAgICovaWYoJ2ZhbHNlJz09YWxsb3d8fCcwJz09YWxsb3cpey8vIFRoZSBzdHJpbmdzIFwiZmFsc2VcIiBhbmQgXCIwXCIgYXJlIHRydWUgdmFsdWVzIGluIEpTXG5hbGxvdz1mYWxzZTt9dGhpcy5icm93c2VyYm90LnNldEFsbG93TmF0aXZlWFBhdGgoYWxsb3cpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvSWdub3JlQXR0cmlidXRlc1dpdGhvdXRWYWx1ZT1mdW5jdGlvbihpZ25vcmUpey8qKlxyXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIFNlbGVuaXVtIHdpbGwgaWdub3JlIHhwYXRoIGF0dHJpYnV0ZXMgdGhhdCBoYXZlIG5vXHJcbiAgICogdmFsdWUsIGkuZS4gYXJlIHRoZSBlbXB0eSBzdHJpbmcsIHdoZW4gdXNpbmcgdGhlIG5vbi1uYXRpdmUgeHBhdGhcclxuICAgKiBldmFsdWF0aW9uIGVuZ2luZS4gWW91J2Qgd2FudCB0byBkbyB0aGlzIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIGluIElFLlxyXG4gICAqIEhvd2V2ZXIsIHRoaXMgY291bGQgYnJlYWsgY2VydGFpbiB4cGF0aHMsIGZvciBleGFtcGxlIGFuIHhwYXRoIHRoYXQgbG9va3NcclxuICAgKiBmb3IgYW4gYXR0cmlidXRlIHdob3NlIHZhbHVlIGlzIE5PVCB0aGUgZW1wdHkgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogVGhlIGhvcGUgaXMgdGhhdCBzdWNoIHhwYXRocyBhcmUgcmVsYXRpdmVseSByYXJlLCBidXQgdGhlIHVzZXIgc2hvdWxkXHJcbiAgICogaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIHRoZW0uIE5vdGUgdGhhdCB0aGlzIG9ubHkgaW5mbHVlbmNlcyB4cGF0aFxyXG4gICAqIGV2YWx1YXRpb24gd2hlbiB1c2luZyB0aGUgYWpheHNsdCBlbmdpbmUgKGkuZS4gbm90IFwiamF2YXNjcmlwdC14cGF0aFwiKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBpZ25vcmUgYm9vbGVhbiwgdHJ1ZSBtZWFucyB3ZSdsbCBpZ25vcmUgYXR0cmlidXRlcyB3aXRob3V0IHZhbHVlXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBhdCB0aGUgZXhwZW5zZSBvZiB4cGF0aCBcImNvcnJlY3RuZXNzXCI7IGZhbHNlIG1lYW5zXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICB3ZSdsbCBzYWNyaWZpY2Ugc3BlZWQgZm9yIGNvcnJlY3RuZXNzLlxyXG4gICAqL2lmKCdmYWxzZSc9PWlnbm9yZXx8JzAnPT1pZ25vcmUpe2lnbm9yZT1mYWxzZTt9dGhpcy5icm93c2VyYm90LnNldElnbm9yZUF0dHJpYnV0ZXNXaXRob3V0VmFsdWUoaWdub3JlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JDb25kaXRpb249ZnVuY3Rpb24oc2NyaXB0LHRpbWVvdXQpey8qKlxyXG4gICAqIFJ1bnMgdGhlIHNwZWNpZmllZCBKYXZhU2NyaXB0IHNuaXBwZXQgcmVwZWF0ZWRseSB1bnRpbCBpdCBldmFsdWF0ZXMgdG8gXCJ0cnVlXCIuXHJcbiAgICogVGhlIHNuaXBwZXQgbWF5IGhhdmUgbXVsdGlwbGUgbGluZXMsIGJ1dCBvbmx5IHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgbGluZVxyXG4gICAqIHdpbGwgYmUgY29uc2lkZXJlZC5cclxuICAgKlxyXG4gICAqIDxwPk5vdGUgdGhhdCwgYnkgZGVmYXVsdCwgdGhlIHNuaXBwZXQgd2lsbCBiZSBydW4gaW4gdGhlIHJ1bm5lcidzIHRlc3Qgd2luZG93LCBub3QgaW4gdGhlIHdpbmRvd1xyXG4gICAqIG9mIHlvdXIgYXBwbGljYXRpb24uICBUbyBnZXQgdGhlIHdpbmRvdyBvZiB5b3VyIGFwcGxpY2F0aW9uLCB5b3UgY2FuIHVzZVxyXG4gICAqIHRoZSBKYXZhU2NyaXB0IHNuaXBwZXQgPGNvZGU+c2VsZW5pdW0uYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk8L2NvZGU+LCBhbmQgdGhlblxyXG4gICAqIHJ1biB5b3VyIEphdmFTY3JpcHQgaW4gdGhlcmU8L3A+XHJcbiAgICogQHBhcmFtIHNjcmlwdCB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IHRvIHJ1blxyXG4gICAqIEBwYXJhbSB0aW1lb3V0IGEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIGFmdGVyIHdoaWNoIHRoaXMgY29tbWFuZCB3aWxsIHJldHVybiB3aXRoIGFuIGVycm9yXHJcbiAgICovcmV0dXJuIFNlbGVuaXVtLmRlY29yYXRlRnVuY3Rpb25XaXRoVGltZW91dChmdW5jdGlvbigpe3JldHVybiB0aGlzLmV2YWwoc2NyaXB0KTt9LHRpbWVvdXQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckNvbmRpdGlvbi5kb250Q2hlY2tBbGVydHNBbmRDb25maXJtcz10cnVlO1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldFRpbWVvdXQ9ZnVuY3Rpb24odGltZW91dCl7LyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IFNlbGVuaXVtIHdpbGwgd2FpdCBmb3IgYWN0aW9ucyB0byBjb21wbGV0ZS5cclxuICAgKlxyXG4gICAqIDxwPkFjdGlvbnMgdGhhdCByZXF1aXJlIHdhaXRpbmcgaW5jbHVkZSBcIm9wZW5cIiBhbmQgdGhlIFwid2FpdEZvcipcIiBhY3Rpb25zLjwvcD5cclxuICAgKiBUaGUgZGVmYXVsdCB0aW1lb3V0IGlzIDMwIHNlY29uZHMuXHJcbiAgICogQHBhcmFtIHRpbWVvdXQgYSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhlIGFjdGlvbiB3aWxsIHJldHVybiB3aXRoIGFuIGVycm9yXHJcbiAgICovaWYoIXRpbWVvdXQpe3RpbWVvdXQ9U2VsZW5pdW0uREVGQVVMVF9USU1FT1VUO310aGlzLmRlZmF1bHRUaW1lb3V0PXRpbWVvdXQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUGFnZVRvTG9hZD1mdW5jdGlvbih0aW1lb3V0KXsvKipcclxuICAgKiBXYWl0cyBmb3IgYSBuZXcgcGFnZSB0byBsb2FkLlxyXG4gICAqXHJcbiAgICogPHA+WW91IGNhbiB1c2UgdGhpcyBjb21tYW5kIGluc3RlYWQgb2YgdGhlIFwiQW5kV2FpdFwiIHN1ZmZpeGVzLCBcImNsaWNrQW5kV2FpdFwiLCBcInNlbGVjdEFuZFdhaXRcIiwgXCJ0eXBlQW5kV2FpdFwiIGV0Yy5cclxuICAgKiAod2hpY2ggYXJlIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBKUyBBUEkpLjwvcD5cclxuICAgKlxyXG4gICAqIDxwPlNlbGVuaXVtIGNvbnN0YW50bHkga2VlcHMgdHJhY2sgb2YgbmV3IHBhZ2VzIGxvYWRpbmcsIGFuZCBzZXRzIGEgXCJuZXdQYWdlTG9hZGVkXCJcclxuICAgKiBmbGFnIHdoZW4gaXQgZmlyc3Qgbm90aWNlcyBhIHBhZ2UgbG9hZC4gIFJ1bm5pbmcgYW55IG90aGVyIFNlbGVuaXVtIGNvbW1hbmQgYWZ0ZXJcclxuICAgKiB0dXJucyB0aGUgZmxhZyB0byBmYWxzZS4gIEhlbmNlLCBpZiB5b3Ugd2FudCB0byB3YWl0IGZvciBhIHBhZ2UgdG8gbG9hZCwgeW91IG11c3RcclxuICAgKiB3YWl0IGltbWVkaWF0ZWx5IGFmdGVyIGEgU2VsZW5pdW0gY29tbWFuZCB0aGF0IGNhdXNlZCBhIHBhZ2UtbG9hZC48L3A+XHJcbiAgICogQHBhcmFtIHRpbWVvdXQgYSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhpcyBjb21tYW5kIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3JcclxuICAgKi8gLy8gaW4gcGktbW9kZSwgdGhlIHRlc3QgYW5kIHRoZSBoYXJuZXNzIHNoYXJlIHRoZSB3aW5kb3c7IHRodXMgaWYgd2UgYXJlIGV4ZWN1dGluZyB0aGlzIGNvZGUsIHRoZW4gd2UgaGF2ZSBsb2FkZWRcbmlmKHdpbmRvd1sncHJveHlJbmplY3Rpb25Nb2RlJ109PW51bGx8fCF3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddKXtyZXR1cm4gdGhpcy5tYWtlUGFnZUxvYWRDb25kaXRpb24odGltZW91dCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckZyYW1lVG9Mb2FkPWZ1bmN0aW9uKF9mcmFtZUFkZHJlc3MsdGltZW91dCl7LyoqXHJcbiAgICogV2FpdHMgZm9yIGEgbmV3IGZyYW1lIHRvIGxvYWQuXHJcbiAgICpcclxuICAgKiA8cD5TZWxlbml1bSBjb25zdGFudGx5IGtlZXBzIHRyYWNrIG9mIG5ldyBwYWdlcyBhbmQgZnJhbWVzIGxvYWRpbmcsXHJcbiAgICogYW5kIHNldHMgYSBcIm5ld1BhZ2VMb2FkZWRcIiBmbGFnIHdoZW4gaXQgZmlyc3Qgbm90aWNlcyBhIHBhZ2UgbG9hZC48L3A+XHJcbiAgICpcclxuICAgKiBTZWUgd2FpdEZvclBhZ2VUb0xvYWQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZnJhbWVBZGRyZXNzIEZyYW1lQWRkcmVzcyBmcm9tIHRoZSBzZXJ2ZXIgc2lkZVxyXG4gICAqIEBwYXJhbSB0aW1lb3V0IGEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIGFmdGVyIHdoaWNoIHRoaXMgY29tbWFuZCB3aWxsIHJldHVybiB3aXRoIGFuIGVycm9yXHJcbiAgICovIC8vIGluIHBpLW1vZGUsIHRoZSB0ZXN0IGFuZCB0aGUgaGFybmVzcyBzaGFyZSB0aGUgd2luZG93OyB0aHVzIGlmIHdlIGFyZSBleGVjdXRpbmcgdGhpcyBjb2RlLCB0aGVuIHdlIGhhdmUgbG9hZGVkXG5pZih3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddPT1udWxsfHwhd2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXSl7cmV0dXJuIHRoaXMubWFrZVBhZ2VMb2FkQ29uZGl0aW9uKHRpbWVvdXQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5faXNOZXdQYWdlTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5pc05ld1BhZ2VMb2FkZWQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5fYWJvcnRYaHJSZXF1ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5hYm9ydFhoclJlcXVlc3QoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JQYWdlVG9Mb2FkLmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7LyoqXHJcbiAqIEV2YWx1YXRlIGEgcGFyYW1ldGVyLCBwZXJmb3JtaW5nIEphdmFTY3JpcHQgZXZhbHVhdGlvbiBhbmQgdmFyaWFibGUgc3Vic3RpdHV0aW9uLlxyXG4gKiBJZiB0aGUgc3RyaW5nIG1hdGNoZXMgdGhlIHBhdHRlcm4gXCJqYXZhc2NyaXB0eyAuLi4gfVwiLCBldmFsdWF0ZSB0aGUgc3RyaW5nIGJldHdlZW4gdGhlIGJyYWNlcy5cclxuICovU2VsZW5pdW0ucHJvdG90eXBlLnByZXByb2Nlc3NQYXJhbWV0ZXI9ZnVuY3Rpb24odmFsdWUpe2lmKCF2YWx1ZS5zY3JpcHQpey8vIG9ubHkgZm9yIG5vbi1zY3JpcHRzXG5sZXQgbWF0Y2g9dmFsdWUubWF0Y2goL15qYXZhc2NyaXB0XFx7KCgufFxccj9cXG4pKylcXH0kLyk7aWYobWF0Y2gmJm1hdGNoWzFdKXticm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2xvZzp7dHlwZTond2FybicsbWVzc2FnZToncGFyYW1ldGVyIHByZXByb2Nlc3NpbmcgdXNpbmcgamF2YXNjcmlwdHt9IHRhZyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGV4ZWN1dGUgc2NyaXB0J319KTtsZXQgcmVzdWx0PXRoaXMuZXZhbChtYXRjaFsxXSk7cmV0dXJuIHJlc3VsdD09bnVsbD9udWxsOnJlc3VsdC50b1N0cmluZygpO319cmV0dXJuIHZhbHVlO307U2VsZW5pdW0ucHJvdG90eXBlLnJlcGxhY2VLZXlzPWZ1bmN0aW9uKHN0cil7bGV0IGtleXM9W107bGV0IG1hdGNoPXN0ci5tYXRjaCgvXFwkXFx7XFx3K1xcfS9nKTtpZighbWF0Y2gpe2tleXMucHVzaChzdHIpO31lbHNle2xldCBpPTA7d2hpbGUoaTxzdHIubGVuZ3RoKXtsZXQgY3VycmVudEtleT1tYXRjaC5zaGlmdCgpLGN1cnJlbnRLZXlJbmRleD1zdHIuaW5kZXhPZihjdXJyZW50S2V5LGkpO2lmKGN1cnJlbnRLZXlJbmRleD5pKXsvLyBwdXNoIHRoZSBzdHJpbmcgYmVmb3JlIHRoZSBjdXJyZW50IGtleVxua2V5cy5wdXNoKHN0ci5zdWJzdHIoaSxjdXJyZW50S2V5SW5kZXgtaSkpO2k9Y3VycmVudEtleUluZGV4O31pZihjdXJyZW50S2V5KXtpZigvXlxcJFxce0tFWV9cXHcrXFx9Ly50ZXN0KGN1cnJlbnRLZXkpKXsvLyBpcyBhIGtleVxubGV0IGtleU5hbWU9Y3VycmVudEtleS5tYXRjaCgvXFwkXFx7S0VZXyhcXHcrKVxcfS8pWzFdO2xldCBrZXk9Ym90LktleWJvYXJkLktleXNba2V5TmFtZV07aWYoa2V5KXtrZXlzLnB1c2goa2V5KTt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXNlZCBrZXkgJHtrZXlOYW1lfWApO319ZWxzZXsvLyBub3QgYSBrZXksIGFuZCBub3QgYSBzdG9yZWQgdmFyaWFibGUsIHB1c2ggaXQgYXMtaXNcbmtleXMucHVzaChjdXJyZW50S2V5KTt9aSs9Y3VycmVudEtleS5sZW5ndGg7fWVsc2UgaWYoaTxzdHIubGVuZ3RoKXsvLyBwdXNoIHRoZSByZXN0IG9mIHRoZSBzdHJpbmdcbmtleXMucHVzaChzdHIuc3Vic3RyKGksc3RyLmxlbmd0aCkpO2k9c3RyLmxlbmd0aDt9fX1yZXR1cm4ga2V5czt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb29raWU9ZnVuY3Rpb24oKXsvKipcclxuICAgKiBSZXR1cm4gYWxsIGNvb2tpZXMgb2YgdGhlIGN1cnJlbnQgcGFnZSB1bmRlciB0ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBzdHJpbmcgYWxsIGNvb2tpZXMgb2YgdGhlIGN1cnJlbnQgcGFnZSB1bmRlciB0ZXN0XHJcbiAgICovbGV0IGRvYz10aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKTtyZXR1cm4gZG9jLmNvb2tpZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb29raWVCeU5hbWU9ZnVuY3Rpb24obmFtZSl7LyoqXHJcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGNvb2tpZSB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSwgb3IgdGhyb3dzIGFuIGVycm9yIGlmIHRoZSBjb29raWUgaXMgbm90IHByZXNlbnQuXHJcbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvb2tpZVxyXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llXHJcbiAgICovbGV0IHY9dGhpcy5icm93c2VyYm90LmdldENvb2tpZUJ5TmFtZShuYW1lKTtpZih2PT09bnVsbCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJDb29raWUgJ1wiK25hbWUrXCInIHdhcyBub3QgZm91bmRcIik7fXJldHVybiB2O307U2VsZW5pdW0ucHJvdG90eXBlLmlzQ29va2llUHJlc2VudD1mdW5jdGlvbihuYW1lKXsvKipcclxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBjb29raWUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgcHJlc2VudCwgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjb29raWVcclxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiBhIGNvb2tpZSB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSBpcyBwcmVzZW50LCBvciBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovbGV0IHY9dGhpcy5icm93c2VyYm90LmdldENvb2tpZUJ5TmFtZShuYW1lKTtsZXQgYWJzZW50PXY9PT1udWxsO3JldHVybiFhYnNlbnQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DcmVhdGVDb29raWU9ZnVuY3Rpb24obmFtZVZhbHVlUGFpcixvcHRpb25zU3RyaW5nKXsvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgY29va2llIHdob3NlIHBhdGggYW5kIGRvbWFpbiBhcmUgc2FtZSB3aXRoIHRob3NlIG9mIGN1cnJlbnQgcGFnZVxyXG4gICAqIHVuZGVyIHRlc3QsIHVubGVzcyB5b3Ugc3BlY2lmaWVkIGEgcGF0aCBmb3IgdGhpcyBjb29raWUgZXhwbGljaXRseS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBuYW1lVmFsdWVQYWlyIG5hbWUgYW5kIHZhbHVlIG9mIHRoZSBjb29raWUgaW4gYSBmb3JtYXQgXCJuYW1lPXZhbHVlXCJcclxuICAgKiBAcGFyYW0gb3B0aW9uc1N0cmluZyBvcHRpb25zIGZvciB0aGUgY29va2llLiBDdXJyZW50bHkgc3VwcG9ydGVkIG9wdGlvbnMgaW5jbHVkZSAncGF0aCcsICdtYXhfYWdlJyBhbmQgJ2RvbWFpbicuXHJcbiAgICogICAgICB0aGUgb3B0aW9uc1N0cmluZydzIGZvcm1hdCBpcyBcInBhdGg9L3BhdGgvLCBtYXhfYWdlPTYwLCBkb21haW49LmZvby5jb21cIi4gVGhlIG9yZGVyIG9mIG9wdGlvbnMgYXJlIGlycmVsZXZhbnQsIHRoZSB1bml0XHJcbiAgICogICAgICBvZiB0aGUgdmFsdWUgb2YgJ21heF9hZ2UnIGlzIHNlY29uZC4gIE5vdGUgdGhhdCBzcGVjaWZ5aW5nIGEgZG9tYWluIHRoYXQgaXNuJ3QgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgZG9tYWluIHdpbGxcclxuICAgKiAgICAgIHVzdWFsbHkgZmFpbC5cclxuICAgKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5sZXQgcmVzdWx0cz0vW15cXHM9XFxbXFxdXFwoXFwpLFwiXFwvXFw/QDo7XSs9W15cXHM9XFxbXFxdXFwoXFwpLFwiXFwvXFw/QDo7XSovLnRlc3QobmFtZVZhbHVlUGFpcik7aWYoIXJlc3VsdHMpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbnZhbGlkIHBhcmFtZXRlci4nKTt9bGV0IGNvb2tpZT1uYW1lVmFsdWVQYWlyLnRyaW0oKTtyZXN1bHRzPS9tYXhfYWdlPShcXGQrKS8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXtsZXQgZXhwaXJlRGF0ZUluTWlsbGlzZWNvbmRzPW5ldyBEYXRlKCkuZ2V0VGltZSgpK3Jlc3VsdHNbMV0qMTAwMDtjb29raWUrPSc7IGV4cGlyZXM9JytuZXcgRGF0ZShleHBpcmVEYXRlSW5NaWxsaXNlY29uZHMpLnRvR01UU3RyaW5nKCk7fXJlc3VsdHM9L3BhdGg9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7bGV0IHBhdGg9cmVzdWx0c1sxXTtpZihicm93c2VyVmVyc2lvbi5raHRtbCl7Ly8gU2FmYXJpIGFuZCBjb25xdWVyZXIgZG9uJ3QgbGlrZSBwYXRocyB3aXRoIC8gYXQgdGhlIGVuZFxuaWYoJy8nIT1wYXRoKXtwYXRoPXBhdGgucmVwbGFjZSgvXFwvJC8sJycpO319Y29va2llKz0nOyBwYXRoPScrcGF0aDt9cmVzdWx0cz0vZG9tYWluPShbXlxccyxdKylbLF0/Ly5leGVjKG9wdGlvbnNTdHJpbmcpO2lmKHJlc3VsdHMpe2xldCBkb21haW49cmVzdWx0c1sxXTtjb29raWUrPSc7IGRvbWFpbj0nK2RvbWFpbjt9Ly9MT0cuZGVidWcoXCJTZXR0aW5nIGNvb2tpZSB0bzogXCIgKyBjb29raWUpO1xudGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCkuY29va2llPWNvb2tpZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RlbGV0ZUNvb2tpZT1mdW5jdGlvbihuYW1lLG9wdGlvbnNTdHJpbmcpey8qKlxyXG4gICAqIERlbGV0ZSBhIG5hbWVkIGNvb2tpZSB3aXRoIHNwZWNpZmllZCBwYXRoIGFuZCBkb21haW4uICBCZSBjYXJlZnVsOyB0byBkZWxldGUgYSBjb29raWUsIHlvdVxyXG4gICAqIG5lZWQgdG8gZGVsZXRlIGl0IHVzaW5nIHRoZSBleGFjdCBzYW1lIHBhdGggYW5kIGRvbWFpbiB0aGF0IHdlcmUgdXNlZCB0byBjcmVhdGUgdGhlIGNvb2tpZS5cclxuICAgKiBJZiB0aGUgcGF0aCBpcyB3cm9uZywgb3IgdGhlIGRvbWFpbiBpcyB3cm9uZywgdGhlIGNvb2tpZSBzaW1wbHkgd29uJ3QgYmUgZGVsZXRlZC4gIEFsc29cclxuICAgKiBub3RlIHRoYXQgc3BlY2lmeWluZyBhIGRvbWFpbiB0aGF0IGlzbid0IGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aWxsIHVzdWFsbHkgZmFpbC5cclxuICAgKlxyXG4gICAqIFNpbmNlIHRoZXJlJ3Mgbm8gd2F5IHRvIGRpc2NvdmVyIGF0IHJ1bnRpbWUgdGhlIG9yaWdpbmFsIHBhdGggYW5kIGRvbWFpbiBvZiBhIGdpdmVuIGNvb2tpZSxcclxuICAgKiB3ZSd2ZSBhZGRlZCBhbiBvcHRpb24gY2FsbGVkICdyZWN1cnNlJyB0byB0cnkgYWxsIHN1Yi1kb21haW5zIG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aXRoXHJcbiAgICogYWxsIHBhdGhzIHRoYXQgYXJlIGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IHBhdGguICBCZXdhcmU7IHRoaXMgb3B0aW9uIGNhbiBiZSBzbG93LiAgSW5cclxuICAgKiBiaWctTyBub3RhdGlvbiwgaXQgb3BlcmF0ZXMgaW4gTyhuKm0pIHRpbWUsIHdoZXJlIG4gaXMgdGhlIG51bWJlciBvZiBkb3RzIGluIHRoZSBkb21haW5cclxuICAgKiBuYW1lIGFuZCBtIGlzIHRoZSBudW1iZXIgb2Ygc2xhc2hlcyBpbiB0aGUgcGF0aC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgZGVsZXRlZFxyXG4gICAqIEBwYXJhbSBvcHRpb25zU3RyaW5nIG9wdGlvbnMgZm9yIHRoZSBjb29raWUuIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBpbmNsdWRlICdwYXRoJywgJ2RvbWFpbidcclxuICAgKiAgICAgIGFuZCAncmVjdXJzZS4nIFRoZSBvcHRpb25zU3RyaW5nJ3MgZm9ybWF0IGlzIFwicGF0aD0vcGF0aC8sIGRvbWFpbj0uZm9vLmNvbSwgcmVjdXJzZT10cnVlXCIuXHJcbiAgICogICAgICBUaGUgb3JkZXIgb2Ygb3B0aW9ucyBhcmUgaXJyZWxldmFudC4gTm90ZSB0aGF0IHNwZWNpZnlpbmcgYSBkb21haW4gdGhhdCBpc24ndCBhIHN1YnNldCBvZlxyXG4gICAqICAgICAgdGhlIGN1cnJlbnQgZG9tYWluIHdpbGwgdXN1YWxseSBmYWlsLlxyXG4gICAqLyAvLyBzZXQgdGhlIGV4cGlyZSB0aW1lIG9mIHRoZSBjb29raWUgdG8gYmUgZGVsZXRlZCB0byBvbmUgbWludXRlIGJlZm9yZSBub3cuXG5sZXQgcGF0aD0nJztsZXQgZG9tYWluPScnO2xldCByZWN1cnNlPWZhbHNlO2xldCBtYXRjaGVkPWZhbHNlO2xldCByZXN1bHRzPS9wYXRoPShbXlxccyxdKylbLF0/Ly5leGVjKG9wdGlvbnNTdHJpbmcpO2lmKHJlc3VsdHMpe21hdGNoZWQ9dHJ1ZTtwYXRoPXJlc3VsdHNbMV07fXJlc3VsdHM9L2RvbWFpbj0oW15cXHMsXSspWyxdPy8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXttYXRjaGVkPXRydWU7ZG9tYWluPXJlc3VsdHNbMV07fXJlc3VsdHM9L3JlY3Vyc2U9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7bWF0Y2hlZD10cnVlO3JlY3Vyc2U9cmVzdWx0c1sxXTtpZignZmFsc2UnPT1yZWN1cnNlKXtyZWN1cnNlPWZhbHNlO319Ly8gVHJlYXQgdGhlIGVudGlyZSBvcHRpb25zU3RyaW5nIGFzIGEgcGF0aCAoZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuaWYob3B0aW9uc1N0cmluZyYmIW1hdGNoZWQpey8vTE9HLndhcm4oXCJVc2luZyBlbnRpcmUgb3B0aW9uc1N0cmluZyBhcyBhIHBhdGg7IHBsZWFzZSBjaGFuZ2UgdGhlIGFyZ3VtZW50IHRvIGRlbGV0ZUNvb2tpZSB0byB1c2UgcGF0aD1cIiArIG9wdGlvbnNTdHJpbmcpO1xucGF0aD1vcHRpb25zU3RyaW5nO31pZihicm93c2VyVmVyc2lvbi5raHRtbCl7Ly8gU2FmYXJpIGFuZCBjb25xdWVyZXIgZG9uJ3QgbGlrZSBwYXRocyB3aXRoIC8gYXQgdGhlIGVuZFxuaWYoJy8nIT1wYXRoKXtwYXRoPXBhdGgucmVwbGFjZSgvXFwvJC8sJycpO319cGF0aD1wYXRoLnRyaW0oKTtkb21haW49ZG9tYWluLnRyaW0oKTtsZXQgY29va2llTmFtZT1uYW1lLnRyaW0oKTtpZihyZWN1cnNlKXt0aGlzLmJyb3dzZXJib3QucmVjdXJzaXZlbHlEZWxldGVDb29raWUoY29va2llTmFtZSxkb21haW4scGF0aCk7fWVsc2V7dGhpcy5icm93c2VyYm90LmRlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9EZWxldGVBbGxWaXNpYmxlQ29va2llcz1mdW5jdGlvbigpey8qKiBDYWxscyBkZWxldGVDb29raWUgd2l0aCByZWN1cnNlPXRydWUgb24gYWxsIGNvb2tpZXMgdmlzaWJsZSB0byB0aGUgY3VycmVudCBwYWdlLlxyXG4gICAqIEFzIG5vdGVkIG9uIHRoZSBkb2N1bWVudGF0aW9uIGZvciBkZWxldGVDb29raWUsIHJlY3Vyc2U9dHJ1ZSBjYW4gYmUgbXVjaCBzbG93ZXJcclxuICAgKiB0aGFuIHNpbXBseSBkZWxldGluZyB0aGUgY29va2llcyB1c2luZyBhIGtub3duIGRvbWFpbi9wYXRoLlxyXG4gICAqL2xldCB3aW49dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTtsZXQgZG9jPXdpbi5kb2N1bWVudDtsZXQgY29va2llTmFtZXM9dGhpcy5icm93c2VyYm90LmdldEFsbENvb2tpZU5hbWVzKGRvYyk7bGV0IGRvbWFpbj1kb2MuZG9tYWluO2xldCBwYXRoPXdpbi5sb2NhdGlvbi5wYXRobmFtZTtmb3IobGV0IGk9MDtpPGNvb2tpZU5hbWVzLmxlbmd0aDtpKyspe3RoaXMuYnJvd3NlcmJvdC5yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lc1tpXSxkb21haW4scGF0aCx3aW4pO319Oy8vU2VsZW5pdW0ucHJvdG90eXBlLmRvU2V0QnJvd3NlckxvZ0xldmVsID0gZnVuY3Rpb24obG9nTGV2ZWwpIHtcbi8qKlxyXG4gKiBTZXRzIHRoZSB0aHJlc2hvbGQgZm9yIGJyb3dzZXItc2lkZSBsb2dnaW5nIG1lc3NhZ2VzOyBsb2cgbWVzc2FnZXMgYmVuZWF0aCB0aGlzIHRocmVzaG9sZCB3aWxsIGJlIGRpc2NhcmRlZC5cclxuICogVmFsaWQgbG9nTGV2ZWwgc3RyaW5ncyBhcmU6IFwiZGVidWdcIiwgXCJpbmZvXCIsIFwid2FyblwiLCBcImVycm9yXCIgb3IgXCJvZmZcIi5cclxuICogVG8gc2VlIHRoZSBicm93c2VyIGxvZ3MsIHlvdSBuZWVkIHRvXHJcbiAqIGVpdGhlciBzaG93IHRoZSBsb2cgd2luZG93IGluIEdVSSBtb2RlLCBvciBlbmFibGUgYnJvd3Nlci1zaWRlIGxvZ2dpbmcgaW4gU2VsZW5pdW0gUkMuXHJcbiAqXHJcbiAqIEBwYXJhbSBsb2dMZXZlbCBvbmUgb2YgdGhlIGZvbGxvd2luZzogXCJkZWJ1Z1wiLCBcImluZm9cIiwgXCJ3YXJuXCIsIFwiZXJyb3JcIiBvciBcIm9mZlwiXHJcbiAqLyAvKiAgICBpZiAobG9nTGV2ZWwgPT0gbnVsbCB8fCBsb2dMZXZlbCA9PSBcIlwiKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJZb3UgbXVzdCBzcGVjaWZ5IGEgbG9nIGxldmVsXCIpO1xyXG4gICAgfVxyXG4gICAgbG9nTGV2ZWwgPSBsb2dMZXZlbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKC8vTE9HLmxvZ0xldmVsc1tsb2dMZXZlbF0gPT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBTZWxlbml1bUVycm9yKFwiSW52YWxpZCBsb2cgbGV2ZWw6IFwiICsgbG9nTGV2ZWwpO1xyXG4gICAgfVxyXG4gICAgLy9MT0cuc2V0TG9nTGV2ZWxUaHJlc2hvbGQobG9nTGV2ZWwpO1xyXG59Ki9TZWxlbml1bS5wcm90b3R5cGUuZG9FeGVjdXRlU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdCx2YXJOYW1lKXtjb25zdCB2YWx1ZT10aGlzLmV2YWwoc2NyaXB0LnNjcmlwdCxzY3JpcHQuYXJndik7aWYodmFsdWUmJnZhbHVlLmNvbnN0cnVjdG9yLm5hbWU9PT0nUHJvbWlzZScpe3Rocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgc3luYyBvcGVyYXRpb24sIGluc3RlYWQgcmVjZWl2ZWQgUHJvbWlzZScpO31pZih2YXJOYW1lKXtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjp2YWx1ZSxzdG9yZVZhcjp2YXJOYW1lfSk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvRXhlY3V0ZUFzeW5jU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdCx2YXJOYW1lKXtjb25zdCB2YWx1ZT10aGlzLmV2YWwoc2NyaXB0LnNjcmlwdCxzY3JpcHQuYXJndik7aWYodmFsdWUmJnZhbHVlLmNvbnN0cnVjdG9yLm5hbWUhPT0nUHJvbWlzZScpe3Rocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXN5bmMgb3BlcmF0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICR7dmFsdWU/dmFsdWUuY29uc3RydWN0b3IubmFtZTp2YWx1ZX1gKTt9cmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbih2PT57aWYodmFyTmFtZSl7cmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dixzdG9yZVZhcjp2YXJOYW1lfSk7fX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUnVuU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdCl7LyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBcInNjcmlwdFwiIHRhZyBpbiB0aGUgYm9keSBvZiB0aGUgY3VycmVudCB0ZXN0IHdpbmRvdywgYW5kXHJcbiAgICogYWRkcyB0aGUgc3BlY2lmaWVkIHRleHQgaW50byB0aGUgYm9keSBvZiB0aGUgY29tbWFuZC4gIFNjcmlwdHMgcnVuIGluXHJcbiAgICogdGhpcyB3YXkgY2FuIG9mdGVuIGJlIGRlYnVnZ2VkIG1vcmUgZWFzaWx5IHRoYW4gc2NyaXB0cyBleGVjdXRlZCB1c2luZ1xyXG4gICAqIFNlbGVuaXVtJ3MgXCJnZXRFdmFsXCIgY29tbWFuZC4gIEJld2FyZSB0aGF0IEpTIGV4Y2VwdGlvbnMgdGhyb3duIGluIHRoZXNlIHNjcmlwdFxyXG4gICAqIHRhZ3MgYXJlbid0IG1hbmFnZWQgYnkgU2VsZW5pdW0sIHNvIHlvdSBzaG91bGQgcHJvYmFibHkgd3JhcCB5b3VyIHNjcmlwdFxyXG4gICAqIGluIHRyeS9jYXRjaCBibG9ja3MgaWYgdGhlcmUgaXMgYW55IGNoYW5jZSB0aGF0IHRoZSBzY3JpcHQgd2lsbCB0aHJvd1xyXG4gICAqIGFuIGV4Y2VwdGlvbi5cclxuICAgKiBAcGFyYW0gc2NyaXB0IHRoZSBKYXZhU2NyaXB0IHNuaXBwZXQgdG8gcnVuXHJcbiAgICovdGhpcy5ldmFsKHNjcmlwdC5zY3JpcHQsc2NyaXB0LmFyZ3YpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUm9sbHVwPWZ1bmN0aW9uKHJvbGx1cE5hbWUsa3dhcmdzKXsvKipcclxuICAgKiBFeGVjdXRlcyBhIGNvbW1hbmQgcm9sbHVwLCB3aGljaCBpcyBhIHNlcmllcyBvZiBjb21tYW5kcyB3aXRoIGEgdW5pcXVlXHJcbiAgICogbmFtZSwgYW5kIG9wdGlvbmFsbHkgYXJndW1lbnRzIHRoYXQgY29udHJvbCB0aGUgZ2VuZXJhdGlvbiBvZiB0aGUgc2V0IG9mXHJcbiAgICogY29tbWFuZHMuIElmIGFueSBvbmUgb2YgdGhlIHJvbGxlZC11cCBjb21tYW5kcyBmYWlscywgdGhlIHJvbGx1cCBpc1xyXG4gICAqIGNvbnNpZGVyZWQgdG8gaGF2ZSBmYWlsZWQuIFJvbGx1cHMgbWF5IGFsc28gY29udGFpbiBuZXN0ZWQgcm9sbHVwcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSByb2xsdXBOYW1lICB0aGUgbmFtZSBvZiB0aGUgcm9sbHVwIGNvbW1hbmRcclxuICAgKiBAcGFyYW0ga3dhcmdzICAgICAga2V5d29yZCBhcmd1bWVudHMgc3RyaW5nIHRoYXQgaW5mbHVlbmNlcyBob3cgdGhlXHJcbiAgICogICAgICAgICAgICAgICAgICAgIHJvbGx1cCBleHBhbmRzIGludG8gY29tbWFuZHNcclxuICAgKi8gLy8gd2UgaGF2ZSB0byB0ZW1wb3JhcmlseSBoaWphY2sgdGhlIGNvbW1hbmRTdGFydGVkLCBuZXh0Q29tbWFuZCgpLFxuLy8gY29tbWFuZENvbXBsZXRlKCksIGFuZCBjb21tYW5kRXJyb3IoKSBtZXRob2RzIG9mIHRoZSBUZXN0TG9vcCBvYmplY3QuXG4vLyBXaGVuIHRoZSBleHBhbmRlZCByb2xsdXAgY29tbWFuZHMgYXJlIGRvbmUgZXhlY3V0aW5nIChvciBhbiBlcnJvciBoYXNcbi8vIG9jY3VycmVkKSwgd2UnbGwgcmVzdG9yZSB0aGVtIHRvIHRoZWlyIG9yaWdpbmFsIHZhbHVlcy5cbmxldCBsb29wPWN1cnJlbnRUZXN0fHxodG1sVGVzdFJ1bm5lci5jdXJyZW50VGVzdDsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5sZXQgYmFja3VwTWFuYWdlcj17YmFja3VwOmZ1bmN0aW9uKCl7Zm9yKGxldCBpdGVtIGluIHRoaXMuZGF0YSl7dGhpcy5kYXRhW2l0ZW1dPWxvb3BbaXRlbV07fX0scmVzdG9yZTpmdW5jdGlvbigpe2ZvcihsZXQgaXRlbSBpbiB0aGlzLmRhdGEpe2xvb3BbaXRlbV09dGhpcy5kYXRhW2l0ZW1dO319LGRhdGE6e3JlcXVpcmVzQ2FsbEJhY2s6bnVsbCxjb21tYW5kU3RhcnRlZDpudWxsLG5leHRDb21tYW5kOm51bGwsY29tbWFuZENvbXBsZXRlOm51bGwsY29tbWFuZEVycm9yOm51bGwscGVuZGluZ1JvbGx1cENvbW1hbmRzOm51bGwscm9sbHVwRmFpbGVkOm51bGwscm9sbHVwRmFpbGVkTWVzc2FnZTpudWxsfS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxufTtsZXQgcnVsZT1Sb2xsdXBNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0Um9sbHVwUnVsZShyb2xsdXBOYW1lKTtsZXQgZXhwYW5kZWRDb21tYW5kcz1ydWxlLmdldEV4cGFuZGVkQ29tbWFuZHMoa3dhcmdzKTsvLyBob2xkIHlvdXIgYnJlYXRoIC4uLlxudHJ5e2JhY2t1cE1hbmFnZXIuYmFja3VwKCk7bG9vcC5yZXF1aXJlc0NhbGxCYWNrPWZhbHNlO2xvb3AuY29tbWFuZFN0YXJ0ZWQ9ZnVuY3Rpb24oKXt9O2xvb3AubmV4dENvbW1hbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBlbmRpbmdSb2xsdXBDb21tYW5kcy5sZW5ndGg9PTApe3JldHVybiBudWxsO31sZXQgY29tbWFuZD10aGlzLnBlbmRpbmdSb2xsdXBDb21tYW5kcy5zaGlmdCgpO3JldHVybiBjb21tYW5kO307bG9vcC5jb21tYW5kQ29tcGxldGU9ZnVuY3Rpb24ocmVzdWx0KXtpZihyZXN1bHQuZmFpbGVkKXt0aGlzLnJvbGx1cEZhaWxlZD10cnVlO3RoaXMucm9sbHVwRmFpbHVyZU1lc3NhZ2VzLnB1c2gocmVzdWx0LmZhaWx1cmVNZXNzYWdlKTt9aWYodGhpcy5wZW5kaW5nUm9sbHVwQ29tbWFuZHMubGVuZ3RoPT0wKXtyZXN1bHQ9e2ZhaWxlZDp0aGlzLnJvbGx1cEZhaWxlZCxmYWlsdXJlTWVzc2FnZTp0aGlzLnJvbGx1cEZhaWx1cmVNZXNzYWdlcy5qb2luKCc7ICcpLy9MT0cuaW5mbygnUm9sbHVwIGV4ZWN1dGlvbiBjb21wbGV0ZTogJyArIChyZXN1bHQuZmFpbGVkID8gJ2ZhaWxlZCEgKHNlZSBlcnJvciBtZXNzYWdlcyBiZWxvdyknIDogJ29rJykpO1xufTtiYWNrdXBNYW5hZ2VyLnJlc3RvcmUoKTt0aGlzLmNvbW1hbmRDb21wbGV0ZShyZXN1bHQpO319O2xvb3AuY29tbWFuZEVycm9yPWZ1bmN0aW9uKGVycm9yTWVzc2FnZSl7Ly9MT0cuaW5mbygnUm9sbHVwIGV4ZWN1dGlvbiBjb21wbGV0ZTogYm9tYmVkIScpO1xuYmFja3VwTWFuYWdlci5yZXN0b3JlKCk7dGhpcy5jb21tYW5kRXJyb3IoZXJyb3JNZXNzYWdlKTt9O2xvb3AucGVuZGluZ1JvbGx1cENvbW1hbmRzPWV4cGFuZGVkQ29tbWFuZHM7bG9vcC5yb2xsdXBGYWlsZWQ9ZmFsc2U7bG9vcC5yb2xsdXBGYWlsdXJlTWVzc2FnZXM9W107fWNhdGNoKGUpey8vTE9HLmVycm9yKCdSb2xsdXAgZXJyb3I6ICcgKyBlKTtcbmJhY2t1cE1hbmFnZXIucmVzdG9yZSgpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0FkZFNjcmlwdD1mdW5jdGlvbihzY3JpcHRDb250ZW50LHNjcmlwdFRhZ0lkKXsvKipcclxuICAgKiBMb2FkcyBzY3JpcHQgY29udGVudCBpbnRvIGEgbmV3IHNjcmlwdCB0YWcgaW4gdGhlIFNlbGVuaXVtIGRvY3VtZW50LiBUaGlzXHJcbiAgICogZGlmZmVycyBmcm9tIHRoZSBydW5TY3JpcHQgY29tbWFuZCBpbiB0aGF0IHJ1blNjcmlwdCBhZGRzIHRoZSBzY3JpcHQgdGFnXHJcbiAgICogdG8gdGhlIGRvY3VtZW50IG9mIHRoZSBBVVQsIG5vdCB0aGUgU2VsZW5pdW0gZG9jdW1lbnQuIFRoZSBmb2xsb3dpbmdcclxuICAgKiBlbnRpdGllcyBpbiB0aGUgc2NyaXB0IGNvbnRlbnQgYXJlIHJlcGxhY2VkIGJ5IHRoZSBjaGFyYWN0ZXJzIHRoZXlcclxuICAgKiByZXByZXNlbnQ6XHJcbiAgICpcclxuICAgKiAgICAgJmx0O1xyXG4gICAqICAgICAmZ3Q7XHJcbiAgICogICAgICZhbXA7XHJcbiAgICpcclxuICAgKiBUaGUgY29ycmVzcG9uZGluZyByZW1vdmUgY29tbWFuZCBpcyByZW1vdmVTY3JpcHQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2NyaXB0Q29udGVudCAgdGhlIEphdmFzY3JpcHQgY29udGVudCBvZiB0aGUgc2NyaXB0IHRvIGFkZFxyXG4gICAqIEBwYXJhbSBzY3JpcHRUYWdJZCAgICAob3B0aW9uYWwpIHRoZSBpZCBvZiB0aGUgbmV3IHNjcmlwdCB0YWcuIElmXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZCwgYW5kIGFuIGVsZW1lbnQgd2l0aCB0aGlzIGlkIGFscmVhZHlcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzLCB0aGlzIG9wZXJhdGlvbiB3aWxsIGZhaWwuXHJcbiAgICovaWYoc2NyaXB0VGFnSWQmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjcmlwdFRhZ0lkKSl7bGV0IG1zZz1cIkVsZW1lbnQgd2l0aCBpZCAnXCIrc2NyaXB0VGFnSWQrXCInIGFscmVhZHkgZXhpc3RzIVwiO3Rocm93IG5ldyBTZWxlbml1bUVycm9yKG1zZyk7fWxldCBoZWFkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07bGV0IHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtzY3JpcHQudHlwZT0ndGV4dC9qYXZhc2NyaXB0JztpZihzY3JpcHRUYWdJZCl7c2NyaXB0LmlkPXNjcmlwdFRhZ0lkO30vLyByZXBsYWNlIHNvbWUgZW50aXRpZXNcbnNjcmlwdENvbnRlbnQ9c2NyaXB0Q29udGVudC5yZXBsYWNlKC8mbHQ7L2csJzwnKS5yZXBsYWNlKC8mZ3Q7L2csJz4nKS5yZXBsYWNlKC8mYW1wOy9nLCcmJyk7c2NyaXB0LnRleHQ9c2NyaXB0Q29udGVudDtoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9SZW1vdmVTY3JpcHQ9ZnVuY3Rpb24oc2NyaXB0VGFnSWQpey8qKlxyXG4gICAqIFJlbW92ZXMgYSBzY3JpcHQgdGFnIGZyb20gdGhlIFNlbGVuaXVtIGRvY3VtZW50IGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuXHJcbiAgICogaWQuIERvZXMgbm90aGluZyBpZiB0aGUgcmVmZXJlbmNlZCB0YWcgZG9lc24ndCBleGlzdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzY3JpcHRUYWdJZCAgdGhlIGlkIG9mIHRoZSBzY3JpcHQgZWxlbWVudCB0byByZW1vdmUuXHJcbiAgICovbGV0IHNjcmlwdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JpcHRUYWdJZCk7aWYoc2NyaXB0JiZnZXRUYWdOYW1lKHNjcmlwdCk9PSdzY3JpcHQnKXtzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1VzZVhwYXRoTGlicmFyeT1mdW5jdGlvbihsaWJyYXJ5TmFtZSl7LyoqXHJcbiAgICogQWxsb3dzIGNob2ljZSBvZiBvbmUgb2YgdGhlIGF2YWlsYWJsZSBsaWJyYXJpZXMuXHJcbiAgICogQHBhcmFtIGxpYnJhcnlOYW1lIG5hbWUgb2YgdGhlIGRlc2lyZWQgbGlicmFyeVxyXG4gICAqIE9ubHkgdGhlIGZvbGxvd2luZyBjYW4gYmUgY2hvc2VuOlxyXG4gICAqIDx1bD5cclxuICAgKiAgIDxsaT5cImFqYXhzbHRcIiAtIEdvb2dsZSdzIGxpYnJhcnk8L2xpPlxyXG4gICAqICAgPGxpPlwiamF2YXNjcmlwdC14cGF0aFwiIC0gQ3lib3p1IExhYnMnIGZhc3RlciBsaWJyYXJ5PC9saT5cclxuICAgKiAgIDxsaT5cInJwYy1vcHRpbWl6aW5nLWFqYXhzbHRcIiAtIHRoZSBSUEMgb3B0aW1pemluZyBzdHJhdGVneSwgZGVsZWdhdGluZyB0byBhamF4c2x0PC9saT5cclxuICAgKiAgIDxsaT5cInJwYy1vcHRpbWl6aW5nLWpzeHBhdGhcIiAtIHRoZSBSUEMgb3B0aW1pemluZyBzdHJhdGVneSwgZGVsZWdhdGluZyB0byBqYXZhc2NyaXB0LXhwYXRoPC9saT5cclxuICAgKiAgIDxsaT5cImRlZmF1bHRcIiAtIFRoZSBkZWZhdWx0IGxpYnJhcnkuICBDdXJyZW50bHkgdGhlIGRlZmF1bHQgbGlicmFyeSBpcyBcImFqYXhzbHRcIiAuPC9saT5cclxuICAgKiA8L3VsPlxyXG4gICAqIElmIGxpYnJhcnlOYW1lIGlzbid0IG9uZSBvZiB0aGVzZSwgaXQgbWF5IGJlIHRoZSBuYW1lIG9mIGFub3RoZXIgZW5naW5lXHJcbiAgICogcmVnaXN0ZXJlZCB0byB0aGUgYnJvd3NlcmJvdCdzIFhQYXRoRXZhbHVhdG9yLCBmb3IgZXhhbXBsZSBieSBvdmVycmlkaW5nXHJcbiAgICogWFBhdGhFdmFsdWF0b3IucHJvdG90eXBlLmluaXQoKSAuIElmIGl0IGlzIG5vdCBhIHJlZ2lzdGVyZWQgZW5naW5lXHJcbiAgICogZWl0aGVyLCB0aGVuIG5vIGNoYW5nZSB3aWxsIGJlIG1hZGUuXHJcbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5nZXRYUGF0aEVuZ2luZShsaWJyYXJ5TmFtZSkpe3JldHVybjt9dGhpcy5icm93c2VyYm90LnNldFhQYXRoRW5naW5lKGxpYnJhcnlOYW1lKTt9Oy8qKlxyXG4gKiAgRmFjdG9yeSBmb3IgY3JlYXRpbmcgXCJPcHRpb24gTG9jYXRvcnNcIi5cclxuICogIEFuIE9wdGlvbkxvY2F0b3IgaXMgYW4gb2JqZWN0IGZvciBkZWFsaW5nIHdpdGggU2VsZWN0IG9wdGlvbnMgKGUuZy4gZm9yXHJcbiAqICBmaW5kaW5nIGEgc3BlY2lmaWVkIG9wdGlvbiwgb3IgYXNzZXJ0aW5nIHRoYXQgdGhlIHNlbGVjdGVkIG9wdGlvbiBvZlxyXG4gKiAgU2VsZWN0IGVsZW1lbnQgbWF0Y2hlcyBzb21lIGNvbmRpdGlvbi5cclxuICogIFRoZSB0eXBlIG9mIGxvY2F0b3IgcmV0dXJuZWQgYnkgdGhlIGZhY3RvcnkgZGVwZW5kcyBvbiB0aGUgbG9jYXRvciBzdHJpbmc6XHJcbiAqICAgICBsYWJlbD08ZXhwPiAgKE9wdGlvbkxvY2F0b3JCeUxhYmVsKVxyXG4gKiAgICAgdmFsdWU9PGV4cD4gIChPcHRpb25Mb2NhdG9yQnlWYWx1ZSlcclxuICogICAgIGluZGV4PTxleHA+ICAoT3B0aW9uTG9jYXRvckJ5SW5kZXgpXHJcbiAqICAgICBpZD08ZXhwPiAgICAgKE9wdGlvbkxvY2F0b3JCeUlkKVxyXG4gKiAgICAgPGV4cD4gKGRlZmF1bHQgaXMgT3B0aW9uTG9jYXRvckJ5TGFiZWwpLlxyXG4gKi9mdW5jdGlvbiBPcHRpb25Mb2NhdG9yRmFjdG9yeSgpe31PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuZnJvbUxvY2F0b3JTdHJpbmc9ZnVuY3Rpb24obG9jYXRvclN0cmluZyl7bGV0IGxvY2F0b3JUeXBlPSdsYWJlbCc7bGV0IGxvY2F0b3JWYWx1ZT1sb2NhdG9yU3RyaW5nOy8vIElmIHRoZXJlIGlzIGEgbG9jYXRvciBwcmVmaXgsIHVzZSB0aGUgc3BlY2lmaWVkIHN0cmF0ZWd5XG5sZXQgcmVzdWx0PWxvY2F0b3JTdHJpbmcubWF0Y2goL14oW2EtekEtWl0rKT0oLiopLyk7aWYocmVzdWx0KXtsb2NhdG9yVHlwZT1yZXN1bHRbMV07bG9jYXRvclZhbHVlPXJlc3VsdFsyXTt9aWYodGhpcy5vcHRpb25Mb2NhdG9ycz09dW5kZWZpbmVkKXt0aGlzLnJlZ2lzdGVyT3B0aW9uTG9jYXRvcnMoKTt9aWYodGhpcy5vcHRpb25Mb2NhdG9yc1tsb2NhdG9yVHlwZV0pe3JldHVybiBuZXcgdGhpcy5vcHRpb25Mb2NhdG9yc1tsb2NhdG9yVHlwZV0obG9jYXRvclZhbHVlKTt9dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1Vua25vd24gb3B0aW9uIGxvY2F0b3IgdHlwZTogJytsb2NhdG9yVHlwZSk7fTsvKipcclxuICogVG8gYWxsb3cgZm9yIGVhc3kgZXh0ZW5zaW9uLCBhbGwgb2YgdGhlIG9wdGlvbiBsb2NhdG9ycyBhcmUgZm91bmQgYnlcclxuICogc2VhcmNoaW5nIGZvciBhbGwgbWV0aG9kcyBvZiBPcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUgdGhhdCBzdGFydFxyXG4gKiB3aXRoIFwiT3B0aW9uTG9jYXRvckJ5XCIuXHJcbiAqIFRPRE86IENvbnNpZGVyIHVzaW5nIHRoZSB0ZXJtIFwiT3B0aW9uIFNwZWNpZmllclwiIGluc3RlYWQgb2YgXCJPcHRpb24gTG9jYXRvclwiLlxyXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUucmVnaXN0ZXJPcHRpb25Mb2NhdG9ycz1mdW5jdGlvbigpe3RoaXMub3B0aW9uTG9jYXRvcnM9e307Zm9yKGxldCBmdW5jdGlvbk5hbWUgaW4gdGhpcyl7bGV0IHJlc3VsdD0vT3B0aW9uTG9jYXRvckJ5KFtBLVpdLispJC8uZXhlYyhmdW5jdGlvbk5hbWUpO2lmKHJlc3VsdCE9bnVsbCl7bGV0IGxvY2F0b3JOYW1lPWxvd2VyRmlyc3RDaGFyKHJlc3VsdFsxXSk7dGhpcy5vcHRpb25Mb2NhdG9yc1tsb2NhdG9yTmFtZV09dGhpc1tmdW5jdGlvbk5hbWVdO319fTsvKipcclxuICogIE9wdGlvbkxvY2F0b3IgZm9yIG9wdGlvbnMgaWRlbnRpZmllZCBieSB0aGVpciBsYWJlbHMuXHJcbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5PcHRpb25Mb2NhdG9yQnlMYWJlbD1mdW5jdGlvbihsYWJlbCl7dGhpcy5sYWJlbD1sYWJlbDt0aGlzLmxhYmVsTWF0Y2hlcj1uZXcgUGF0dGVybk1hdGNoZXIodGhpcy5sYWJlbCk7dGhpcy5maW5kT3B0aW9uPWZ1bmN0aW9uKGVsZW1lbnQpe2ZvcihsZXQgaT0wO2k8ZWxlbWVudC5vcHRpb25zLmxlbmd0aDtpKyspe2lmKHRoaXMubGFiZWxNYXRjaGVyLm1hdGNoZXMoZWxlbWVudC5vcHRpb25zW2ldLnRleHQpKXtyZXR1cm4gZWxlbWVudC5vcHRpb25zW2ldO319dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJPcHRpb24gd2l0aCBsYWJlbCAnXCIrdGhpcy5sYWJlbCtcIicgbm90IGZvdW5kXCIpO307dGhpcy5hc3NlcnRTZWxlY3RlZD1mdW5jdGlvbihlbGVtZW50KXtsZXQgc2VsZWN0ZWRMYWJlbD1lbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4XS50ZXh0O0Fzc2VydC5tYXRjaGVzKHRoaXMubGFiZWwsc2VsZWN0ZWRMYWJlbCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8qKlxyXG4gKiAgT3B0aW9uTG9jYXRvciBmb3Igb3B0aW9ucyBpZGVudGlmaWVkIGJ5IHRoZWlyIHZhbHVlcy5cclxuICovT3B0aW9uTG9jYXRvckZhY3RvcnkucHJvdG90eXBlLk9wdGlvbkxvY2F0b3JCeVZhbHVlPWZ1bmN0aW9uKHZhbHVlKXt0aGlzLnZhbHVlPXZhbHVlO3RoaXMudmFsdWVNYXRjaGVyPW5ldyBQYXR0ZXJuTWF0Y2hlcih0aGlzLnZhbHVlKTt0aGlzLmZpbmRPcHRpb249ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7aWYodGhpcy52YWx1ZU1hdGNoZXIubWF0Y2hlcyhlbGVtZW50Lm9wdGlvbnNbaV0udmFsdWUpKXtyZXR1cm4gZWxlbWVudC5vcHRpb25zW2ldO319dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJPcHRpb24gd2l0aCB2YWx1ZSAnXCIrdGhpcy52YWx1ZStcIicgbm90IGZvdW5kXCIpO307dGhpcy5hc3NlcnRTZWxlY3RlZD1mdW5jdGlvbihlbGVtZW50KXtsZXQgc2VsZWN0ZWRWYWx1ZT1lbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZTtBc3NlcnQubWF0Y2hlcyh0aGlzLnZhbHVlLHNlbGVjdGVkVmFsdWUpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn07fTsvKipcclxuICogIE9wdGlvbkxvY2F0b3IgZm9yIG9wdGlvbnMgaWRlbnRpZmllZCBieSB0aGVpciBpbmRleC5cclxuICovT3B0aW9uTG9jYXRvckZhY3RvcnkucHJvdG90eXBlLk9wdGlvbkxvY2F0b3JCeUluZGV4PWZ1bmN0aW9uKGluZGV4KXt0aGlzLmluZGV4PU51bWJlcihpbmRleCk7aWYoaXNOYU4odGhpcy5pbmRleCl8fHRoaXMuaW5kZXg8MCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0lsbGVnYWwgSW5kZXg6ICcraW5kZXgpO310aGlzLmZpbmRPcHRpb249ZnVuY3Rpb24oZWxlbWVudCl7aWYoZWxlbWVudC5vcHRpb25zLmxlbmd0aDw9dGhpcy5pbmRleCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZS4gIE9ubHkgJytlbGVtZW50Lm9wdGlvbnMubGVuZ3RoKycgb3B0aW9ucyBhdmFpbGFibGUnKTt9cmV0dXJuIGVsZW1lbnQub3B0aW9uc1t0aGlzLmluZGV4XTt9O3RoaXMuYXNzZXJ0U2VsZWN0ZWQ9ZnVuY3Rpb24oZWxlbWVudCl7QXNzZXJ0LmVxdWFscyh0aGlzLmluZGV4LGVsZW1lbnQuc2VsZWN0ZWRJbmRleCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8qKlxyXG4gKiAgT3B0aW9uTG9jYXRvciBmb3Igb3B0aW9ucyBpZGVudGlmaWVkIGJ5IHRoZWlyIGlkLlxyXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuT3B0aW9uTG9jYXRvckJ5SWQ9ZnVuY3Rpb24oaWQpe3RoaXMuaWQ9aWQ7dGhpcy5pZE1hdGNoZXI9bmV3IFBhdHRlcm5NYXRjaGVyKHRoaXMuaWQpO3RoaXMuZmluZE9wdGlvbj1mdW5jdGlvbihlbGVtZW50KXtmb3IobGV0IGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLmlkTWF0Y2hlci5tYXRjaGVzKGVsZW1lbnQub3B0aW9uc1tpXS5pZCkpe3JldHVybiBlbGVtZW50Lm9wdGlvbnNbaV07fX10aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIk9wdGlvbiB3aXRoIGlkICdcIit0aGlzLmlkK1wiJyBub3QgZm91bmRcIik7fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe2xldCBzZWxlY3RlZElkPWVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdLmlkO0Fzc2VydC5tYXRjaGVzKHRoaXMuaWQsc2VsZWN0ZWRJZCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8vRWRpdENvbnRlbnRFeHQsIExpbiBZdW4gV2VuLCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8xN1xuU2VsZW5pdW0ucHJvdG90eXBlLmRvRWRpdENvbnRlbnQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXHJcbiAgICp0byBzZXQgdGV4dCBpbiB0aGUgZWxlbWVudCB3aGljaCdzIGNvbmVudEVkaXRhYmxlIGF0dHJpYnV0ZSBpcyB0cnVlXHJcbiAgICpAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcclxuICAgKkBwYXJhbSB2YWx1ZSB0aGUgY29udGV4dCBvZiB0aGUgZWxlbWVudCBpbiBodG1sXHJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBlZGl0YWJsZT1lbGVtZW50LmNvbnRlbnRFZGl0YWJsZTtpZihlZGl0YWJsZT09J3RydWUnKXtlbGVtZW50LmlubmVySFRNTD1lc2NhcGVIVE1MKHZhbHVlKTt9ZWxzZXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignVGhlIHZhbHVlIG9mIGNvbnRlbnRFZGl0YWJsZSBhdHRyaWJ1dGUgb2YgdGhpcyBlbGVtZW50IGlzIG5vdCB0cnVlLicpO319Oy8vIE1vZGlmaWVkIHByb21wdCBieSBTaWRlZVggY29taXR0ZXJzIChDb3B5cmlnaHQgMjAxNylcblNlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZUNhbmNlbE9uTmV4dFByb21wdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJyb3dzZXJib3QuY2FuY2VsTmV4dFByb21wdCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQW5zd2VyT25OZXh0UHJvbXB0PWZ1bmN0aW9uKGFuc3dlcil7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5zZXROZXh0UHJvbXB0UmVzdWx0KGFuc3dlcik7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRQcm9tcHQ9ZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRQcm9tcHRNZXNzYWdlKCkudGhlbihmdW5jdGlvbihhY3R1YWxNZXNzYWdlKXtpZihtZXNzYWdlIT1hY3R1YWxNZXNzYWdlKXJldHVybiBQcm9taXNlLnJlamVjdChcIlByb21wdCBtZXNzYWdlIGRvZXNuJ3QgbWF0Y2ggYWN0dWFsIG1lc3NhZ2VcIik7ZWxzZSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO30pO307Ly8gTW9kaWZpZWQgYWxlcnQgYnkgU2lkZWVYIGNvbWl0dGVycyAoQ29weXJpZ2h0IDIwMTcpXG5TZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRBbGVydD1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LmdldEFsZXJ0TWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24oYWN0dWFsTWVzc2FnZSl7aWYobWVzc2FnZSE9YWN0dWFsTWVzc2FnZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJBbGVydCBtZXNzYWdlIGRvZXNuJ3QgbWF0Y2ggYWN0dWFsIG1lc3NhZ2VcIik7ZWxzZSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO30pO307Ly8gTW9kaWZpZWQgY29uZmlybSBieSBTaWRlZVggY29taXR0ZXJzIChDb3B5cmlnaHQgMjAxNylcblNlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJyb3dzZXJib3Quc2V0TmV4dENvbmZpcm1hdGlvblJlc3VsdChmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VPa09uTmV4dENvbmZpcm1hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJyb3dzZXJib3Quc2V0TmV4dENvbmZpcm1hdGlvblJlc3VsdCh0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydENvbmZpcm1hdGlvbj1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRDb25maXJtYXRpb25NZXNzYWdlKCkudGhlbihmdW5jdGlvbihhY3R1YWxNZXNzYWdlKXtpZih2YWx1ZSE9YWN0dWFsTWVzc2FnZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJDb25maXJtYXRpb24gbWVzc2FnZSBkb2Vzbid0IG1hdGNoIGFjdHVhbCBtZXNzYWdlXCIpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTt9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1Nob3dFbGVtZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe2NvbnN0IGVsZW1lbnRGb3JJbmplY3RpbmdTdHlsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7ZWxlbWVudEZvckluamVjdGluZ1N0eWxlLnJlbD0nc3R5bGVzaGVldCc7ZWxlbWVudEZvckluamVjdGluZ1N0eWxlLmhyZWY9YnJvd3Nlci5ydW50aW1lLmdldFVSTCgnL2Fzc2V0cy9oaWdobGlnaHQuY3NzJyk7KGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoZWxlbWVudEZvckluamVjdGluZ1N0eWxlKTtjb25zdCBoaWdobGlnaHRFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2hpZ2hsaWdodEVsZW1lbnQuaWQ9J3NlbGVuaXVtLWhpZ2hsaWdodCc7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoaWdobGlnaHRFbGVtZW50KTtpZihsb2NhdG9yLngpe2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUubGVmdD1wYXJzZUludChsb2NhdG9yLngpKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS50b3A9cGFyc2VJbnQobG9jYXRvci55KSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUud2lkdGg9cGFyc2VJbnQobG9jYXRvci53aWR0aCkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLmhlaWdodD1wYXJzZUludChsb2NhdG9yLmhlaWdodCkrJ3B4Jzt9ZWxzZXtjb25zdCBib2R5UmVjdHM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2NvbnN0IGVsZW1lbnRSZWN0cz1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUubGVmdD1wYXJzZUludChlbGVtZW50UmVjdHMubGVmdC1ib2R5UmVjdHMubGVmdCkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLnRvcD1wYXJzZUludChlbGVtZW50UmVjdHMudG9wLWJvZHlSZWN0cy50b3ApKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS53aWR0aD1wYXJzZUludChlbGVtZW50UmVjdHMud2lkdGgpKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5oZWlnaHQ9cGFyc2VJbnQoZWxlbWVudFJlY3RzLmhlaWdodCkrJ3B4Jzt9aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUuekluZGV4PScxMDAnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUuZGlzcGxheT0nYmxvY2snO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz0nbm9uZSc7c2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChoaWdobGlnaHRFbGVtZW50LHtjZW50ZXJJZk5lZWRlZDp0cnVlfSk7aGlnaGxpZ2h0RWxlbWVudC5jbGFzc05hbWU9J2FjdGl2ZS1zZWxlbml1bS1oaWdobGlnaHQnO3NldFRpbWVvdXQoKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGhpZ2hsaWdodEVsZW1lbnQpO2VsZW1lbnRGb3JJbmplY3RpbmdTdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTdHlsZSk7fSw1MDApO3JldHVybidlbGVtZW50IGZvdW5kJzt9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9zZWxlbml1bS1hcGkuanNcbi8vIG1vZHVsZSBpZCA9IDI1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///250\n");

/***/ }),

/***/ 251:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__selenium_api__ = __webpack_require__(250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SeleniumError__ = __webpack_require__(123);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commands_api__ = __webpack_require__(157);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__PatternMatcher__ = __webpack_require__(252);\n/*\r\n * Copyright 2011 Software Freedom Conservancy\r\n *\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *  you may not use this file except in compliance with the License.\r\n *  You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  Unless required by applicable law or agreed to in writing, software\r\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *  See the License for the specific language governing permissions and\r\n *  limitations under the License.\r\n *\r\n */ /*\r\n * This script provides the Javascript API to drive the test application contained within\r\n * a Browser Window.\r\n * TODO:\r\n *    Add support for more events (keyboard and mouse)\r\n *    Allow to switch \"user-entry\" mode from mouse-based to keyboard-based, firing different\r\n *          events in different modes.\r\n */const browserVersion=new window.global.BrowserVersion();\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = browserVersion;\nwindow.global.browserVersion=browserVersion;// The window to which the commands will be sent.  For example, to click on a\n// popup window, first select that window, and then do a normal click command.\nclass BrowserBot{constructor(topLevelApplicationWindow){this.topWindow=topLevelApplicationWindow;this.topFrame=this.topWindow;this.baseUrl=window.location.href;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].setWindow(window);//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.count=1;// the buttonWindow is the Selenium window\n// it contains the Run/Pause buttons... this should *not* be the AUT window\nthis.buttonWindow=window;this.currentWindow=this.topWindow;this.currentWindowName=null;this.allowNativeXpath=true;this.xpathEvaluator=new XPathEvaluator('ajaxslt');// change to \"javascript-xpath\" for the newer, faster engine\n// We need to know this in advance, in case the frame closes unexpectedly\nthis.isSubFrameSelected=false;this.altKeyDown=false;this.controlKeyDown=false;this.shiftKeyDown=false;this.metaKeyDown=false;this.modalDialogTest=null;this.recordedAlerts=new Array();this.recordedConfirmations=new Array();this.recordedPrompts=new Array();this.openedWindows={};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.openedWindows['win_ser_local']=this.topWindow;this.nextConfirmResult=true;this.nextPromptResult='';this.newPageLoaded=false;this.pageLoadError=null;this.ignoreResponseCode=false;this.xhr=null;this.abortXhr=false;this.isXhrSent=false;this.isXhrDone=false;this.xhrOpenLocation=null;this.xhrResponseCode=null;this.xhrStatusText=null;this.shouldHighlightLocatedElement=false;this.uniqueId='seleniumMarker'+new Date().getTime();this.pollingForLoad=new Object();this.permDeniedCount=new Object();this.windowPollers=new Array();// DGF for backwards compatibility\nthis.browserbot=this;let self=this;Object.assign(this,PageBot.prototype);this._registerAllLocatorFunctions();this.recordPageLoad=function(){self.newPageLoaded=true;};this.isNewPageLoaded=function(){let e;if(this.pageLoadError){e=this.pageLoadError;this.pageLoadError=null;throw e;}if(self.ignoreResponseCode){return self.newPageLoaded;}else{if(self.isXhrSent&&self.isXhrDone){if(!(self.xhrResponseCode>=200&&self.xhrResponseCode<=399||self.xhrResponseCode==0)){// TODO: for IE status like: 12002, 12007, ... provide corresponding statusText messages also.\ne='XHR ERROR: URL = '+self.xhrOpenLocation+' Response_Code = '+self.xhrResponseCode+' Error_Message = '+self.xhrStatusText;self.abortXhr=false;self.isXhrSent=false;self.isXhrDone=false;self.xhrResponseCode=null;self.xhrStatusText=null;throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](e);}}return self.newPageLoaded&&(self.isXhrSent?self.abortXhr||self.isXhrDone:true);}};this.setAllowNativeXPath=function(allow){this.xpathEvaluator.setAllowNativeXPath(allow);};this.setIgnoreAttributesWithoutValue=function(ignore){this.xpathEvaluator.setIgnoreAttributesWithoutValue(ignore);};this.setXPathEngine=function(engineName){this.xpathEvaluator.setCurrentEngine(engineName);};this.getXPathEngine=function(){return this.xpathEvaluator.getCurrentEngine();};}}\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = BrowserBot;\n// DGF PageBot exists for backwards compatibility with old user-extensions\nconst PageBot=function(){};BrowserBot.createForWindow=function(window,proxyInjectionMode){let browserbot;if(browserVersion.isIE){browserbot=new IEBrowserBot(window);}else if(browserVersion.isKonqueror){browserbot=new KonquerorBrowserBot(window);}else if(browserVersion.isOpera){browserbot=new OperaBrowserBot(window);}else if(browserVersion.isSafari){browserbot=new SafariBrowserBot(window);}else{// Use mozilla by default\nbrowserbot=new MozillaBrowserBot(window);}// getCurrentWindow has the side effect of modifying it to handle page loads etc\nbrowserbot.proxyInjectionMode=proxyInjectionMode;browserbot.getCurrentWindow();// for modifyWindow side effect.  This is not a transparent style\nreturn browserbot;};// todo: rename?  This doesn't actually \"do\" anything.\nBrowserBot.prototype.doModalDialogTest=function(test){this.modalDialogTest=test;};BrowserBot.prototype.cancelNextConfirmation=function(result){this.nextConfirmResult=result;};//BrowserBot.prototype.setNextPromptResult = function(result) {\n//this.nextResult = result;\n//};\nBrowserBot.prototype.hasAlerts=function(){return this.recordedAlerts.length>0;};BrowserBot.prototype.relayBotToRC=function(s){// DGF need to do this funny trick to see if we're in PI mode, because\n// \"this\" might be the window, rather than the browserbot (e.g. during window.alert)\nlet piMode=this.proxyInjectionMode;if(!piMode){if(typeof __WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"]!='undefined'){piMode=__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot&&__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.proxyInjectionMode;}}if(piMode){this.relayToRC('selenium.'+s);}};BrowserBot.prototype.relayToRC=function(){return null;};BrowserBot.prototype.resetPopups=function(){this.recordedAlerts=[];this.recordedConfirmations=[];this.recordedPrompts=[];};BrowserBot.prototype.getNextAlert=function(){let t=this.recordedAlerts.shift();if(t){t=t.replace(/\\n/g,' ');// because Selenese loses \\n's when retrieving text from HTML table\n}this.relayBotToRC('browserbot.recordedAlerts');return t;};BrowserBot.prototype.hasConfirmations=function(){return this.recordedConfirmations.length>0;};BrowserBot.prototype.getNextConfirmation=function(){let t=this.recordedConfirmations.shift();this.relayBotToRC('browserbot.recordedConfirmations');return t;};BrowserBot.prototype.hasPrompts=function(){return this.recordedPrompts.length>0;};BrowserBot.prototype.getNextPrompt=function(){let t=this.recordedPrompts.shift();this.relayBotToRC('browserbot.recordedPrompts');return t;};/* Fire a mouse event in a browser-compatible manner */BrowserBot.prototype.triggerMouseEvent=function(element,eventType,canBubble,clientX,clientY,button){clientX=clientX?clientX:0;clientY=clientY?clientY:0;//LOG.debug(\"triggerMouseEvent assumes setting screenX and screenY to 0 is ok\");\nlet screenX=0;let screenY=0;canBubble=typeof canBubble==undefined?true:canBubble;let doc=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].dom.getOwnerDocument(element);let view=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].dom.getWindow(doc);let evt=doc.createEvent('MouseEvents');if(evt.initMouseEvent){// see http://developer.mozilla.org/en/docs/DOM:event.button and\n// http://developer.mozilla.org/en/docs/DOM:event.initMouseEvent for button ternary logic logic\n//Safari\nevt.initMouseEvent(eventType,canBubble,true,view,1,screenX,screenY,clientX,clientY,this.controlKeyDown,this.altKeyDown,this.shiftKeyDown,this.metaKeyDown,button?button:0,null);}else{//LOG.warn(\"element doesn't have initMouseEvent; firing an event which should -- but doesn't -- have other mouse-event related attributes here, as well as controlKeyDown, altKeyDown, shiftKeyDown, metaKeyDown\");\nevt.initEvent(eventType,canBubble,true);evt.shiftKey=this.shiftKeyDown;evt.metaKey=this.metaKeyDown;evt.altKey=this.altKeyDown;evt.ctrlKey=this.controlKeyDown;if(button){evt.button=button;}}element.dispatchEvent(evt);};//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/10/17\nBrowserBot.prototype.triggerDragEvent=function(element,target){const getXpathOfElement=function(element){if(element==null){return'null';}if(element.parentElement==null){return'/'+element.tagName;}let siblingElement=element.parentElement.children;let tagCount=0;let totalTagCount=0;let isFound=false;for(let i=0;i<siblingElement.length;i++){if(siblingElement[i].tagName==element.tagName&&!isFound){tagCount++;totalTagCount++;}else if(siblingElement[i].tagName==element.tagName){totalTagCount++;}if(siblingElement[i]==element){isFound=true;}}if(totalTagCount>1){return getXpathOfElement(element.parentElement)+'/'+element.tagName+'['+tagCount+']';}return getXpathOfElement(element.parentElement)+'/'+element.tagName;};let script=\"                                              \\\r\n        function simulateDragDrop(sourceNode, destinationNode){\\\r\n        function createCustomEvent(type) {                     \\\r\n            var event = new CustomEvent('CustomEvent');        \\\r\n            event.initCustomEvent(type, true, true, null);     \\\r\n            event.dataTransfer = {                             \\\r\n                data: {                                        \\\r\n                },                                             \\\r\n                setData: function(type, val) {                 \\\r\n                    this.data[type] = val;                     \\\r\n                },                                             \\\r\n                getData: function(type) {                      \\\r\n                    return this.data[type];                    \\\r\n                }                                              \\\r\n            };                                                 \\\r\n            return event;                                      \\\r\n        }                                                      \\\r\n        function dispatchEvent(node, type, event) {            \\\r\n            if (node.dispatchEvent) {                          \\\r\n                return node.dispatchEvent(event);              \\\r\n            }                                                  \\\r\n            if (node.fireEvent) {                              \\\r\n                return node.fireEvent('on' + type, event);     \\\r\n            }                                                  \\\r\n        }                                                      \\\r\n        var event = createCustomEvent('dragstart');            \\\r\n        dispatchEvent(sourceNode, 'dragstart', event);         \\\r\n                                                               \\\r\n        var dropEvent = createCustomEvent('drop');             \\\r\n        dropEvent.dataTransfer = event.dataTransfer;           \\\r\n        dispatchEvent(destinationNode, 'drop', dropEvent);     \\\r\n                                                               \\\r\n        var dragEndEvent = createCustomEvent('dragend');       \\\r\n        dragEndEvent.dataTransfer = event.dataTransfer;        \\\r\n        dispatchEvent(sourceNode, 'dragend', dragEndEvent);    \\\r\n    }                                                          \\\r\n    simulateDragDrop(document.evaluate('\"+getXpathOfElement(element)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue, document.evaluate('\"+getXpathOfElement(target)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue);\\\r\n    \";let win=this.browserbot.getCurrentWindow();let doc=win.document;let scriptTag=doc.createElement('script');scriptTag.type='text/javascript';scriptTag.text=script;doc.body.appendChild(scriptTag);};BrowserBot.prototype._windowClosed=function(win){try{let c=win.closed;if(c==null)return true;return c;}catch(ignored){// Firefox 15+ may already have marked the win dead. Accessing it\n// causes an exception to be thrown. That exception tells us the window\n// is closed.\nreturn true;}};BrowserBot.uniqueKey=1;BrowserBot.prototype._modifyWindow=function(win){// In proxyInjectionMode, have to suppress //LOG calls in _modifyWindow to avoid an infinite loop\nif(this._windowClosed(win)){if(!this.proxyInjectionMode){//LOG.error(\"modifyWindow: Window was closed!\");\n}return null;}if(!this.proxyInjectionMode){}//LOG.debug('modifyWindow ' + this.uniqueId + \":\" + win[this.uniqueId]);\n// Assign a unique label for this window. We set this on a known attribute so we can reliably\n// find it later. This is slightly different from uniqueId.\nwin.seleniumKey=BrowserBot.uniqueKey++;try{this.modifyWindowToRecordPopUpDialogs(win,this);}catch(ex){console.error(ex);// eslint-disable-line no-console\n}//Commenting out for issue 1854\n//win[this.uniqueId] = 1;\n// In proxyInjection mode, we have our own mechanism for detecting page loads\nif(!this.proxyInjectionMode){this.modifySeparateTestWindowToDetectPageLoads(win);}if(win.frames&&win.frames.length&&win.frames.length>0){for(let i=0;i<win.frames.length;i++){try{this._modifyWindow(win.frames[i]);}catch(e){}// eslint-disable-line no-empty\n// we're just trying to be opportunistic; don't worry if this doesn't work out\n}}return win;};BrowserBot.prototype.selectWindow=function(target){if(!target||target=='null'){this._selectTopWindow();return;}let result=target.match(/^([a-zA-Z]+)=(.*)/);if(!result){this._selectWindowByWindowId(target);return;}let locatorType=result[1];let locatorValue=result[2];if(locatorType=='title'){this._selectWindowByTitle(locatorValue);}// TODO separate name and var into separate functions\nelse if(locatorType=='name'){this._selectWindowByName(locatorValue);}else if(locatorType=='var'){let win=this.getCurrentWindow().eval(locatorValue);if(win){this._selectWindowByName(win.name);}else{throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window not found by var: '+locatorValue);}}else{throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window locator not recognized: '+locatorType);}};BrowserBot.prototype.selectPopUp=function(windowId){if(!windowId||windowId=='null'){this._selectFirstNonTopWindow();}else{this._selectWindowByWindowId(windowId);}};BrowserBot.prototype._selectTopWindow=function(){this.currentWindowName=null;this.currentWindow=this.topWindow;this.topFrame=this.topWindow;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByWindowId=function(windowId){try{this._selectWindowByName(windowId);}catch(e){this._selectWindowByTitle(windowId);}};BrowserBot.prototype._selectWindowByName=function(target){this.currentWindow=this.getWindowByName(target,false);this.topFrame=this.currentWindow;this.currentWindowName=target;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByTitle=function(target){let windowName=this.getWindowNameByTitle(target);if(!windowName){this._selectTopWindow();}else{this._selectWindowByName(windowName);}};BrowserBot.prototype._selectFirstNonTopWindow=function(){let names=this.getNonTopWindowNames();if(names.length){this._selectWindowByName(names[0]);}};BrowserBot.prototype.selectFrame=function(target){let frame;if(target.indexOf('index=')==0){target=target.substr(6);frame=this.getCurrentWindow().frames[target];if(frame==null){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not found: frames['+target+']');}if(!frame.document){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('frames['+target+'] is not a frame');}this.currentWindow=frame;this.isSubFrameSelected=true;}else if(target=='relative=up'||target=='relative=parent'){this.currentWindow=this.getCurrentWindow().parent;this.isSubFrameSelected=this._getFrameElement(this.currentWindow)!=null;}else if(target=='relative=top'){this.currentWindow=this.topFrame;this.isSubFrameSelected=false;}else{frame=this.findElement(target);if(frame==null){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not found: '+target);}// now, did they give us a frame or a frame ELEMENT?\nlet match=false;if(frame.contentWindow){// this must be a frame element\nif(browserVersion.isHTA){// stupid HTA bug; can't get in the front door\ntarget=frame.contentWindow.name;}else{this.currentWindow=frame.contentWindow;this.isSubFrameSelected=true;match=true;}}else if(frame.document&&frame.location){// must be an actual window frame\nthis.currentWindow=frame;this.isSubFrameSelected=true;match=true;}if(!match){// neither, let's loop through the frame names\nlet win=this.getCurrentWindow();if(win&&win.frames&&win.frames.length){for(let i=0;i<win.frames.length;i++){if(win.frames[i].name==target){this.currentWindow=win.frames[i];this.isSubFrameSelected=true;match=true;break;}}}if(!match){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not a frame: '+target);}}}// modifies the window\nthis.getCurrentWindow();};BrowserBot.prototype.doesThisFrameMatchFrameExpression=function(currentFrameString,target){let isDom=false;if(target.indexOf('dom=')==0){target=target.substr(4);isDom=true;}else if(target.indexOf('index=')==0){target='frames['+target.substr(6)+']';isDom=true;}let t;//Evalinsandbox\n// eslint-disable-next-line no-undef\nlet mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.currentFrameString=currentFrameString;mySandbox.target=target;try{// eslint-disable-next-line no-undef\nt=Components.utils.evalInSandbox(currentFrameString+'.'+target,mySandbox);//eval(\"t=\" + currentFrameString + \".\" + target);\n}catch(e){}// eslint-disable-line no-empty\nlet autWindow=this.browserbot.getCurrentWindow();if(t!=null){try{if(t.window==autWindow){return true;}if(t.window.uniqueId==autWindow.uniqueId){return true;}return false;}catch(permDenied){// DGF if the windows are incomparable, they're probably not the same...\n}}if(isDom){return false;}// eslint-disable-next-line no-undef\nlet currentFrame=Components.utils.evalInSandbox(currentFrameString,mySandbox);//var currentFrame;\n//eval(\"currentFrame=\" + currentFrameString);\nif(target=='relative=up'){if(currentFrame.window.parent==autWindow){return true;}return false;}if(target=='relative=top'){if(currentFrame.window.top==autWindow){return true;}return false;}if(currentFrame.window==autWindow.parent){if(autWindow.name==target){return true;}try{let element=this.findElement(target,currentFrame.window);if(element.contentWindow==autWindow){return true;}}catch(e){}// eslint-disable-line no-empty\n}return false;};BrowserBot.prototype.abortXhrRequest=function(){if(this.ignoreResponseCode){//LOG.debug(\"XHR response code being ignored. Nothing to abort.\");\n}else{if(this.abortXhr==false&&this.isXhrSent&&!this.isXhrDone){//LOG.info(\"abortXhrRequest(): aborting request\");\nthis.abortXhr=true;this.xhr.abort();}}};BrowserBot.prototype.onXhrStateChange=function(method){//LOG.info(\"onXhrStateChange(): xhr.readyState = \" + this.xhr.readyState + \" method = \" + method + \" time = \" + new Date().getTime());\nif(this.xhr.readyState==4){// check if the request got aborted.\nif(this.abortXhr==true){this.xhrResponseCode=0;this.xhrStatusText='Request Aborted';this.isXhrDone=true;return;}try{if(method=='HEAD'&&(this.xhr.status==501||this.xhr.status==405)){//LOG.info(\"onXhrStateChange(): HEAD ajax returned 501 or 405, retrying with GET\");\n// handle 501 response code from servers that do not support 'HEAD' method.\n// send GET ajax request with range 0-1.\nthis.xhr=new XMLHttpRequest();this.xhr.onreadystatechange=this.onXhrStateChange.bind(this,'GET');this.xhr.open('GET',this.xhrOpenLocation,true);this.xhr.setRequestHeader('Range','bytes:0-1');this.xhr.send('');this.isXhrSent=true;return;}this.xhrResponseCode=this.xhr.status;this.xhrStatusText=this.xhr.statusText;}catch(ex){//LOG.info(\"encountered exception while reading xhrResponseCode.\" + ex.message);\nthis.xhrResponseCode=-1;this.xhrStatusText='Request Error';}this.isXhrDone=true;}};BrowserBot.prototype.openWindow=function(url,windowID){if(url!=''){url='https://www.google.com';}if(browserVersion.isHTA){// in HTA mode, calling .open on the window interprets the url relative to that window\n// we need to absolute-ize the URL to make it consistent\nlet child=this.getCurrentWindow().open(url,windowID,'resizable=yes');__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.openedWindows[windowID]=child;}else{this.getCurrentWindow().open(url,windowID,'resizable=yes');}};BrowserBot.prototype.setIFrameLocation=function(iframe,location){iframe.src=location;};BrowserBot.prototype.getCurrentPage=function(){return this;};BrowserBot.prototype.windowNeedsModifying=function(win,uniqueId){// On anything but Firefox, checking the unique id is enough.\n// Firefox 4 introduces a race condition which selenium regularly loses.\ntry{// eslint-disable-next-line no-undef\nlet appInfo=Components.classes['@mozilla.org/xre/app-info;1'].getService(// eslint-disable-next-line no-undef\nComponents.interfaces.nsIXULAppInfo);// eslint-disable-next-line no-undef\nlet versionChecker=Components.classes['@mozilla.org/xpcom/version-comparator;1'// eslint-disable-next-line no-undef\n].getService(Components.interfaces.nsIVersionComparator);if(versionChecker.compare(appInfo.version,'4.0b1')>=0){return win.alert.toString().indexOf('native code')!=-1;}}catch(ignored){}// eslint-disable-line no-empty\nreturn!win[uniqueId];};BrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(originalWindow,browserBot){let self=this;// Apparently, Firefox 4 makes it possible to unwrap an object to find that\n// there's nothing in it.\nlet windowToModify=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(originalWindow);if(!windowToModify){windowToModify=originalWindow;}windowToModify.seleniumAlert=windowToModify.alert;if(!self.windowNeedsModifying(windowToModify,browserBot.uniqueId)){return;}windowToModify.alert=function(alert){browserBot.recordedAlerts.push(alert);self.relayBotToRC.call(self,'browserbot.recordedAlerts');};windowToModify.confirm=function(message){browserBot.recordedConfirmations.push(message);let result=browserBot.nextConfirmResult;browserBot.nextConfirmResult=true;self.relayBotToRC.call(self,'browserbot.recordedConfirmations');return result;};windowToModify.prompt=function(message){browserBot.recordedPrompts.push(message);let result=!browserBot.nextConfirmResult?null:browserBot.nextPromptResult;browserBot.nextConfirmResult=true;browserBot.nextPromptResult='';self.relayBotToRC.call(self,'browserbot.recordedPrompts');return result;};// Keep a reference to all popup windows by name\n// note that in IE the \"windowName\" argument must be a valid javascript identifier, it seems.\nlet originalOpen=windowToModify.open;let originalOpenReference;if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();windowToModify[originalOpenReference]=windowToModify.open;}let isHTA=browserVersion.isHTA;let newOpen=function(url,windowName,windowFeatures,replaceFlag){let myOriginalOpen=originalOpen;if(isHTA){myOriginalOpen=this[originalOpenReference];}//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nif(windowName==''||windowName=='_blank'||typeof windowName==='undefined'){windowName='win_ser_'+self.count;self.count+=1;}let openedWindow=myOriginalOpen(url,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.openedWindows[windowName]=openedWindow;return openedWindow;};if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();const newOpenReference='selenium_newOpen'+new Date().getTime();let setOriginalRef=\"this['\"+originalOpenReference+\"'] = this.open;\";if(windowToModify.eval){windowToModify.eval(setOriginalRef);windowToModify.open=newOpen;}else{// DGF why can't I eval here?  Seems like I'm querying the window at a bad time, maybe?\nsetOriginalRef+=\"this.open = this['\"+newOpenReference+\"'];\";windowToModify[newOpenReference]=newOpen;windowToModify.setTimeout(setOriginalRef,0);}}else{windowToModify.open=newOpen;}};/**\r\n * Call the supplied function when a the current page unloads and a new one loads.\r\n * This is done by polling continuously until the document changes and is fully loaded.\r\n */BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){// Since the unload event doesn't fire in Safari 1.3, we start polling immediately\nif(!windowObject){//LOG.warn(\"modifySeparateTestWindowToDetectPageLoads: no windowObject!\");\nreturn;}if(this._windowClosed(windowObject)){//LOG.info(\"modifySeparateTestWindowToDetectPageLoads: windowObject was closed\");\nreturn;}let oldMarker=this.isPollingForLoad(windowObject);if(oldMarker){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: already polling this window: \" + oldMarker);\nreturn;}let marker='selenium'+new Date().getTime();//LOG.debug(\"Starting pollForLoad (\" + marker + \"): \" + windowObject.location);\nthis.pollingForLoad[marker]=true;// if this is a frame, add a load listener, otherwise, attach a poller\nlet frameElement=this._getFrameElement(windowObject);// DGF HTA mode can't attach load listeners to subframes (yuk!)\nlet htaSubFrame=this._isHTASubFrame(windowObject);if(frameElement&&!htaSubFrame){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: this window is a frame; attaching a load listener\");\n//addLoadListener(frameElement, this.recordPageLoad); TODO: check if this is necessary\nframeElement[marker]=true;frameElement['frame'+this.uniqueId]=marker;//LOG.debug(\"dgf this.uniqueId=\"+this.uniqueId);\n//LOG.debug(\"dgf marker=\"+marker);\n//LOG.debug(\"dgf frameElement['frame'+this.uniqueId]=\"+frameElement['frame'+this.uniqueId]);\nframeElement[this.uniqueId]=marker;//LOG.debug(\"dgf frameElement[this.uniqueId]=\"+frameElement[this.uniqueId]);\n}else{windowObject.location[marker]=true;windowObject[this.uniqueId]=marker;this.pollForLoad(this.recordPageLoad,windowObject,windowObject.document,windowObject.location,windowObject.location.href,marker);}};BrowserBot.prototype._isHTASubFrame=function(){if(!browserVersion.isHTA)return false;// DGF this is wrong! what if \"win\" isn't the selected window?\nreturn this.isSubFrameSelected;};BrowserBot.prototype._getFrameElement=function(win){let frameElement=null;let caught;try{frameElement=win.frameElement;}catch(e){caught=true;}if(caught){// on IE, checking frameElement in a pop-up results in a \"No such interface supported\" exception\n// but it might have a frame element anyway!\nlet parentContainsIdenticallyNamedFrame=false;try{parentContainsIdenticallyNamedFrame=win.parent.frames[win.name];}catch(e){}// eslint-disable-line no-empty\n// this may fail if access is denied to the parent; in that case, assume it's not a pop-up\nif(parentContainsIdenticallyNamedFrame){// it can't be a coincidence that the parent has a frame with the same name as myself!\nlet result;try{result=parentContainsIdenticallyNamedFrame.frameElement;if(result){return result;}}catch(e){}// eslint-disable-line no-empty\n// it was worth a try! _getFrameElementsByName is often slow\nresult=this._getFrameElementByName(win.name,win.parent.document,win);return result;}}//LOG.debug(\"_getFrameElement: frameElement=\"+frameElement);\nif(frameElement){//LOG.debug(\"frameElement.name=\"+frameElement.name);\n}return frameElement;};BrowserBot.prototype._getFrameElementByName=function(name,doc,win){let frames;let frame;let i;frames=doc.getElementsByTagName('iframe');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}frames=doc.getElementsByTagName('frame');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}// DGF weird; we only call this function when we know the doc contains the frame\n//LOG.warn(\"_getFrameElementByName couldn't find a frame or iframe; checking every element for the name \" + name);\nreturn BrowserBot.prototype.locateElementByName(win.name,win.parent.document);};/**\r\n * Set up a polling timer that will keep checking the readyState of the document until it's complete.\r\n * Since we might call this before the original page is unloaded, we first check to see that the current location\r\n * or href is different from the original one.\r\n */BrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"pollForLoad original (\" + marker + \"): \" + originalHref);\ntry{//Samit: Fix: open command sometimes fails if current url is chrome and new is not\nwindowObject=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(windowObject);if(this._windowClosed(windowObject)){//LOG.debug(\"pollForLoad WINDOW CLOSED (\" + marker + \")\");\ndelete this.pollingForLoad[marker];return;}let isSamePage=this._isSamePage(windowObject,originalDocument,originalLocation,originalHref,marker);let rs=this.getReadyState(windowObject,windowObject.document);if(!isSamePage&&rs=='complete'){let currentHref=windowObject.location.href;//LOG.debug(\"pollForLoad FINISHED (\" + marker + \"): \" + rs + \" (\" + currentHref + \")\");\ndelete this.pollingForLoad[marker];this._modifyWindow(windowObject);let newMarker=this.isPollingForLoad(windowObject);if(!newMarker){//LOG.debug(\"modifyWindow didn't start new poller: \" + newMarker);\nthis.modifySeparateTestWindowToDetectPageLoads(windowObject);}newMarker=this.isPollingForLoad(windowObject);let currentlySelectedWindow;let currentlySelectedWindowMarker;currentlySelectedWindow=this.getCurrentWindow(true);currentlySelectedWindowMarker=currentlySelectedWindow[this.uniqueId];//LOG.debug(\"pollForLoad (\" + marker + \") restarting \" + newMarker);\nif(/(TestRunner-splash|Blank)\\.html\\?start=true$/.test(currentHref)){//LOG.debug(\"pollForLoad Oh, it's just the starting page.  Never mind!\");\n}else if(currentlySelectedWindowMarker==newMarker){loadFunction(currentlySelectedWindow);}else{//LOG.debug(\"pollForLoad page load detected in non-current window; ignoring (currentlySelected=\"+currentlySelectedWindowMarker+\", detection in \"+newMarker+\")\");\n}return;}//LOG.debug(\"pollForLoad continue (\" + marker + \"): \" + currentHref);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);}catch(e){//LOG.debug(\"Exception during pollForLoad; this should get noticed soon (\" + e.message + \")!\");\n//DGF this is supposed to get logged later; log it at debug just in case\n////LOG.exception(e);\nthis.pageLoadError=e;}};BrowserBot.prototype._isSamePage=function(windowObject,originalDocument,originalLocation,originalHref,marker){let currentDocument=windowObject.document;let currentLocation=windowObject.location;let currentHref=currentLocation.href;let sameDoc=this._isSameDocument(originalDocument,currentDocument);let sameLoc=originalLocation===currentLocation;// hash marks don't meant the page has loaded, so we need to strip them off if they exist...\nlet currentHash=currentHref.indexOf('#');if(currentHash>0){currentHref=currentHref.substring(0,currentHash);}let originalHash=originalHref.indexOf('#');if(originalHash>0){originalHref=originalHref.substring(0,originalHash);}//LOG.debug(\"_isSamePage: currentHref: \" + currentHref);\n//LOG.debug(\"_isSamePage: originalHref: \" + originalHref);\nlet sameHref=originalHref===currentHref;let markedLoc=currentLocation[marker];if(browserVersion.isKonqueror||browserVersion.isSafari){// the mark disappears too early on these browsers\nmarkedLoc=true;}// since this is some _very_ important logic, especially for PI and multiWindow mode, we should log all these out\n//LOG.debug(\"_isSamePage: sameDoc: \" + sameDoc);\n//LOG.debug(\"_isSamePage: sameLoc: \" + sameLoc);\n//LOG.debug(\"_isSamePage: sameHref: \" + sameHref);\n//LOG.debug(\"_isSamePage: markedLoc: \" + markedLoc);\nreturn sameDoc&&sameLoc&&sameHref&&markedLoc;};BrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){return originalDocument===currentDocument;};BrowserBot.prototype.getReadyState=function(windowObject,currentDocument){let rs=currentDocument.readyState;if(rs==null){if(this.buttonWindow!=null&&this.buttonWindow.document.readyState==null||// not proxy injection mode (and therefore buttonWindow isn't null)\ntop.document.readyState==null){// proxy injection mode (and therefore everything's in the top window, but buttonWindow doesn't exist)\n// uh oh!  we're probably on Firefox with no readyState extension installed!\n// We'll have to just take a guess as to when the document is loaded; this guess\n// will never be perfect. :-(\nif(typeof currentDocument.getElementsByTagName!='undefined'&&typeof currentDocument.getElementById!='undefined'&&(currentDocument.getElementsByTagName('body')[0]!=null||currentDocument.body!=null)){if(windowObject.frameElement&&windowObject.location.href=='about:blank'&&windowObject.frameElement.src!='about:blank'){//LOG.info(\"getReadyState not loaded, frame location was about:blank, but frame src = \" + windowObject.frameElement.src);\nreturn null;}//LOG.debug(\"getReadyState = windowObject.frames.length = \" + windowObject.frames.length);\nfor(let i=0;i<windowObject.frames.length;i++){//LOG.debug(\"i = \" + i);\nif(this.getReadyState(windowObject.frames[i],windowObject.frames[i].document)!='complete'){//LOG.debug(\"getReadyState aha! the nested frame \" + windowObject.frames[i].name + \" wasn't ready!\");\nreturn null;}}rs='complete';}else{//LOG.debug(\"pollForLoad readyState was null and DOM appeared to not be ready yet\");\n}}}else if(rs=='loading'&&browserVersion.isIE){//LOG.debug(\"pageUnloading = true!!!!\");\nthis.pageUnloading=true;}//LOG.debug(\"getReadyState returning \" + rs);\nreturn rs;};/** This function isn't used normally, but was the way we used to schedule pollers:\r\n asynchronously executed autonomous units.  This is deprecated, but remains here\r\n for future reference.\r\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let self=this;window.setTimeout(function(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);},500);};/** This function isn't used normally, but is useful for debugging asynchronous pollers\r\n * To enable it, rename it to \"reschedulePoller\", so it will override the\r\n * existing reschedulePoller function\r\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let doc=this.buttonWindow.document;let button=doc.createElement('button');let buttonName=doc.createTextNode(marker+' - '+windowObject.name);button.appendChild(buttonName);let tools=doc.getElementById('tools');let self=this;button.onclick=function(){tools.removeChild(button);self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};tools.appendChild(button);window.setTimeout(button.onclick,500);};BrowserBot.prototype.reschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let self=this;let pollerFunction=function(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};this.windowPollers.push(pollerFunction);};BrowserBot.prototype.runScheduledPollers=function(){//LOG.debug(\"runScheduledPollers\");\nlet oldPollers=this.windowPollers;this.windowPollers=new Array();for(let i=0;i<oldPollers.length;i++){oldPollers[i].call();}//LOG.debug(\"runScheduledPollers DONE\");\n};BrowserBot.prototype.isPollingForLoad=function(win){let marker;let frameElement=this._getFrameElement(win);let htaSubFrame=this._isHTASubFrame(win);if(frameElement&&!htaSubFrame){marker=frameElement['frame'+this.uniqueId];}else{marker=win[this.uniqueId];}if(!marker){//LOG.debug(\"isPollingForLoad false, missing uniqueId \" + this.uniqueId + \": \" + marker);\nreturn false;}if(!this.pollingForLoad[marker]){//LOG.debug(\"isPollingForLoad false, this.pollingForLoad[\" + marker + \"]: \" + this.pollingForLoad[marker]);\nreturn false;}return marker;};BrowserBot.prototype.getWindowByName=function(windowName,doNotModify){//LOG.debug(\"getWindowByName(\" + windowName + \")\");\n// First look in the map of opened windows\nlet targetWindow=this.openedWindows[windowName];if(!targetWindow){targetWindow=this.topWindow[windowName];}if(!targetWindow&&windowName=='_blank'){for(let winName in this.openedWindows){// _blank can match selenium_blank*, if it looks like it's OK (valid href, not closed)\nif(/^selenium_blank/.test(winName)){targetWindow=this.openedWindows[winName];let ok;try{if(!this._windowClosed(targetWindow)){ok=targetWindow.location.href;}}catch(e){}// eslint-disable-line no-empty\nif(ok)break;}}}if(!targetWindow){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window does not exist. If this looks like a Selenium bug, make sure to read http://seleniumhq.org/docs/02_selenium_ide.html#alerts-popups-and-multiple-windows for potential workarounds.');}if(browserVersion.isHTA){try{targetWindow.location.href;}catch(e){targetWindow=window.open('',targetWindow.name);this.openedWindows[targetWindow.name]=targetWindow;}}if(!doNotModify){this._modifyWindow(targetWindow);}return targetWindow;};/**\r\n * Find a window name from the window title.\r\n */BrowserBot.prototype.getWindowNameByTitle=function(windowTitle){//LOG.debug(\"getWindowNameByTitle(\" + windowTitle + \")\");\n// First look in the map of opened windows and iterate them\nfor(let windowName in this.openedWindows){let targetWindow=this.openedWindows[windowName];// If the target window's title is our title\ntry{// TODO implement Pattern Matching here\nif(!this._windowClosed(targetWindow)&&targetWindow.document.title==windowTitle){return windowName;}}catch(e){// You'll often get Permission Denied errors here in IE\n// eh, if we can't read this window's title,\n// it's probably not available to us right now anyway\n}}try{if(this.topWindow.document.title==windowTitle){return'';}}catch(e){}// eslint-disable-line no-empty\n// IE Perm denied\nthrow new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Could not find window with title '+windowTitle);};BrowserBot.prototype.getNonTopWindowNames=function(){let nonTopWindowNames=[];for(let windowName in this.openedWindows){let win=this.openedWindows[windowName];if(!this._windowClosed(win)&&win!=this.topWindow){nonTopWindowNames.push(windowName);}}return nonTopWindowNames;};BrowserBot.prototype.getCurrentWindow=function(doNotModify){if(this.proxyInjectionMode){return window;}let testWindow=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(this.currentWindow);if(!doNotModify){this._modifyWindow(testWindow);//LOG.debug(\"getCurrentWindow newPageLoaded = false\");\nthis.newPageLoaded=false;}testWindow=this._handleClosedSubFrame(testWindow,doNotModify);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].window_=testWindow;return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(testWindow);};/**\r\n * Offer a method the end-user can reliably use to retrieve the current window.\r\n * This should work even for windows with an XPCNativeWrapper. Returns the\r\n * current window object.\r\n */BrowserBot.prototype.getUserWindow=function(){let userWindow=this.getCurrentWindow(true);return userWindow;};BrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}if(this.isSubFrameSelected){let missing=true;if(testWindow.parent&&testWindow.parent.frames&&testWindow.parent.frames.length){for(let i=0;i<testWindow.parent.frames.length;i++){let frame=testWindow.parent.frames[i];if(frame==testWindow||frame.seleniumKey==testWindow.seleniumKey){missing=false;break;}}}if(missing){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}}else if(this._windowClosed(testWindow)){//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/25\n/*var closedError = new SeleniumError(\"Current window or frame is closed!\");\r\n        closedError.windowClosed = true;\r\n        throw closedError;*/testWindow=this.topWindow;//select live object\n}return testWindow;};BrowserBot.prototype.setShouldHighlightElement=function(shouldHighlight){this.shouldHighlightLocatedElement=shouldHighlight;};/*****************************************************************/ /* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */BrowserBot.prototype._registerAllLocatorFunctions=function(){// TODO - don't do this in the constructor - only needed once ever\nthis.locationStrategies={};for(let functionName in this){let result=/^locateElementBy([A-Z].+)$/.exec(functionName);if(result!=null){let locatorFunction=this[functionName];if(typeof locatorFunction!='function'){continue;}// Use a specified prefix in preference to one generated from\n// the function name\nlet locatorPrefix=locatorFunction.prefix||result[1].toLowerCase();this.locationStrategies[locatorPrefix]=locatorFunction;}}/**\r\n   * Find a locator based on a prefix.\r\n   */this.findElementBy=function(locatorType,locator,inDocument,inWindow){let locatorFunction=this.locationStrategies[locatorType];if(!locatorFunction){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Unrecognised locator type: '\"+locatorType+\"'\");}return locatorFunction.call(this,locator,inDocument,inWindow);};/**\r\n   * The implicit locator, that is used when no prefix is supplied.\r\n   */this.locationStrategies['implicit']=function(locator,inDocument,inWindow){if(locator.startsWith('//')){return this.locateElementByXPath(locator,inDocument,inWindow);}if(locator.startsWith('document.')){return this.locateElementByDomTraversal(locator,inDocument,inWindow);}return this.locateElementByIdentifier(locator,inDocument,inWindow);};};BrowserBot.prototype.getDocument=function(){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(this.getCurrentWindow().document);};BrowserBot.prototype.getTitle=function(){let t=this.getDocument().title;if(typeof t=='string'){t=t.trim();}return t;};BrowserBot.prototype.getCookieByName=function(cookieName,doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return null;let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=decodeURIComponent(ckNameValue[0]);if(ckName===cookieName){return decodeURIComponent(ckNameValue.slice(1).join('='));}}return null;};BrowserBot.prototype.getAllCookieNames=function(doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return[];let cookieNames=[];let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=decodeURIComponent(ckNameValue[0]);cookieNames.push(ckName);}return cookieNames;};BrowserBot.prototype.getAllRawCookieNames=function(doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return[];let cookieNames=[];let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=ckNameValue[0];cookieNames.push(ckName);}return cookieNames;};function encodeURIComponentWithASPHack(uri){let regularEncoding=encodeURIComponent(uri);let aggressiveEncoding=regularEncoding.replace('.','%2E');aggressiveEncoding=aggressiveEncoding.replace('_','%5F');return aggressiveEncoding;}BrowserBot.prototype.deleteCookie=function(cookieName,domain,path,doc){if(!doc)doc=this.getDocument();let expireDateInMilliseconds=new Date().getTime()+-1*1000;// we can't really be sure if we're dealing with encoded or unencoded cookie names\nlet _cookieName;let rawCookieNames=this.getAllRawCookieNames(doc);for(let rawCookieNumber in rawCookieNames){if(rawCookieNames[rawCookieNumber]==cookieName){_cookieName=cookieName;break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponent(cookieName)){_cookieName=encodeURIComponent(cookieName);break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponentWithASPHack(cookieName)){_cookieName=encodeURIComponentWithASPHack(cookieName);break;}}let cookie=_cookieName+'=deleted; ';if(path){cookie+='path='+path+'; ';}if(domain){cookie+='domain='+domain+'; ';}cookie+='expires='+new Date(expireDateInMilliseconds).toGMTString();//LOG.debug(\"Setting cookie to: \" + cookie);\ndoc.cookie=cookie;};/** Try to delete cookie, return false if it didn't work */BrowserBot.prototype._maybeDeleteCookie=function(cookieName,domain,path,doc){this.deleteCookie(cookieName,domain,path,doc);return!this.getCookieByName(cookieName,doc);};BrowserBot.prototype._recursivelyDeleteCookieDomains=function(cookieName,domain,path,doc){let deleted=this._maybeDeleteCookie(cookieName,domain,path,doc);if(deleted)return true;let dotIndex=domain.indexOf('.');if(dotIndex==0){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(1),path,doc);}else if(dotIndex!=-1){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(dotIndex),path,doc);}else{// No more dots; try just not passing in a domain at all\nreturn this._maybeDeleteCookie(cookieName,null,path,doc);}};BrowserBot.prototype._recursivelyDeleteCookie=function(cookieName,domain,path,doc){let slashIndex=path.lastIndexOf('/');let finalIndex=path.length-1;if(slashIndex==finalIndex){slashIndex--;}if(slashIndex!=-1){const deleted=this._recursivelyDeleteCookie(cookieName,domain,path.substring(0,slashIndex+1),doc);if(deleted)return true;}return this._recursivelyDeleteCookieDomains(cookieName,domain,path,doc);};BrowserBot.prototype.recursivelyDeleteCookie=function(cookieName,domain,path,win){if(!win)win=this.getCurrentWindow();let doc=win.document;if(!domain){domain=doc.domain;}if(!path){path=win.location.pathname;}let deleted=this._recursivelyDeleteCookie(cookieName,'.'+domain,path,doc);if(deleted)return;// Finally try a null path (Try it last because it's uncommon)\ndeleted=this._recursivelyDeleteCookieDomains(cookieName,'.'+domain,null,doc);if(deleted)return;throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Couldn't delete cookie \"+cookieName);};/*\r\n * Finds an element on the current page, using various lookup protocols\r\n */BrowserBot.prototype.findElementOrNull=function(locator,win){locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(locator);if(win==null){win=this.getCurrentWindow();}let element=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElement({[locator.type]:locator.string},win.document);element=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(element);// Element was not found by any locator function.\nreturn element;};BrowserBot.prototype.findElement=function(locator,win){let element=this.findElementOrNull(locator,win);if(element==null)throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Element '+locator+' not found');return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(element);};/**\r\n * Finds a list of elements using the same mechanism as webdriver.\r\n *\r\n * @param {string} how The finding mechanism to use.\r\n * @param {string} using The selector to use.\r\n * @param {Document|Element} root The root of the search path.\r\n */BrowserBot.prototype.findElementsLikeWebDriver=function(how,using,root){let by={};by[how]=using;let all=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements(by,root);let toReturn='';for(let i=0;i<all.length-1;i++){toReturn+=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].inject.cache.addElement(__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(all[i]))+',';}if(all[all.length-1]){toReturn+=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].inject.cache.addElement(__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(all[all.length-1]));}return toReturn;};/**\r\n * In non-IE browsers, getElementById() does not search by name.  Instead, we\r\n * we search separately by id and name.\r\n */BrowserBot.prototype.locateElementByIdentifier=function(identifier,inDocument,inWindow){// HBC - use \"this\" instead of \"BrowserBot.prototype\"; otherwise we lose\n// the non-prototype fields of the object!\nreturn this.locateElementById(identifier,inDocument,inWindow)||BrowserBot.prototype.locateElementByName(identifier,inDocument,inWindow)||null;};/**\r\n * Find the element with id - can't rely on getElementById, coz it returns by name as well in IE..\r\n */BrowserBot.prototype.locateElementById=function(identifier,inDocument){let element=inDocument.getElementById(identifier);if(element&&element.getAttribute('id')===identifier){return element;}else if(browserVersion.isIE||browserVersion.isOpera){// SEL-484\nlet elements=inDocument.getElementsByTagName('*');for(let i=0,n=elements.length;i<n;++i){element=elements[i];if(element.tagName.toLowerCase()=='form'){if(element.attributes['id'].nodeValue==identifier){return element;}}else if(element.getAttribute('id')==identifier){return element;}}return null;}else{return null;}};/**\r\n * Find an element by name, refined by (optional) element-filter\r\n * expressions.\r\n */BrowserBot.prototype.locateElementByName=function(locator,document){let elements=document.getElementsByTagName('*');//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/23\n/*\r\n        var filters = locator.split(' ');\r\n        filters[0] = 'name=' + filters[0];\r\n\r\n        while (filters.length) {\r\n            var filter = filters.shift();\r\n            elements = this.selectElements(filter, elements, 'value');\r\n        }\r\n        */let filter='name='+locator;elements=this.selectElements(filter,elements,'value');if(elements.length>0){return elements[0];}return null;};/**\r\n * Finds an element using by evaluating the specfied string.\r\n */BrowserBot.prototype.locateElementByDomTraversal=function(domTraversal){let element=null;//Evalinsandbox\n// eslint-disable-next-line no-undef\nlet mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.domTraversal=domTraversal;try{// eslint-disable-next-line no-undef\nelement=Components.utils.evalInSandbox(domTraversal,mySandbox);//element = eval(domTraversal);\n}catch(e){return null;}if(!element){return null;}return element;};BrowserBot.prototype.locateElementByDomTraversal.prefix='dom';BrowserBot.prototype.locateElementByStoredReference=function(locator){try{return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].locators.findElement('stored='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByStoredReference.prefix='stored';BrowserBot.prototype.locateElementByWebDriver=function(locator){try{return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].locators.findElement('webdriver='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByWebDriver.prefix='webdriver';/**\r\n * Finds an element identified by the xpath expression. Expressions _must_\r\n * begin with \"//\".\r\n */BrowserBot.prototype.locateElementByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectSingleNode(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};/**\r\n * Find many elements using xpath.\r\n *\r\n * @param {string} xpath XPath expression to search for.\r\n * @param {=Document} inDocument The document to search in.\r\n * @param {=Window} inWindow The window the document is in.\r\n */BrowserBot.prototype.locateElementsByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectNodes(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};BrowserBot.prototype._namespaceResolver=function(prefix){if(prefix=='html'||prefix=='xhtml'||prefix=='x'){return'http://www.w3.org/1999/xhtml';}else if(prefix=='mathml'){return'http://www.w3.org/1998/Math/MathML';}else if(prefix=='svg'){return'http://www.w3.org/2000/svg';}else{throw new Error('Unknown namespace: '+prefix+'.');}};/**\r\n * Returns the number of xpath results.\r\n */BrowserBot.prototype.evaluateXPathCount=function(selector,inDocument){let locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(selector);if(locator.type=='xpath'||locator.type=='implicit'){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({xpath:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use XPath strategy: \" + selector);\nreturn 0;}};/**\r\n * Returns the number of css results.\r\n */BrowserBot.prototype.evaluateCssCount=function(selector,inDocument){let locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(selector);if(locator.type=='css'||locator.type=='implicit'){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({css:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use CSS strategy: \" + selector);\nreturn 0;}};/**\r\n * Finds a link element with text matching the expression supplied. Expressions must\r\n * begin with \"link:\".\r\n */BrowserBot.prototype.locateElementByLinkText=function(linkText,inDocument){let links=inDocument.getElementsByTagName('a');for(let i=0;i<links.length;i++){let element=links[i];if(__WEBPACK_IMPORTED_MODULE_5__PatternMatcher__[\"a\" /* default */].matches(linkText,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element))){return element;}}return null;};BrowserBot.prototype.locateElementByLinkText.prefix='link';/**\r\n * Returns an attribute based on an attribute locator. This is made up of an element locator\r\n * suffixed with @attribute-name.\r\n */BrowserBot.prototype.findAttribute=function(locator){// Split into locator + attributeName\nlet attributePos=locator.lastIndexOf('@');let elementLocator=locator.slice(0,attributePos);let attributeName=locator.slice(attributePos+1);// Find the element.\nlet element=this.findElement(elementLocator);let attributeValue=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getAttribute(element,attributeName);return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].isDefAndNotNull(attributeValue)?attributeValue.toString():null;};/*\r\n * Select the specified option and trigger the relevant events of the element.\r\n */BrowserBot.prototype.selectOption=function(element,optionToSelect){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let changed=false;for(let i=0;i<element.options.length;i++){let option=element.options[i];if(option.selected&&option!=optionToSelect){option.selected=false;changed=true;}else if(!option.selected&&option==optionToSelect){option.selected=true;changed=true;}}if(changed){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};/*\r\n * Select the specified option and trigger the relevant events of the element.\r\n */BrowserBot.prototype.addSelection=function(element,option){this.checkMultiselect(element);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);if(!option.selected){option.selected=true;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};/*\r\n * Select the specified option and trigger the relevant events of the element.\r\n */BrowserBot.prototype.removeSelection=function(element,option){this.checkMultiselect(element);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);if(option.selected){option.selected=false;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};BrowserBot.prototype.checkMultiselect=function(element){if(!element.multiple){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not a multi-select');}};BrowserBot.prototype.replaceText=function(element,stringValue){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.SELECT);let maxLengthAttr=element.getAttribute('maxLength');let actualValue=stringValue;if(maxLengthAttr!=null){let maxLength=parseInt(maxLengthAttr);if(stringValue.length>maxLength){actualValue=stringValue.substr(0,maxLength);}}if(Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"c\" /* getTagName */])(element)=='body'){if(element.ownerDocument&&element.ownerDocument.designMode){let designMode=new String(element.ownerDocument.designMode).toLowerCase();if(designMode=='on'){// this must be a rich text control!\nelement.innerHTML=actualValue;}}}else{element.value=actualValue;}// DGF this used to be skipped in chrome URLs, but no longer.  Is xpcnativewrappers to blame?\ntry{__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}catch(e){}// eslint-disable-line no-empty\n};BrowserBot.prototype.clickElement=function(element,clientX,clientY){this._fireEventOnElement('click',element,clientX,clientY);};BrowserBot.prototype.doubleClickElement=function(element,clientX,clientY){this._fireEventOnElement('dblclick',element,clientX,clientY);};// The contextmenu event is fired when the user right-clicks to open the context menu\nBrowserBot.prototype.contextMenuOnElement=function(element,clientX,clientY){this._fireEventOnElement('contextmenu',element,clientX,clientY);};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\n//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype._modifyElementTarget=function(e){let element=this.findClickableElement(e)||e;if(element.target){if(element.target=='_blank'||/^selenium_blank/.test(element.target)){let tagName=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"c\" /* getTagName */])(element);if(tagName=='a'||tagName=='form'){const newTarget='win_ser_'+this.count;this.count+=1;this.browserbot.openWindow('',newTarget);element.target=newTarget;}}else{const newTarget=element.target;this.browserbot.openWindow('',newTarget);element.target=newTarget;}}};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype.findClickableElement=function(e){if(!e.tagName)return null;let tagName=e.tagName.toLowerCase();let type=e.type;if(e.hasAttribute('onclick')||e.hasAttribute('href')||e.hasAttribute('url')||tagName=='button'||tagName=='input'&&(type=='submit'||type=='button'||type=='image'||type=='radio'||type=='checkbox'||type=='reset')){return e;}else{if(e.parentNode!=null){return this.findClickableElement(e.parentNode);}else{return null;}}};BrowserBot.prototype._handleClickingImagesInsideLinks=function(targetWindow,element){let itrElement=element;while(itrElement!=null){if(itrElement.href){targetWindow.location.href=itrElement.href;break;}itrElement=itrElement.parentNode;}};BrowserBot.prototype._getTargetWindow=function(element){let targetWindow=element.ownerDocument.defaultView;if(element.target){targetWindow=this._getFrameFromGlobal(element.target);}return targetWindow;};BrowserBot.prototype._getFrameFromGlobal=function(target){if(target=='_self'){return this.getCurrentWindow();}if(target=='_top'){return this.topFrame;}else if(target=='_parent'){return this.getCurrentWindow().parent;}else if(target=='_blank'){// TODO should this set cleverer window defaults?\nreturn this.getCurrentWindow().open('','_blank');}let frameElement=this.findElementBy('implicit',target,this.topFrame.document,this.topFrame);if(frameElement){return frameElement.contentWindow;}let win=this.getWindowByName(target);if(win)return win;return this.getCurrentWindow().open('',target);};BrowserBot.prototype.bodyText=function(){if(!this.getDocument().body){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Couldn't access document.body.  Is this HTML page fully loaded?\");}return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(this.getDocument().body);};BrowserBot.prototype.getAllButtons=function(){let elements=this.getDocument().getElementsByTagName('input');let result=[];for(let i=0;i<elements.length;i++){if(elements[i].type=='button'||elements[i].type=='submit'||elements[i].type=='reset'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllFields=function(){let elements=this.getDocument().getElementsByTagName('input');let result=[];for(let i=0;i<elements.length;i++){if(elements[i].type=='text'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllLinks=function(){let elements=this.getDocument().getElementsByTagName('a');let result=[];for(let i=0;i<elements.length;i++){result.push(elements[i].id);}return result;};function isDefined(value){return typeof value!=undefined;}BrowserBot.prototype.goBack=function(){this.getCurrentWindow().history.back();};BrowserBot.prototype.goForward=function(){this.getCurrentWindow().history.forward();};BrowserBot.prototype.close=function(){if(browserVersion.isIE){// fix \"do you want to close this window\" warning in IE\n// You can only close windows that you have opened.\n// So, let's \"open\" it.\ntry{this.topFrame.name=new Date().getTime();window.open('',this.topFrame.name,'');this.topFrame.close();return;}catch(e){}// eslint-disable-line no-empty\n}if(browserVersion.isChrome||browserVersion.isSafari||browserVersion.isOpera){this.topFrame.close();}else{this.getCurrentWindow().eval('window.top.close();');}};BrowserBot.prototype.refresh=function(){this.getCurrentWindow().location.reload(true);};/**\r\n * Refine a list of elements using a filter.\r\n */BrowserBot.prototype.selectElementsBy=function(filterType,filter,elements){let filterFunction=BrowserBot.filterFunctions[filterType];if(!filterFunction){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Unrecognised element-filter type: '\"+filterType+\"'\");}return filterFunction(filter,elements);};BrowserBot.filterFunctions={};BrowserBot.filterFunctions.name=function(name,elements){let selectedElements=[];for(let i=0;i<elements.length;i++){if(elements[i].name===name){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.value=function(value,elements){let selectedElements=[];for(let i=0;i<elements.length;i++){if(elements[i].value===value){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.index=function(index,elements){index=Number(index);if(isNaN(index)||index<0){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Illegal Index: '+index);}if(elements.length<=index){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Index out of range: '+index);}return[elements[index]];};BrowserBot.prototype.selectElements=function(filterExpr,elements,defaultFilterType){let filterType=defaultFilterType||'value';// If there is a filter prefix, use the specified strategy\nlet result=filterExpr.match(/^([A-Za-z]+)=(.+)/);if(result){filterType=result[1].toLowerCase();filterExpr=result[2];}return this.selectElementsBy(filterType,filterExpr,elements);};/**\r\n * Find an element by css selector\r\n */BrowserBot.prototype.locateElementByCss=function(locator,document){let elements=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({css:locator},document);if(elements.length!=0)return elements[0];return null;};/* prompt */BrowserBot.prototype.cancelNextPrompt=function(){return this.setNextPromptResult(null);};BrowserBot.prototype.setNextPromptResult=function(result){this.promptResponse=false;let self=this;window.postMessage({direction:'from-content-script',command:'setNextPromptResult',target:result},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.promptResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getPromptMessage=function(){this.promptResponse=false;this.promptMessage=null;let self=this;window.postMessage({direction:'from-content-script',command:'getPromptMessage'},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.promptMessage);self.promptResponse=false;self.promptMessage=null;clearInterval(interval);}},500);});return response;};// confirm\nBrowserBot.prototype.setNextConfirmationResult=function(result){this.confirmationResponse=false;let self=this;window.postMessage({direction:'from-content-script',command:'setNextConfirmationResult',target:result},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.confirmationResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getConfirmationMessage=function(){this.confirmationResponse=false;this.confirmationMessage=null;let self=this;window.postMessage({direction:'from-content-script',command:'getConfirmationMessage'},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.confirmationMessage);self.confirmationResponse=false;self.confirmationMessage=null;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getAlertMessage=function(){let self=this;let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.alertResponse){count++;if(count>60){reject('No response!!!!');clearInterval(interval);}}else{resolve(self.alertMessage);self.alertResponse=false;self.alertMessage=null;clearInterval(interval);}},500);});return response;};/*****************************************************************/ /* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */class MozillaBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export MozillaBrowserBot */\nclass KonquerorBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export KonquerorBrowserBot */\nKonquerorBrowserBot.prototype.setIFrameLocation=function(iframe,location){// Window doesn't fire onload event when setting src to the current value,\n// so we set it to blank first.\niframe.src='about:blank';iframe.src=location;};KonquerorBrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){// under Konqueror, there may be this case:\n// originalDocument and currentDocument are different objects\n// while their location are same.\nif(originalDocument){return originalDocument.location==currentDocument.location;}else{return originalDocument===currentDocument;}};class SafariBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export SafariBrowserBot */\nSafariBrowserBot.prototype.setIFrameLocation=KonquerorBrowserBot.prototype.setIFrameLocation;class OperaBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export OperaBrowserBot */\nOperaBrowserBot.prototype.setIFrameLocation=function(iframe,location){if(iframe.src==location){iframe.src=location+'?reload';}else{iframe.src=location;}};class IEBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export IEBrowserBot */\nIEBrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}try{testWindow.location.href;this.permDenied=0;}catch(e){this.permDenied++;}if(this._windowClosed(testWindow)||this.permDenied>4){if(this.isSubFrameSelected){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}else{let closedError=new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Current window or frame is closed!');closedError.windowClosed=true;throw closedError;}}return testWindow;};IEBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);// we will call the previous version of this method from within our own interception\nlet oldShowModalDialog=windowToModify.showModalDialog;windowToModify.showModalDialog=function(url,args,features){// Get relative directory to where TestRunner.html lives\n// A risky assumption is that the user's TestRunner is named TestRunner.html\nlet doc_location=document.location.toString();let end_of_base_ref=doc_location.indexOf('TestRunner.html');let base_ref=doc_location.substring(0,end_of_base_ref);let runInterval='';// Only set run interval if options is defined\nif(typeof window.runOptions!='undefined'){runInterval='&runInterval='+runOptions.runInterval;// eslint-disable-line no-undef\n}let testRunnerURL='TestRunner.html?auto=true&singletest='+escape(browserBot.modalDialogTest)+'&autoURL='+escape(url)+runInterval;let fullURL=base_ref+testRunnerURL;browserBot.modalDialogTest=null;// If using proxy injection mode\nif(this.proxyInjectionMode){fullURL=url;}let returnValue=oldShowModalDialog(fullURL,args,features);return returnValue;};};IEBrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){this.pageUnloading=false;let self=this;let pageUnloadDetector=function(){self.pageUnloading=true;};if(windowObject.addEventListener){windowObject.addEventListener('beforeunload',pageUnloadDetector,true);}else{windowObject.attachEvent('onbeforeunload',pageUnloadDetector);}BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads.call(this,windowObject);};IEBrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"IEBrowserBot.pollForLoad: \" + marker);\nif(!this.permDeniedCount[marker])this.permDeniedCount[marker]=0;BrowserBot.prototype.pollForLoad.call(this,loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);if(this.pageLoadError){if(this.pageUnloading){//LOG.debug(\"pollForLoad UNLOADING (\" + marker + \"): caught exception while firing events on unloading page: \" + this.pageLoadError.message);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}else if((this.pageLoadError.message=='Permission denied'||/^Access is denied/.test(this.pageLoadError.message))&&this.permDeniedCount[marker]++<8){if(this.permDeniedCount[marker]>4){let canAccessThisWindow;let canAccessCurrentlySelectedWindow;try{windowObject.location.href;canAccessThisWindow=true;}catch(e){}// eslint-disable-line no-empty\ntry{this.getCurrentWindow(true).location.href;canAccessCurrentlySelectedWindow=true;}catch(e){}// eslint-disable-line no-empty\nif(canAccessCurrentlySelectedWindow&!canAccessThisWindow){//LOG.debug(\"pollForLoad (\" + marker + \") ABORTING: \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), but the currently selected window is fine\");\n// returning without rescheduling\nthis.pageLoadError=null;return;}}//LOG.debug(\"pollForLoad (\" + marker + \"): \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), waiting to see if it goes away\");\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}//handy for debugging!\n//throw this.pageLoadError;\n}};IEBrowserBot.prototype._windowClosed=function(win){try{let c=win.closed;// frame windows claim to be non-closed when their parents are closed\n// but you can't access their document objects in that case\nif(!c){try{win.document;}catch(de){if(de.message=='Permission denied'){// the window is probably unloading, which means it's probably not closed yet\nreturn false;}else if(/^Access is denied/.test(de.message)){// rare variation on \"Permission denied\"?\n//LOG.debug(\"IEBrowserBot.windowClosed: got \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \"); assuming window is unloading, probably not closed yet\");\nreturn false;}else{// this is probably one of those frame window situations\n//LOG.debug(\"IEBrowserBot.windowClosed: couldn't read win.document, assume closed: \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \")\");\nreturn true;}}}if(c==null){//LOG.debug(\"IEBrowserBot.windowClosed: win.closed was null, assuming closed\");\nreturn true;}return c;}catch(e){//LOG.debug(\"IEBrowserBot._windowClosed: Got an exception trying to read win.closed; we'll have to take a guess!\");\nif(browserVersion.isHTA){if(e.message=='Permission denied'){// the window is probably unloading, which means it's not closed yet\nreturn false;}else{// there's a good chance that we've lost contact with the window object if it is closed\nreturn true;}}else{// the window is probably unloading, which means it's not closed yet\nreturn false;}}};/**\r\n * In IE, getElementById() also searches by name - this is an optimisation for IE.\r\n */IEBrowserBot.prototype.locateElementByIdentifer=function(identifier,inDocument){return inDocument.getElementById(identifier);};SafariBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);let originalOpen=windowToModify.open;/*\r\n   * Safari seems to be broken, so that when we manually trigger the onclick method\r\n   * of a button/href, any window.open calls aren't resolved relative to the app location.\r\n   * So here we replace the open() method with one that does resolve the url correctly.\r\n   */windowToModify.open=function(url,windowName,windowFeatures,replaceFlag){if(url.startsWith('http://')||url.startsWith('https://')||url.startsWith('/')){return originalOpen(url,windowName,windowFeatures,replaceFlag);}// Reduce the current path to the directory\nlet currentPath=windowToModify.location.pathname||'/';currentPath=currentPath.replace(/\\/[^\\/]*$/,'/');// eslint-disable-line no-useless-escape\n// Remove any leading \"./\" from the new url.\nurl=url.replace(/^\\.\\//,'');const newUrl=currentPath+url;let openedWindow=originalOpen(newUrl,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}return openedWindow;};};MozillaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);// Add an event listener that detects if the default action has been prevented.\n// (This is caused by a javascript onclick handler returning false)\n// we capture the whole event, rather than the getPreventDefault() state at the time,\n// because we need to let the entire event bubbling and capturing to go through\n// before making a decision on whether we should force the href\nelement.addEventListener(eventType,function(){},false);//this._modifyElementTarget(element);\n// Trigger the event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}// Perform the link action if preventDefault was set.\n// In chrome URL, the link action is already executed by triggerMouseEvent.\n//if (!browserVersion.isChrome && savedEvent != null && savedEvent.getPreventDefault && !savedEvent.getPreventDefault()) {\n/*\r\n    if (!browserVersion.isChrome && savedEvent != null && savedEvent.defaultPrevented && !savedEvent.defaultPrevented()) {\r\n        var targetWindow = this.browserbot._getTargetWindow(element);\r\n        if (element.href) {\r\n            targetWindow.location.href = element.href;\r\n        } else {\r\n            this.browserbot._handleClickingImagesInsideLinks(targetWindow, element);\r\n        }\r\n    }\r\n    */};OperaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);// Trigger the click event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}};KonquerorBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}if(this._windowClosed(win)){return;}};SafariBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);// For form element it is simple.\nif(element[eventType]){element[eventType]();}// For links and other elements, event emulation is required.\nelse{// todo: deal with anchors?\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}};SafariBrowserBot.prototype.refresh=function(){let win=this.getCurrentWindow();if(win.location.hash){// DGF Safari refuses to refresh when there's a hash symbol in the URL\nwin.location.hash='';let actuallyReload=function(){win.location.reload(true);};window.setTimeout(actuallyReload,1);}else{win.location.reload(true);}};IEBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let wasChecked=element.checked;// Set a flag that records if the page will unload - this isn't always accurate, because\n// <a href=\"javascript:alert('foo'):\"> triggers the onbeforeunload event, even thought the page won't unload\nlet pageUnloading=false;let pageUnloadDetector=function(){pageUnloading=true;};if(win.addEventListener){win.addEventListener('beforeunload',pageUnloadDetector,true);}else{win.attachEvent('onbeforeunload',pageUnloadDetector);}this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}// If the page is going to unload - still attempt to fire any subsequent events.\n// However, we can't guarantee that the page won't unload half way through, so we need to handle exceptions.\ntry{if(win.removeEventListener){win.removeEventListener('onbeforeunload',pageUnloadDetector,true);}else{win.detachEvent('onbeforeunload',pageUnloadDetector);}if(this._windowClosed(win)){return;}// Onchange event is not triggered automatically in IE.\nif(isDefined(element.checked)&&wasChecked!=element.checked){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}}catch(e){// If the page is unloading, we may get a \"Permission denied\" or \"Unspecified error\".\n// Just ignore it, because the document may have unloaded.\nif(pageUnloading){//LOG.logHook = function() {\n//};\n//LOG.warn(\"Caught exception when firing events on unloading page: \" + e.message);\nreturn;}throw e;}};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1icm93c2VyYm90LmpzP2RkMzkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQ29weXJpZ2h0IDIwMTEgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeVxyXG4gKlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICovIC8qXHJcbiAqIFRoaXMgc2NyaXB0IHByb3ZpZGVzIHRoZSBKYXZhc2NyaXB0IEFQSSB0byBkcml2ZSB0aGUgdGVzdCBhcHBsaWNhdGlvbiBjb250YWluZWQgd2l0aGluXHJcbiAqIGEgQnJvd3NlciBXaW5kb3cuXHJcbiAqIFRPRE86XHJcbiAqICAgIEFkZCBzdXBwb3J0IGZvciBtb3JlIGV2ZW50cyAoa2V5Ym9hcmQgYW5kIG1vdXNlKVxyXG4gKiAgICBBbGxvdyB0byBzd2l0Y2ggXCJ1c2VyLWVudHJ5XCIgbW9kZSBmcm9tIG1vdXNlLWJhc2VkIHRvIGtleWJvYXJkLWJhc2VkLCBmaXJpbmcgZGlmZmVyZW50XHJcbiAqICAgICAgICAgIGV2ZW50cyBpbiBkaWZmZXJlbnQgbW9kZXMuXHJcbiAqL2ltcG9ydCBfU2VsZW5pdW0gZnJvbScuL3NlbGVuaXVtLWFwaSc7aW1wb3J0IFNlbGVuaXVtRXJyb3IgZnJvbScuL1NlbGVuaXVtRXJyb3InO2ltcG9ydHtzZWxlbml1bX1mcm9tJy4vY29tbWFuZHMtYXBpJztpbXBvcnQgZ29vZyx7Ym90LGNvcmV9ZnJvbScuL2Nsb3N1cmUtcG9seWZpbGwnO2ltcG9ydHtnZXRUYWdOYW1lLHBhcnNlX2xvY2F0b3J9ZnJvbScuL3V0aWxzJztpbXBvcnQgUGF0dGVybk1hdGNoZXIgZnJvbScuL1BhdHRlcm5NYXRjaGVyJztleHBvcnQgY29uc3QgYnJvd3NlclZlcnNpb249bmV3IHdpbmRvdy5nbG9iYWwuQnJvd3NlclZlcnNpb24oKTt3aW5kb3cuZ2xvYmFsLmJyb3dzZXJWZXJzaW9uPWJyb3dzZXJWZXJzaW9uOy8vIFRoZSB3aW5kb3cgdG8gd2hpY2ggdGhlIGNvbW1hbmRzIHdpbGwgYmUgc2VudC4gIEZvciBleGFtcGxlLCB0byBjbGljayBvbiBhXG4vLyBwb3B1cCB3aW5kb3csIGZpcnN0IHNlbGVjdCB0aGF0IHdpbmRvdywgYW5kIHRoZW4gZG8gYSBub3JtYWwgY2xpY2sgY29tbWFuZC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyb3dzZXJCb3R7Y29uc3RydWN0b3IodG9wTGV2ZWxBcHBsaWNhdGlvbldpbmRvdyl7dGhpcy50b3BXaW5kb3c9dG9wTGV2ZWxBcHBsaWNhdGlvbldpbmRvdzt0aGlzLnRvcEZyYW1lPXRoaXMudG9wV2luZG93O3RoaXMuYmFzZVVybD13aW5kb3cubG9jYXRpb24uaHJlZjtib3Quc2V0V2luZG93KHdpbmRvdyk7Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMDUvMjZcbnRoaXMuY291bnQ9MTsvLyB0aGUgYnV0dG9uV2luZG93IGlzIHRoZSBTZWxlbml1bSB3aW5kb3dcbi8vIGl0IGNvbnRhaW5zIHRoZSBSdW4vUGF1c2UgYnV0dG9ucy4uLiB0aGlzIHNob3VsZCAqbm90KiBiZSB0aGUgQVVUIHdpbmRvd1xudGhpcy5idXR0b25XaW5kb3c9d2luZG93O3RoaXMuY3VycmVudFdpbmRvdz10aGlzLnRvcFdpbmRvdzt0aGlzLmN1cnJlbnRXaW5kb3dOYW1lPW51bGw7dGhpcy5hbGxvd05hdGl2ZVhwYXRoPXRydWU7dGhpcy54cGF0aEV2YWx1YXRvcj1uZXcgWFBhdGhFdmFsdWF0b3IoJ2FqYXhzbHQnKTsvLyBjaGFuZ2UgdG8gXCJqYXZhc2NyaXB0LXhwYXRoXCIgZm9yIHRoZSBuZXdlciwgZmFzdGVyIGVuZ2luZVxuLy8gV2UgbmVlZCB0byBrbm93IHRoaXMgaW4gYWR2YW5jZSwgaW4gY2FzZSB0aGUgZnJhbWUgY2xvc2VzIHVuZXhwZWN0ZWRseVxudGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9ZmFsc2U7dGhpcy5hbHRLZXlEb3duPWZhbHNlO3RoaXMuY29udHJvbEtleURvd249ZmFsc2U7dGhpcy5zaGlmdEtleURvd249ZmFsc2U7dGhpcy5tZXRhS2V5RG93bj1mYWxzZTt0aGlzLm1vZGFsRGlhbG9nVGVzdD1udWxsO3RoaXMucmVjb3JkZWRBbGVydHM9bmV3IEFycmF5KCk7dGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnM9bmV3IEFycmF5KCk7dGhpcy5yZWNvcmRlZFByb21wdHM9bmV3IEFycmF5KCk7dGhpcy5vcGVuZWRXaW5kb3dzPXt9Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA1LzI2XG50aGlzLm9wZW5lZFdpbmRvd3NbJ3dpbl9zZXJfbG9jYWwnXT10aGlzLnRvcFdpbmRvdzt0aGlzLm5leHRDb25maXJtUmVzdWx0PXRydWU7dGhpcy5uZXh0UHJvbXB0UmVzdWx0PScnO3RoaXMubmV3UGFnZUxvYWRlZD1mYWxzZTt0aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDt0aGlzLmlnbm9yZVJlc3BvbnNlQ29kZT1mYWxzZTt0aGlzLnhocj1udWxsO3RoaXMuYWJvcnRYaHI9ZmFsc2U7dGhpcy5pc1hoclNlbnQ9ZmFsc2U7dGhpcy5pc1hockRvbmU9ZmFsc2U7dGhpcy54aHJPcGVuTG9jYXRpb249bnVsbDt0aGlzLnhoclJlc3BvbnNlQ29kZT1udWxsO3RoaXMueGhyU3RhdHVzVGV4dD1udWxsO3RoaXMuc2hvdWxkSGlnaGxpZ2h0TG9jYXRlZEVsZW1lbnQ9ZmFsc2U7dGhpcy51bmlxdWVJZD0nc2VsZW5pdW1NYXJrZXInK25ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucG9sbGluZ0ZvckxvYWQ9bmV3IE9iamVjdCgpO3RoaXMucGVybURlbmllZENvdW50PW5ldyBPYmplY3QoKTt0aGlzLndpbmRvd1BvbGxlcnM9bmV3IEFycmF5KCk7Ly8gREdGIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxudGhpcy5icm93c2VyYm90PXRoaXM7bGV0IHNlbGY9dGhpcztPYmplY3QuYXNzaWduKHRoaXMsUGFnZUJvdC5wcm90b3R5cGUpO3RoaXMuX3JlZ2lzdGVyQWxsTG9jYXRvckZ1bmN0aW9ucygpO3RoaXMucmVjb3JkUGFnZUxvYWQ9ZnVuY3Rpb24oKXtzZWxmLm5ld1BhZ2VMb2FkZWQ9dHJ1ZTt9O3RoaXMuaXNOZXdQYWdlTG9hZGVkPWZ1bmN0aW9uKCl7bGV0IGU7aWYodGhpcy5wYWdlTG9hZEVycm9yKXtlPXRoaXMucGFnZUxvYWRFcnJvcjt0aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDt0aHJvdyBlO31pZihzZWxmLmlnbm9yZVJlc3BvbnNlQ29kZSl7cmV0dXJuIHNlbGYubmV3UGFnZUxvYWRlZDt9ZWxzZXtpZihzZWxmLmlzWGhyU2VudCYmc2VsZi5pc1hockRvbmUpe2lmKCEoc2VsZi54aHJSZXNwb25zZUNvZGU+PTIwMCYmc2VsZi54aHJSZXNwb25zZUNvZGU8PTM5OXx8c2VsZi54aHJSZXNwb25zZUNvZGU9PTApKXsvLyBUT0RPOiBmb3IgSUUgc3RhdHVzIGxpa2U6IDEyMDAyLCAxMjAwNywgLi4uIHByb3ZpZGUgY29ycmVzcG9uZGluZyBzdGF0dXNUZXh0IG1lc3NhZ2VzIGFsc28uXG5lPSdYSFIgRVJST1I6IFVSTCA9ICcrc2VsZi54aHJPcGVuTG9jYXRpb24rJyBSZXNwb25zZV9Db2RlID0gJytzZWxmLnhoclJlc3BvbnNlQ29kZSsnIEVycm9yX01lc3NhZ2UgPSAnK3NlbGYueGhyU3RhdHVzVGV4dDtzZWxmLmFib3J0WGhyPWZhbHNlO3NlbGYuaXNYaHJTZW50PWZhbHNlO3NlbGYuaXNYaHJEb25lPWZhbHNlO3NlbGYueGhyUmVzcG9uc2VDb2RlPW51bGw7c2VsZi54aHJTdGF0dXNUZXh0PW51bGw7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoZSk7fX1yZXR1cm4gc2VsZi5uZXdQYWdlTG9hZGVkJiYoc2VsZi5pc1hoclNlbnQ/c2VsZi5hYm9ydFhocnx8c2VsZi5pc1hockRvbmU6dHJ1ZSk7fX07dGhpcy5zZXRBbGxvd05hdGl2ZVhQYXRoPWZ1bmN0aW9uKGFsbG93KXt0aGlzLnhwYXRoRXZhbHVhdG9yLnNldEFsbG93TmF0aXZlWFBhdGgoYWxsb3cpO307dGhpcy5zZXRJZ25vcmVBdHRyaWJ1dGVzV2l0aG91dFZhbHVlPWZ1bmN0aW9uKGlnbm9yZSl7dGhpcy54cGF0aEV2YWx1YXRvci5zZXRJZ25vcmVBdHRyaWJ1dGVzV2l0aG91dFZhbHVlKGlnbm9yZSk7fTt0aGlzLnNldFhQYXRoRW5naW5lPWZ1bmN0aW9uKGVuZ2luZU5hbWUpe3RoaXMueHBhdGhFdmFsdWF0b3Iuc2V0Q3VycmVudEVuZ2luZShlbmdpbmVOYW1lKTt9O3RoaXMuZ2V0WFBhdGhFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54cGF0aEV2YWx1YXRvci5nZXRDdXJyZW50RW5naW5lKCk7fTt9fS8vIERHRiBQYWdlQm90IGV4aXN0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBvbGQgdXNlci1leHRlbnNpb25zXG5jb25zdCBQYWdlQm90PWZ1bmN0aW9uKCl7fTtCcm93c2VyQm90LmNyZWF0ZUZvcldpbmRvdz1mdW5jdGlvbih3aW5kb3cscHJveHlJbmplY3Rpb25Nb2RlKXtsZXQgYnJvd3NlcmJvdDtpZihicm93c2VyVmVyc2lvbi5pc0lFKXticm93c2VyYm90PW5ldyBJRUJyb3dzZXJCb3Qod2luZG93KTt9ZWxzZSBpZihicm93c2VyVmVyc2lvbi5pc0tvbnF1ZXJvcil7YnJvd3NlcmJvdD1uZXcgS29ucXVlcm9yQnJvd3NlckJvdCh3aW5kb3cpO31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe2Jyb3dzZXJib3Q9bmV3IE9wZXJhQnJvd3NlckJvdCh3aW5kb3cpO31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzU2FmYXJpKXticm93c2VyYm90PW5ldyBTYWZhcmlCcm93c2VyQm90KHdpbmRvdyk7fWVsc2V7Ly8gVXNlIG1vemlsbGEgYnkgZGVmYXVsdFxuYnJvd3NlcmJvdD1uZXcgTW96aWxsYUJyb3dzZXJCb3Qod2luZG93KTt9Ly8gZ2V0Q3VycmVudFdpbmRvdyBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIG1vZGlmeWluZyBpdCB0byBoYW5kbGUgcGFnZSBsb2FkcyBldGNcbmJyb3dzZXJib3QucHJveHlJbmplY3Rpb25Nb2RlPXByb3h5SW5qZWN0aW9uTW9kZTticm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTsvLyBmb3IgbW9kaWZ5V2luZG93IHNpZGUgZWZmZWN0LiAgVGhpcyBpcyBub3QgYSB0cmFuc3BhcmVudCBzdHlsZVxucmV0dXJuIGJyb3dzZXJib3Q7fTsvLyB0b2RvOiByZW5hbWU/ICBUaGlzIGRvZXNuJ3QgYWN0dWFsbHkgXCJkb1wiIGFueXRoaW5nLlxuQnJvd3NlckJvdC5wcm90b3R5cGUuZG9Nb2RhbERpYWxvZ1Rlc3Q9ZnVuY3Rpb24odGVzdCl7dGhpcy5tb2RhbERpYWxvZ1Rlc3Q9dGVzdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmNhbmNlbE5leHRDb25maXJtYXRpb249ZnVuY3Rpb24ocmVzdWx0KXt0aGlzLm5leHRDb25maXJtUmVzdWx0PXJlc3VsdDt9Oy8vQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0TmV4dFByb21wdFJlc3VsdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuLy90aGlzLm5leHRSZXN1bHQgPSByZXN1bHQ7XG4vL307XG5Ccm93c2VyQm90LnByb3RvdHlwZS5oYXNBbGVydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZEFsZXJ0cy5sZW5ndGg+MDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlbGF5Qm90VG9SQz1mdW5jdGlvbihzKXsvLyBER0YgbmVlZCB0byBkbyB0aGlzIGZ1bm55IHRyaWNrIHRvIHNlZSBpZiB3ZSdyZSBpbiBQSSBtb2RlLCBiZWNhdXNlXG4vLyBcInRoaXNcIiBtaWdodCBiZSB0aGUgd2luZG93LCByYXRoZXIgdGhhbiB0aGUgYnJvd3NlcmJvdCAoZS5nLiBkdXJpbmcgd2luZG93LmFsZXJ0KVxubGV0IHBpTW9kZT10aGlzLnByb3h5SW5qZWN0aW9uTW9kZTtpZighcGlNb2RlKXtpZih0eXBlb2Ygc2VsZW5pdW0hPSd1bmRlZmluZWQnKXtwaU1vZGU9c2VsZW5pdW0uYnJvd3NlcmJvdCYmc2VsZW5pdW0uYnJvd3NlcmJvdC5wcm94eUluamVjdGlvbk1vZGU7fX1pZihwaU1vZGUpe3RoaXMucmVsYXlUb1JDKCdzZWxlbml1bS4nK3MpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlbGF5VG9SQz1mdW5jdGlvbigpe3JldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUucmVzZXRQb3B1cHM9ZnVuY3Rpb24oKXt0aGlzLnJlY29yZGVkQWxlcnRzPVtdO3RoaXMucmVjb3JkZWRDb25maXJtYXRpb25zPVtdO3RoaXMucmVjb3JkZWRQcm9tcHRzPVtdO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0TmV4dEFsZXJ0PWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5yZWNvcmRlZEFsZXJ0cy5zaGlmdCgpO2lmKHQpe3Q9dC5yZXBsYWNlKC9cXG4vZywnICcpOy8vIGJlY2F1c2UgU2VsZW5lc2UgbG9zZXMgXFxuJ3Mgd2hlbiByZXRyaWV2aW5nIHRleHQgZnJvbSBIVE1MIHRhYmxlXG59dGhpcy5yZWxheUJvdFRvUkMoJ2Jyb3dzZXJib3QucmVjb3JkZWRBbGVydHMnKTtyZXR1cm4gdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmhhc0NvbmZpcm1hdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnMubGVuZ3RoPjA7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROZXh0Q29uZmlybWF0aW9uPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnMuc2hpZnQoKTt0aGlzLnJlbGF5Qm90VG9SQygnYnJvd3NlcmJvdC5yZWNvcmRlZENvbmZpcm1hdGlvbnMnKTtyZXR1cm4gdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmhhc1Byb21wdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZFByb21wdHMubGVuZ3RoPjA7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROZXh0UHJvbXB0PWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5yZWNvcmRlZFByb21wdHMuc2hpZnQoKTt0aGlzLnJlbGF5Qm90VG9SQygnYnJvd3NlcmJvdC5yZWNvcmRlZFByb21wdHMnKTtyZXR1cm4gdDt9Oy8qIEZpcmUgYSBtb3VzZSBldmVudCBpbiBhIGJyb3dzZXItY29tcGF0aWJsZSBtYW5uZXIgKi9Ccm93c2VyQm90LnByb3RvdHlwZS50cmlnZ2VyTW91c2VFdmVudD1mdW5jdGlvbihlbGVtZW50LGV2ZW50VHlwZSxjYW5CdWJibGUsY2xpZW50WCxjbGllbnRZLGJ1dHRvbil7Y2xpZW50WD1jbGllbnRYP2NsaWVudFg6MDtjbGllbnRZPWNsaWVudFk/Y2xpZW50WTowOy8vTE9HLmRlYnVnKFwidHJpZ2dlck1vdXNlRXZlbnQgYXNzdW1lcyBzZXR0aW5nIHNjcmVlblggYW5kIHNjcmVlblkgdG8gMCBpcyBva1wiKTtcbmxldCBzY3JlZW5YPTA7bGV0IHNjcmVlblk9MDtjYW5CdWJibGU9dHlwZW9mIGNhbkJ1YmJsZT09dW5kZWZpbmVkP3RydWU6Y2FuQnViYmxlO2xldCBkb2M9Z29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KTtsZXQgdmlldz1nb29nLmRvbS5nZXRXaW5kb3coZG9jKTtsZXQgZXZ0PWRvYy5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtpZihldnQuaW5pdE1vdXNlRXZlbnQpey8vIHNlZSBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvRE9NOmV2ZW50LmJ1dHRvbiBhbmRcbi8vIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9ET006ZXZlbnQuaW5pdE1vdXNlRXZlbnQgZm9yIGJ1dHRvbiB0ZXJuYXJ5IGxvZ2ljIGxvZ2ljXG4vL1NhZmFyaVxuZXZ0LmluaXRNb3VzZUV2ZW50KGV2ZW50VHlwZSxjYW5CdWJibGUsdHJ1ZSx2aWV3LDEsc2NyZWVuWCxzY3JlZW5ZLGNsaWVudFgsY2xpZW50WSx0aGlzLmNvbnRyb2xLZXlEb3duLHRoaXMuYWx0S2V5RG93bix0aGlzLnNoaWZ0S2V5RG93bix0aGlzLm1ldGFLZXlEb3duLGJ1dHRvbj9idXR0b246MCxudWxsKTt9ZWxzZXsvL0xPRy53YXJuKFwiZWxlbWVudCBkb2Vzbid0IGhhdmUgaW5pdE1vdXNlRXZlbnQ7IGZpcmluZyBhbiBldmVudCB3aGljaCBzaG91bGQgLS0gYnV0IGRvZXNuJ3QgLS0gaGF2ZSBvdGhlciBtb3VzZS1ldmVudCByZWxhdGVkIGF0dHJpYnV0ZXMgaGVyZSwgYXMgd2VsbCBhcyBjb250cm9sS2V5RG93biwgYWx0S2V5RG93biwgc2hpZnRLZXlEb3duLCBtZXRhS2V5RG93blwiKTtcbmV2dC5pbml0RXZlbnQoZXZlbnRUeXBlLGNhbkJ1YmJsZSx0cnVlKTtldnQuc2hpZnRLZXk9dGhpcy5zaGlmdEtleURvd247ZXZ0Lm1ldGFLZXk9dGhpcy5tZXRhS2V5RG93bjtldnQuYWx0S2V5PXRoaXMuYWx0S2V5RG93bjtldnQuY3RybEtleT10aGlzLmNvbnRyb2xLZXlEb3duO2lmKGJ1dHRvbil7ZXZ0LmJ1dHRvbj1idXR0b247fX1lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZ0KTt9Oy8vRHJhZ0FuZERyb3BFeHQsIFNodW8tSGVuZyBTaGloLCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMC8xN1xuQnJvd3NlckJvdC5wcm90b3R5cGUudHJpZ2dlckRyYWdFdmVudD1mdW5jdGlvbihlbGVtZW50LHRhcmdldCl7Y29uc3QgZ2V0WHBhdGhPZkVsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCl7aWYoZWxlbWVudD09bnVsbCl7cmV0dXJuJ251bGwnO31pZihlbGVtZW50LnBhcmVudEVsZW1lbnQ9PW51bGwpe3JldHVybicvJytlbGVtZW50LnRhZ05hbWU7fWxldCBzaWJsaW5nRWxlbWVudD1lbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW47bGV0IHRhZ0NvdW50PTA7bGV0IHRvdGFsVGFnQ291bnQ9MDtsZXQgaXNGb3VuZD1mYWxzZTtmb3IobGV0IGk9MDtpPHNpYmxpbmdFbGVtZW50Lmxlbmd0aDtpKyspe2lmKHNpYmxpbmdFbGVtZW50W2ldLnRhZ05hbWU9PWVsZW1lbnQudGFnTmFtZSYmIWlzRm91bmQpe3RhZ0NvdW50Kys7dG90YWxUYWdDb3VudCsrO31lbHNlIGlmKHNpYmxpbmdFbGVtZW50W2ldLnRhZ05hbWU9PWVsZW1lbnQudGFnTmFtZSl7dG90YWxUYWdDb3VudCsrO31pZihzaWJsaW5nRWxlbWVudFtpXT09ZWxlbWVudCl7aXNGb3VuZD10cnVlO319aWYodG90YWxUYWdDb3VudD4xKXtyZXR1cm4gZ2V0WHBhdGhPZkVsZW1lbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KSsnLycrZWxlbWVudC50YWdOYW1lKydbJyt0YWdDb3VudCsnXSc7fXJldHVybiBnZXRYcGF0aE9mRWxlbWVudChlbGVtZW50LnBhcmVudEVsZW1lbnQpKycvJytlbGVtZW50LnRhZ05hbWU7fTtsZXQgc2NyaXB0PVwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgZnVuY3Rpb24gc2ltdWxhdGVEcmFnRHJvcChzb3VyY2VOb2RlLCBkZXN0aW5hdGlvbk5vZGUpe1xcXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQodHlwZSkgeyAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnQ3VzdG9tRXZlbnQnKTsgICAgICAgIFxcXHJcbiAgICAgICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCB0cnVlLCB0cnVlLCBudWxsKTsgICAgIFxcXHJcbiAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2ZlciA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICB9LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICBzZXREYXRhOiBmdW5jdGlvbih0eXBlLCB2YWwpIHsgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW3R5cGVdID0gdmFsOyAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICB9LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbih0eXBlKSB7ICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0eXBlXTsgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIHJldHVybiBldmVudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChub2RlLCB0eXBlLCBldmVudCkgeyAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIGlmIChub2RlLmRpc3BhdGNoRXZlbnQpIHsgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgIGlmIChub2RlLmZpcmVFdmVudCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5maXJlRXZlbnQoJ29uJyArIHR5cGUsIGV2ZW50KTsgICAgIFxcXHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgdmFyIGV2ZW50ID0gY3JlYXRlQ3VzdG9tRXZlbnQoJ2RyYWdzdGFydCcpOyAgICAgICAgICAgIFxcXHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudChzb3VyY2VOb2RlLCAnZHJhZ3N0YXJ0JywgZXZlbnQpOyAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgdmFyIGRyb3BFdmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KCdkcm9wJyk7ICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgZHJvcEV2ZW50LmRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlcjsgICAgICAgICAgIFxcXHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudChkZXN0aW5hdGlvbk5vZGUsICdkcm9wJywgZHJvcEV2ZW50KTsgICAgIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgdmFyIGRyYWdFbmRFdmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KCdkcmFnZW5kJyk7ICAgICAgIFxcXHJcbiAgICAgICAgZHJhZ0VuZEV2ZW50LmRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlcjsgICAgICAgIFxcXHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudChzb3VyY2VOb2RlLCAnZHJhZ2VuZCcsIGRyYWdFbmRFdmVudCk7ICAgIFxcXHJcbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICBzaW11bGF0ZURyYWdEcm9wKGRvY3VtZW50LmV2YWx1YXRlKCdcIitnZXRYcGF0aE9mRWxlbWVudChlbGVtZW50KStcIicsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlLCBkb2N1bWVudC5ldmFsdWF0ZSgnXCIrZ2V0WHBhdGhPZkVsZW1lbnQodGFyZ2V0KStcIicsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlKTtcXFxyXG4gICAgXCI7bGV0IHdpbj10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO2xldCBkb2M9d2luLmRvY3VtZW50O2xldCBzY3JpcHRUYWc9ZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3NjcmlwdFRhZy50eXBlPSd0ZXh0L2phdmFzY3JpcHQnO3NjcmlwdFRhZy50ZXh0PXNjcmlwdDtkb2MuYm9keS5hcHBlbmRDaGlsZChzY3JpcHRUYWcpO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3dpbmRvd0Nsb3NlZD1mdW5jdGlvbih3aW4pe3RyeXtsZXQgYz13aW4uY2xvc2VkO2lmKGM9PW51bGwpcmV0dXJuIHRydWU7cmV0dXJuIGM7fWNhdGNoKGlnbm9yZWQpey8vIEZpcmVmb3ggMTUrIG1heSBhbHJlYWR5IGhhdmUgbWFya2VkIHRoZSB3aW4gZGVhZC4gQWNjZXNzaW5nIGl0XG4vLyBjYXVzZXMgYW4gZXhjZXB0aW9uIHRvIGJlIHRocm93bi4gVGhhdCBleGNlcHRpb24gdGVsbHMgdXMgdGhlIHdpbmRvd1xuLy8gaXMgY2xvc2VkLlxucmV0dXJuIHRydWU7fX07QnJvd3NlckJvdC51bmlxdWVLZXk9MTtCcm93c2VyQm90LnByb3RvdHlwZS5fbW9kaWZ5V2luZG93PWZ1bmN0aW9uKHdpbil7Ly8gSW4gcHJveHlJbmplY3Rpb25Nb2RlLCBoYXZlIHRvIHN1cHByZXNzIC8vTE9HIGNhbGxzIGluIF9tb2RpZnlXaW5kb3cgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuaWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbikpe2lmKCF0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7Ly9MT0cuZXJyb3IoXCJtb2RpZnlXaW5kb3c6IFdpbmRvdyB3YXMgY2xvc2VkIVwiKTtcbn1yZXR1cm4gbnVsbDt9aWYoIXRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXt9Ly9MT0cuZGVidWcoJ21vZGlmeVdpbmRvdyAnICsgdGhpcy51bmlxdWVJZCArIFwiOlwiICsgd2luW3RoaXMudW5pcXVlSWRdKTtcbi8vIEFzc2lnbiBhIHVuaXF1ZSBsYWJlbCBmb3IgdGhpcyB3aW5kb3cuIFdlIHNldCB0aGlzIG9uIGEga25vd24gYXR0cmlidXRlIHNvIHdlIGNhbiByZWxpYWJseVxuLy8gZmluZCBpdCBsYXRlci4gVGhpcyBpcyBzbGlnaHRseSBkaWZmZXJlbnQgZnJvbSB1bmlxdWVJZC5cbndpbi5zZWxlbml1bUtleT1Ccm93c2VyQm90LnVuaXF1ZUtleSsrO3RyeXt0aGlzLm1vZGlmeVdpbmRvd1RvUmVjb3JkUG9wVXBEaWFsb2dzKHdpbix0aGlzKTt9Y2F0Y2goZXgpe2NvbnNvbGUuZXJyb3IoZXgpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxufS8vQ29tbWVudGluZyBvdXQgZm9yIGlzc3VlIDE4NTRcbi8vd2luW3RoaXMudW5pcXVlSWRdID0gMTtcbi8vIEluIHByb3h5SW5qZWN0aW9uIG1vZGUsIHdlIGhhdmUgb3VyIG93biBtZWNoYW5pc20gZm9yIGRldGVjdGluZyBwYWdlIGxvYWRzXG5pZighdGhpcy5wcm94eUluamVjdGlvbk1vZGUpe3RoaXMubW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHMod2luKTt9aWYod2luLmZyYW1lcyYmd2luLmZyYW1lcy5sZW5ndGgmJndpbi5mcmFtZXMubGVuZ3RoPjApe2ZvcihsZXQgaT0wO2k8d2luLmZyYW1lcy5sZW5ndGg7aSsrKXt0cnl7dGhpcy5fbW9kaWZ5V2luZG93KHdpbi5mcmFtZXNbaV0pO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuLy8gd2UncmUganVzdCB0cnlpbmcgdG8gYmUgb3Bwb3J0dW5pc3RpYzsgZG9uJ3Qgd29ycnkgaWYgdGhpcyBkb2Vzbid0IHdvcmsgb3V0XG59fXJldHVybiB3aW47fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RXaW5kb3c9ZnVuY3Rpb24odGFyZ2V0KXtpZighdGFyZ2V0fHx0YXJnZXQ9PSdudWxsJyl7dGhpcy5fc2VsZWN0VG9wV2luZG93KCk7cmV0dXJuO31sZXQgcmVzdWx0PXRhcmdldC5tYXRjaCgvXihbYS16QS1aXSspPSguKikvKTtpZighcmVzdWx0KXt0aGlzLl9zZWxlY3RXaW5kb3dCeVdpbmRvd0lkKHRhcmdldCk7cmV0dXJuO31sZXQgbG9jYXRvclR5cGU9cmVzdWx0WzFdO2xldCBsb2NhdG9yVmFsdWU9cmVzdWx0WzJdO2lmKGxvY2F0b3JUeXBlPT0ndGl0bGUnKXt0aGlzLl9zZWxlY3RXaW5kb3dCeVRpdGxlKGxvY2F0b3JWYWx1ZSk7fS8vIFRPRE8gc2VwYXJhdGUgbmFtZSBhbmQgdmFyIGludG8gc2VwYXJhdGUgZnVuY3Rpb25zXG5lbHNlIGlmKGxvY2F0b3JUeXBlPT0nbmFtZScpe3RoaXMuX3NlbGVjdFdpbmRvd0J5TmFtZShsb2NhdG9yVmFsdWUpO31lbHNlIGlmKGxvY2F0b3JUeXBlPT0ndmFyJyl7bGV0IHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKS5ldmFsKGxvY2F0b3JWYWx1ZSk7aWYod2luKXt0aGlzLl9zZWxlY3RXaW5kb3dCeU5hbWUod2luLm5hbWUpO31lbHNle3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdXaW5kb3cgbm90IGZvdW5kIGJ5IHZhcjogJytsb2NhdG9yVmFsdWUpO319ZWxzZXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignV2luZG93IGxvY2F0b3Igbm90IHJlY29nbml6ZWQ6ICcrbG9jYXRvclR5cGUpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdFBvcFVwPWZ1bmN0aW9uKHdpbmRvd0lkKXtpZighd2luZG93SWR8fHdpbmRvd0lkPT0nbnVsbCcpe3RoaXMuX3NlbGVjdEZpcnN0Tm9uVG9wV2luZG93KCk7fWVsc2V7dGhpcy5fc2VsZWN0V2luZG93QnlXaW5kb3dJZCh3aW5kb3dJZCk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFRvcFdpbmRvdz1mdW5jdGlvbigpe3RoaXMuY3VycmVudFdpbmRvd05hbWU9bnVsbDt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy50b3BXaW5kb3c7dGhpcy50b3BGcmFtZT10aGlzLnRvcFdpbmRvdzt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD1mYWxzZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9zZWxlY3RXaW5kb3dCeVdpbmRvd0lkPWZ1bmN0aW9uKHdpbmRvd0lkKXt0cnl7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKHdpbmRvd0lkKTt9Y2F0Y2goZSl7dGhpcy5fc2VsZWN0V2luZG93QnlUaXRsZSh3aW5kb3dJZCk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFdpbmRvd0J5TmFtZT1mdW5jdGlvbih0YXJnZXQpe3RoaXMuY3VycmVudFdpbmRvdz10aGlzLmdldFdpbmRvd0J5TmFtZSh0YXJnZXQsZmFsc2UpO3RoaXMudG9wRnJhbWU9dGhpcy5jdXJyZW50V2luZG93O3RoaXMuY3VycmVudFdpbmRvd05hbWU9dGFyZ2V0O3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPWZhbHNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFdpbmRvd0J5VGl0bGU9ZnVuY3Rpb24odGFyZ2V0KXtsZXQgd2luZG93TmFtZT10aGlzLmdldFdpbmRvd05hbWVCeVRpdGxlKHRhcmdldCk7aWYoIXdpbmRvd05hbWUpe3RoaXMuX3NlbGVjdFRvcFdpbmRvdygpO31lbHNle3RoaXMuX3NlbGVjdFdpbmRvd0J5TmFtZSh3aW5kb3dOYW1lKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fc2VsZWN0Rmlyc3ROb25Ub3BXaW5kb3c9ZnVuY3Rpb24oKXtsZXQgbmFtZXM9dGhpcy5nZXROb25Ub3BXaW5kb3dOYW1lcygpO2lmKG5hbWVzLmxlbmd0aCl7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKG5hbWVzWzBdKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RGcmFtZT1mdW5jdGlvbih0YXJnZXQpe2xldCBmcmFtZTtpZih0YXJnZXQuaW5kZXhPZignaW5kZXg9Jyk9PTApe3RhcmdldD10YXJnZXQuc3Vic3RyKDYpO2ZyYW1lPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmZyYW1lc1t0YXJnZXRdO2lmKGZyYW1lPT1udWxsKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignTm90IGZvdW5kOiBmcmFtZXNbJyt0YXJnZXQrJ10nKTt9aWYoIWZyYW1lLmRvY3VtZW50KXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignZnJhbWVzWycrdGFyZ2V0KyddIGlzIG5vdCBhIGZyYW1lJyk7fXRoaXMuY3VycmVudFdpbmRvdz1mcmFtZTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10cnVlO31lbHNlIGlmKHRhcmdldD09J3JlbGF0aXZlPXVwJ3x8dGFyZ2V0PT0ncmVsYXRpdmU9cGFyZW50Jyl7dGhpcy5jdXJyZW50V2luZG93PXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLnBhcmVudDt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10aGlzLl9nZXRGcmFtZUVsZW1lbnQodGhpcy5jdXJyZW50V2luZG93KSE9bnVsbDt9ZWxzZSBpZih0YXJnZXQ9PSdyZWxhdGl2ZT10b3AnKXt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy50b3BGcmFtZTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD1mYWxzZTt9ZWxzZXtmcmFtZT10aGlzLmZpbmRFbGVtZW50KHRhcmdldCk7aWYoZnJhbWU9PW51bGwpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdOb3QgZm91bmQ6ICcrdGFyZ2V0KTt9Ly8gbm93LCBkaWQgdGhleSBnaXZlIHVzIGEgZnJhbWUgb3IgYSBmcmFtZSBFTEVNRU5UP1xubGV0IG1hdGNoPWZhbHNlO2lmKGZyYW1lLmNvbnRlbnRXaW5kb3cpey8vIHRoaXMgbXVzdCBiZSBhIGZyYW1lIGVsZW1lbnRcbmlmKGJyb3dzZXJWZXJzaW9uLmlzSFRBKXsvLyBzdHVwaWQgSFRBIGJ1ZzsgY2FuJ3QgZ2V0IGluIHRoZSBmcm9udCBkb29yXG50YXJnZXQ9ZnJhbWUuY29udGVudFdpbmRvdy5uYW1lO31lbHNle3RoaXMuY3VycmVudFdpbmRvdz1mcmFtZS5jb250ZW50V2luZG93O3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPXRydWU7bWF0Y2g9dHJ1ZTt9fWVsc2UgaWYoZnJhbWUuZG9jdW1lbnQmJmZyYW1lLmxvY2F0aW9uKXsvLyBtdXN0IGJlIGFuIGFjdHVhbCB3aW5kb3cgZnJhbWVcbnRoaXMuY3VycmVudFdpbmRvdz1mcmFtZTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10cnVlO21hdGNoPXRydWU7fWlmKCFtYXRjaCl7Ly8gbmVpdGhlciwgbGV0J3MgbG9vcCB0aHJvdWdoIHRoZSBmcmFtZSBuYW1lc1xubGV0IHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtpZih3aW4mJndpbi5mcmFtZXMmJndpbi5mcmFtZXMubGVuZ3RoKXtmb3IobGV0IGk9MDtpPHdpbi5mcmFtZXMubGVuZ3RoO2krKyl7aWYod2luLmZyYW1lc1tpXS5uYW1lPT10YXJnZXQpe3RoaXMuY3VycmVudFdpbmRvdz13aW4uZnJhbWVzW2ldO3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPXRydWU7bWF0Y2g9dHJ1ZTticmVhazt9fX1pZighbWF0Y2gpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdOb3QgYSBmcmFtZTogJyt0YXJnZXQpO319fS8vIG1vZGlmaWVzIHRoZSB3aW5kb3dcbnRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO307QnJvd3NlckJvdC5wcm90b3R5cGUuZG9lc1RoaXNGcmFtZU1hdGNoRnJhbWVFeHByZXNzaW9uPWZ1bmN0aW9uKGN1cnJlbnRGcmFtZVN0cmluZyx0YXJnZXQpe2xldCBpc0RvbT1mYWxzZTtpZih0YXJnZXQuaW5kZXhPZignZG9tPScpPT0wKXt0YXJnZXQ9dGFyZ2V0LnN1YnN0cig0KTtpc0RvbT10cnVlO31lbHNlIGlmKHRhcmdldC5pbmRleE9mKCdpbmRleD0nKT09MCl7dGFyZ2V0PSdmcmFtZXNbJyt0YXJnZXQuc3Vic3RyKDYpKyddJztpc0RvbT10cnVlO31sZXQgdDsvL0V2YWxpbnNhbmRib3hcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxubGV0IG15U2FuZGJveD1uZXcgQ29tcG9uZW50cy51dGlscy5TYW5kYm94KHRoaXMuY3VycmVudFdpbmRvdy5sb2NhdGlvbi5ocmVmKTtteVNhbmRib3guY3VycmVudEZyYW1lU3RyaW5nPWN1cnJlbnRGcmFtZVN0cmluZztteVNhbmRib3gudGFyZ2V0PXRhcmdldDt0cnl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG50PUNvbXBvbmVudHMudXRpbHMuZXZhbEluU2FuZGJveChjdXJyZW50RnJhbWVTdHJpbmcrJy4nK3RhcmdldCxteVNhbmRib3gpOy8vZXZhbChcInQ9XCIgKyBjdXJyZW50RnJhbWVTdHJpbmcgKyBcIi5cIiArIHRhcmdldCk7XG59Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbmxldCBhdXRXaW5kb3c9dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTtpZih0IT1udWxsKXt0cnl7aWYodC53aW5kb3c9PWF1dFdpbmRvdyl7cmV0dXJuIHRydWU7fWlmKHQud2luZG93LnVuaXF1ZUlkPT1hdXRXaW5kb3cudW5pcXVlSWQpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWNhdGNoKHBlcm1EZW5pZWQpey8vIERHRiBpZiB0aGUgd2luZG93cyBhcmUgaW5jb21wYXJhYmxlLCB0aGV5J3JlIHByb2JhYmx5IG5vdCB0aGUgc2FtZS4uLlxufX1pZihpc0RvbSl7cmV0dXJuIGZhbHNlO30vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmxldCBjdXJyZW50RnJhbWU9Q29tcG9uZW50cy51dGlscy5ldmFsSW5TYW5kYm94KGN1cnJlbnRGcmFtZVN0cmluZyxteVNhbmRib3gpOy8vdmFyIGN1cnJlbnRGcmFtZTtcbi8vZXZhbChcImN1cnJlbnRGcmFtZT1cIiArIGN1cnJlbnRGcmFtZVN0cmluZyk7XG5pZih0YXJnZXQ9PSdyZWxhdGl2ZT11cCcpe2lmKGN1cnJlbnRGcmFtZS53aW5kb3cucGFyZW50PT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWlmKHRhcmdldD09J3JlbGF0aXZlPXRvcCcpe2lmKGN1cnJlbnRGcmFtZS53aW5kb3cudG9wPT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWlmKGN1cnJlbnRGcmFtZS53aW5kb3c9PWF1dFdpbmRvdy5wYXJlbnQpe2lmKGF1dFdpbmRvdy5uYW1lPT10YXJnZXQpe3JldHVybiB0cnVlO310cnl7bGV0IGVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudCh0YXJnZXQsY3VycmVudEZyYW1lLndpbmRvdyk7aWYoZWxlbWVudC5jb250ZW50V2luZG93PT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbn1yZXR1cm4gZmFsc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5hYm9ydFhoclJlcXVlc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZVJlc3BvbnNlQ29kZSl7Ly9MT0cuZGVidWcoXCJYSFIgcmVzcG9uc2UgY29kZSBiZWluZyBpZ25vcmVkLiBOb3RoaW5nIHRvIGFib3J0LlwiKTtcbn1lbHNle2lmKHRoaXMuYWJvcnRYaHI9PWZhbHNlJiZ0aGlzLmlzWGhyU2VudCYmIXRoaXMuaXNYaHJEb25lKXsvL0xPRy5pbmZvKFwiYWJvcnRYaHJSZXF1ZXN0KCk6IGFib3J0aW5nIHJlcXVlc3RcIik7XG50aGlzLmFib3J0WGhyPXRydWU7dGhpcy54aHIuYWJvcnQoKTt9fX07QnJvd3NlckJvdC5wcm90b3R5cGUub25YaHJTdGF0ZUNoYW5nZT1mdW5jdGlvbihtZXRob2Qpey8vTE9HLmluZm8oXCJvblhoclN0YXRlQ2hhbmdlKCk6IHhoci5yZWFkeVN0YXRlID0gXCIgKyB0aGlzLnhoci5yZWFkeVN0YXRlICsgXCIgbWV0aG9kID0gXCIgKyBtZXRob2QgKyBcIiB0aW1lID0gXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG5pZih0aGlzLnhoci5yZWFkeVN0YXRlPT00KXsvLyBjaGVjayBpZiB0aGUgcmVxdWVzdCBnb3QgYWJvcnRlZC5cbmlmKHRoaXMuYWJvcnRYaHI9PXRydWUpe3RoaXMueGhyUmVzcG9uc2VDb2RlPTA7dGhpcy54aHJTdGF0dXNUZXh0PSdSZXF1ZXN0IEFib3J0ZWQnO3RoaXMuaXNYaHJEb25lPXRydWU7cmV0dXJuO310cnl7aWYobWV0aG9kPT0nSEVBRCcmJih0aGlzLnhoci5zdGF0dXM9PTUwMXx8dGhpcy54aHIuc3RhdHVzPT00MDUpKXsvL0xPRy5pbmZvKFwib25YaHJTdGF0ZUNoYW5nZSgpOiBIRUFEIGFqYXggcmV0dXJuZWQgNTAxIG9yIDQwNSwgcmV0cnlpbmcgd2l0aCBHRVRcIik7XG4vLyBoYW5kbGUgNTAxIHJlc3BvbnNlIGNvZGUgZnJvbSBzZXJ2ZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgJ0hFQUQnIG1ldGhvZC5cbi8vIHNlbmQgR0VUIGFqYXggcmVxdWVzdCB3aXRoIHJhbmdlIDAtMS5cbnRoaXMueGhyPW5ldyBYTUxIdHRwUmVxdWVzdCgpO3RoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLm9uWGhyU3RhdGVDaGFuZ2UuYmluZCh0aGlzLCdHRVQnKTt0aGlzLnhoci5vcGVuKCdHRVQnLHRoaXMueGhyT3BlbkxvY2F0aW9uLHRydWUpO3RoaXMueGhyLnNldFJlcXVlc3RIZWFkZXIoJ1JhbmdlJywnYnl0ZXM6MC0xJyk7dGhpcy54aHIuc2VuZCgnJyk7dGhpcy5pc1hoclNlbnQ9dHJ1ZTtyZXR1cm47fXRoaXMueGhyUmVzcG9uc2VDb2RlPXRoaXMueGhyLnN0YXR1czt0aGlzLnhoclN0YXR1c1RleHQ9dGhpcy54aHIuc3RhdHVzVGV4dDt9Y2F0Y2goZXgpey8vTE9HLmluZm8oXCJlbmNvdW50ZXJlZCBleGNlcHRpb24gd2hpbGUgcmVhZGluZyB4aHJSZXNwb25zZUNvZGUuXCIgKyBleC5tZXNzYWdlKTtcbnRoaXMueGhyUmVzcG9uc2VDb2RlPS0xO3RoaXMueGhyU3RhdHVzVGV4dD0nUmVxdWVzdCBFcnJvcic7fXRoaXMuaXNYaHJEb25lPXRydWU7fX07QnJvd3NlckJvdC5wcm90b3R5cGUub3BlbldpbmRvdz1mdW5jdGlvbih1cmwsd2luZG93SUQpe2lmKHVybCE9Jycpe3VybD0naHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSc7fWlmKGJyb3dzZXJWZXJzaW9uLmlzSFRBKXsvLyBpbiBIVEEgbW9kZSwgY2FsbGluZyAub3BlbiBvbiB0aGUgd2luZG93IGludGVycHJldHMgdGhlIHVybCByZWxhdGl2ZSB0byB0aGF0IHdpbmRvd1xuLy8gd2UgbmVlZCB0byBhYnNvbHV0ZS1pemUgdGhlIFVSTCB0byBtYWtlIGl0IGNvbnNpc3RlbnRcbmxldCBjaGlsZD10aGlzLmdldEN1cnJlbnRXaW5kb3coKS5vcGVuKHVybCx3aW5kb3dJRCwncmVzaXphYmxlPXllcycpO3NlbGVuaXVtLmJyb3dzZXJib3Qub3BlbmVkV2luZG93c1t3aW5kb3dJRF09Y2hpbGQ7fWVsc2V7dGhpcy5nZXRDdXJyZW50V2luZG93KCkub3Blbih1cmwsd2luZG93SUQsJ3Jlc2l6YWJsZT15ZXMnKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1mdW5jdGlvbihpZnJhbWUsbG9jYXRpb24pe2lmcmFtZS5zcmM9bG9jYXRpb247fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzO307QnJvd3NlckJvdC5wcm90b3R5cGUud2luZG93TmVlZHNNb2RpZnlpbmc9ZnVuY3Rpb24od2luLHVuaXF1ZUlkKXsvLyBPbiBhbnl0aGluZyBidXQgRmlyZWZveCwgY2hlY2tpbmcgdGhlIHVuaXF1ZSBpZCBpcyBlbm91Z2guXG4vLyBGaXJlZm94IDQgaW50cm9kdWNlcyBhIHJhY2UgY29uZGl0aW9uIHdoaWNoIHNlbGVuaXVtIHJlZ3VsYXJseSBsb3Nlcy5cbnRyeXsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmxldCBhcHBJbmZvPUNvbXBvbmVudHMuY2xhc3Nlc1snQG1vemlsbGEub3JnL3hyZS9hcHAtaW5mbzsxJ10uZ2V0U2VydmljZSgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbkNvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lYVUxBcHBJbmZvKTsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmxldCB2ZXJzaW9uQ2hlY2tlcj1Db21wb25lbnRzLmNsYXNzZXNbJ0Btb3ppbGxhLm9yZy94cGNvbS92ZXJzaW9uLWNvbXBhcmF0b3I7MScvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbl0uZ2V0U2VydmljZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJVmVyc2lvbkNvbXBhcmF0b3IpO2lmKHZlcnNpb25DaGVja2VyLmNvbXBhcmUoYXBwSW5mby52ZXJzaW9uLCc0LjBiMScpPj0wKXtyZXR1cm4gd2luLmFsZXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignbmF0aXZlIGNvZGUnKSE9LTE7fX1jYXRjaChpZ25vcmVkKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxucmV0dXJuIXdpblt1bmlxdWVJZF07fTtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbihvcmlnaW5hbFdpbmRvdyxicm93c2VyQm90KXtsZXQgc2VsZj10aGlzOy8vIEFwcGFyZW50bHksIEZpcmVmb3ggNCBtYWtlcyBpdCBwb3NzaWJsZSB0byB1bndyYXAgYW4gb2JqZWN0IHRvIGZpbmQgdGhhdFxuLy8gdGhlcmUncyBub3RoaW5nIGluIGl0LlxubGV0IHdpbmRvd1RvTW9kaWZ5PWNvcmUuZmlyZWZveC51bndyYXAob3JpZ2luYWxXaW5kb3cpO2lmKCF3aW5kb3dUb01vZGlmeSl7d2luZG93VG9Nb2RpZnk9b3JpZ2luYWxXaW5kb3c7fXdpbmRvd1RvTW9kaWZ5LnNlbGVuaXVtQWxlcnQ9d2luZG93VG9Nb2RpZnkuYWxlcnQ7aWYoIXNlbGYud2luZG93TmVlZHNNb2RpZnlpbmcod2luZG93VG9Nb2RpZnksYnJvd3NlckJvdC51bmlxdWVJZCkpe3JldHVybjt9d2luZG93VG9Nb2RpZnkuYWxlcnQ9ZnVuY3Rpb24oYWxlcnQpe2Jyb3dzZXJCb3QucmVjb3JkZWRBbGVydHMucHVzaChhbGVydCk7c2VsZi5yZWxheUJvdFRvUkMuY2FsbChzZWxmLCdicm93c2VyYm90LnJlY29yZGVkQWxlcnRzJyk7fTt3aW5kb3dUb01vZGlmeS5jb25maXJtPWZ1bmN0aW9uKG1lc3NhZ2Upe2Jyb3dzZXJCb3QucmVjb3JkZWRDb25maXJtYXRpb25zLnB1c2gobWVzc2FnZSk7bGV0IHJlc3VsdD1icm93c2VyQm90Lm5leHRDb25maXJtUmVzdWx0O2Jyb3dzZXJCb3QubmV4dENvbmZpcm1SZXN1bHQ9dHJ1ZTtzZWxmLnJlbGF5Qm90VG9SQy5jYWxsKHNlbGYsJ2Jyb3dzZXJib3QucmVjb3JkZWRDb25maXJtYXRpb25zJyk7cmV0dXJuIHJlc3VsdDt9O3dpbmRvd1RvTW9kaWZ5LnByb21wdD1mdW5jdGlvbihtZXNzYWdlKXticm93c2VyQm90LnJlY29yZGVkUHJvbXB0cy5wdXNoKG1lc3NhZ2UpO2xldCByZXN1bHQ9IWJyb3dzZXJCb3QubmV4dENvbmZpcm1SZXN1bHQ/bnVsbDpicm93c2VyQm90Lm5leHRQcm9tcHRSZXN1bHQ7YnJvd3NlckJvdC5uZXh0Q29uZmlybVJlc3VsdD10cnVlO2Jyb3dzZXJCb3QubmV4dFByb21wdFJlc3VsdD0nJztzZWxmLnJlbGF5Qm90VG9SQy5jYWxsKHNlbGYsJ2Jyb3dzZXJib3QucmVjb3JkZWRQcm9tcHRzJyk7cmV0dXJuIHJlc3VsdDt9Oy8vIEtlZXAgYSByZWZlcmVuY2UgdG8gYWxsIHBvcHVwIHdpbmRvd3MgYnkgbmFtZVxuLy8gbm90ZSB0aGF0IGluIElFIHRoZSBcIndpbmRvd05hbWVcIiBhcmd1bWVudCBtdXN0IGJlIGEgdmFsaWQgamF2YXNjcmlwdCBpZGVudGlmaWVyLCBpdCBzZWVtcy5cbmxldCBvcmlnaW5hbE9wZW49d2luZG93VG9Nb2RpZnkub3BlbjtsZXQgb3JpZ2luYWxPcGVuUmVmZXJlbmNlO2lmKGJyb3dzZXJWZXJzaW9uLmlzSFRBKXtvcmlnaW5hbE9wZW5SZWZlcmVuY2U9J3NlbGVuaXVtX29yaWdpbmFsT3BlbicrbmV3IERhdGUoKS5nZXRUaW1lKCk7d2luZG93VG9Nb2RpZnlbb3JpZ2luYWxPcGVuUmVmZXJlbmNlXT13aW5kb3dUb01vZGlmeS5vcGVuO31sZXQgaXNIVEE9YnJvd3NlclZlcnNpb24uaXNIVEE7bGV0IG5ld09wZW49ZnVuY3Rpb24odXJsLHdpbmRvd05hbWUsd2luZG93RmVhdHVyZXMscmVwbGFjZUZsYWcpe2xldCBteU9yaWdpbmFsT3Blbj1vcmlnaW5hbE9wZW47aWYoaXNIVEEpe215T3JpZ2luYWxPcGVuPXRoaXNbb3JpZ2luYWxPcGVuUmVmZXJlbmNlXTt9Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMDUvMjZcbmlmKHdpbmRvd05hbWU9PScnfHx3aW5kb3dOYW1lPT0nX2JsYW5rJ3x8dHlwZW9mIHdpbmRvd05hbWU9PT0ndW5kZWZpbmVkJyl7d2luZG93TmFtZT0nd2luX3Nlcl8nK3NlbGYuY291bnQ7c2VsZi5jb3VudCs9MTt9bGV0IG9wZW5lZFdpbmRvdz1teU9yaWdpbmFsT3Blbih1cmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyk7Ly9MT0cuZGVidWcoXCJ3aW5kb3cub3BlbiBjYWxsIGludGVyY2VwdGVkOyB3aW5kb3cgSUQgKHdoaWNoIHlvdSBjYW4gdXNlIHdpdGggc2VsZWN0V2luZG93KCkpIGlzIFxcXCJcIiArICB3aW5kb3dOYW1lICsgXCJcXFwiXCIpO1xuaWYod2luZG93TmFtZSE9bnVsbCl7b3BlbmVkV2luZG93WydzZWxlbml1bVdpbmRvd05hbWUnXT13aW5kb3dOYW1lO31zZWxlbml1bS5icm93c2VyYm90Lm9wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV09b3BlbmVkV2luZG93O3JldHVybiBvcGVuZWRXaW5kb3c7fTtpZihicm93c2VyVmVyc2lvbi5pc0hUQSl7b3JpZ2luYWxPcGVuUmVmZXJlbmNlPSdzZWxlbml1bV9vcmlnaW5hbE9wZW4nK25ldyBEYXRlKCkuZ2V0VGltZSgpO2NvbnN0IG5ld09wZW5SZWZlcmVuY2U9J3NlbGVuaXVtX25ld09wZW4nK25ldyBEYXRlKCkuZ2V0VGltZSgpO2xldCBzZXRPcmlnaW5hbFJlZj1cInRoaXNbJ1wiK29yaWdpbmFsT3BlblJlZmVyZW5jZStcIiddID0gdGhpcy5vcGVuO1wiO2lmKHdpbmRvd1RvTW9kaWZ5LmV2YWwpe3dpbmRvd1RvTW9kaWZ5LmV2YWwoc2V0T3JpZ2luYWxSZWYpO3dpbmRvd1RvTW9kaWZ5Lm9wZW49bmV3T3Blbjt9ZWxzZXsvLyBER0Ygd2h5IGNhbid0IEkgZXZhbCBoZXJlPyAgU2VlbXMgbGlrZSBJJ20gcXVlcnlpbmcgdGhlIHdpbmRvdyBhdCBhIGJhZCB0aW1lLCBtYXliZT9cbnNldE9yaWdpbmFsUmVmKz1cInRoaXMub3BlbiA9IHRoaXNbJ1wiK25ld09wZW5SZWZlcmVuY2UrXCInXTtcIjt3aW5kb3dUb01vZGlmeVtuZXdPcGVuUmVmZXJlbmNlXT1uZXdPcGVuO3dpbmRvd1RvTW9kaWZ5LnNldFRpbWVvdXQoc2V0T3JpZ2luYWxSZWYsMCk7fX1lbHNle3dpbmRvd1RvTW9kaWZ5Lm9wZW49bmV3T3Blbjt9fTsvKipcclxuICogQ2FsbCB0aGUgc3VwcGxpZWQgZnVuY3Rpb24gd2hlbiBhIHRoZSBjdXJyZW50IHBhZ2UgdW5sb2FkcyBhbmQgYSBuZXcgb25lIGxvYWRzLlxyXG4gKiBUaGlzIGlzIGRvbmUgYnkgcG9sbGluZyBjb250aW51b3VzbHkgdW50aWwgdGhlIGRvY3VtZW50IGNoYW5nZXMgYW5kIGlzIGZ1bGx5IGxvYWRlZC5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUubW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHM9ZnVuY3Rpb24od2luZG93T2JqZWN0KXsvLyBTaW5jZSB0aGUgdW5sb2FkIGV2ZW50IGRvZXNuJ3QgZmlyZSBpbiBTYWZhcmkgMS4zLCB3ZSBzdGFydCBwb2xsaW5nIGltbWVkaWF0ZWx5XG5pZighd2luZG93T2JqZWN0KXsvL0xPRy53YXJuKFwibW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHM6IG5vIHdpbmRvd09iamVjdCFcIik7XG5yZXR1cm47fWlmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW5kb3dPYmplY3QpKXsvL0xPRy5pbmZvKFwibW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHM6IHdpbmRvd09iamVjdCB3YXMgY2xvc2VkXCIpO1xucmV0dXJuO31sZXQgb2xkTWFya2VyPXRoaXMuaXNQb2xsaW5nRm9yTG9hZCh3aW5kb3dPYmplY3QpO2lmKG9sZE1hcmtlcil7Ly9MT0cuZGVidWcoXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2FkczogYWxyZWFkeSBwb2xsaW5nIHRoaXMgd2luZG93OiBcIiArIG9sZE1hcmtlcik7XG5yZXR1cm47fWxldCBtYXJrZXI9J3NlbGVuaXVtJytuZXcgRGF0ZSgpLmdldFRpbWUoKTsvL0xPRy5kZWJ1ZyhcIlN0YXJ0aW5nIHBvbGxGb3JMb2FkIChcIiArIG1hcmtlciArIFwiKTogXCIgKyB3aW5kb3dPYmplY3QubG9jYXRpb24pO1xudGhpcy5wb2xsaW5nRm9yTG9hZFttYXJrZXJdPXRydWU7Ly8gaWYgdGhpcyBpcyBhIGZyYW1lLCBhZGQgYSBsb2FkIGxpc3RlbmVyLCBvdGhlcndpc2UsIGF0dGFjaCBhIHBvbGxlclxubGV0IGZyYW1lRWxlbWVudD10aGlzLl9nZXRGcmFtZUVsZW1lbnQod2luZG93T2JqZWN0KTsvLyBER0YgSFRBIG1vZGUgY2FuJ3QgYXR0YWNoIGxvYWQgbGlzdGVuZXJzIHRvIHN1YmZyYW1lcyAoeXVrISlcbmxldCBodGFTdWJGcmFtZT10aGlzLl9pc0hUQVN1YkZyYW1lKHdpbmRvd09iamVjdCk7aWYoZnJhbWVFbGVtZW50JiYhaHRhU3ViRnJhbWUpey8vTE9HLmRlYnVnKFwibW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHM6IHRoaXMgd2luZG93IGlzIGEgZnJhbWU7IGF0dGFjaGluZyBhIGxvYWQgbGlzdGVuZXJcIik7XG4vL2FkZExvYWRMaXN0ZW5lcihmcmFtZUVsZW1lbnQsIHRoaXMucmVjb3JkUGFnZUxvYWQpOyBUT0RPOiBjaGVjayBpZiB0aGlzIGlzIG5lY2Vzc2FyeVxuZnJhbWVFbGVtZW50W21hcmtlcl09dHJ1ZTtmcmFtZUVsZW1lbnRbJ2ZyYW1lJyt0aGlzLnVuaXF1ZUlkXT1tYXJrZXI7Ly9MT0cuZGVidWcoXCJkZ2YgdGhpcy51bmlxdWVJZD1cIit0aGlzLnVuaXF1ZUlkKTtcbi8vTE9HLmRlYnVnKFwiZGdmIG1hcmtlcj1cIittYXJrZXIpO1xuLy9MT0cuZGVidWcoXCJkZ2YgZnJhbWVFbGVtZW50WydmcmFtZScrdGhpcy51bmlxdWVJZF09XCIrZnJhbWVFbGVtZW50WydmcmFtZScrdGhpcy51bmlxdWVJZF0pO1xuZnJhbWVFbGVtZW50W3RoaXMudW5pcXVlSWRdPW1hcmtlcjsvL0xPRy5kZWJ1ZyhcImRnZiBmcmFtZUVsZW1lbnRbdGhpcy51bmlxdWVJZF09XCIrZnJhbWVFbGVtZW50W3RoaXMudW5pcXVlSWRdKTtcbn1lbHNle3dpbmRvd09iamVjdC5sb2NhdGlvblttYXJrZXJdPXRydWU7d2luZG93T2JqZWN0W3RoaXMudW5pcXVlSWRdPW1hcmtlcjt0aGlzLnBvbGxGb3JMb2FkKHRoaXMucmVjb3JkUGFnZUxvYWQsd2luZG93T2JqZWN0LHdpbmRvd09iamVjdC5kb2N1bWVudCx3aW5kb3dPYmplY3QubG9jYXRpb24sd2luZG93T2JqZWN0LmxvY2F0aW9uLmhyZWYsbWFya2VyKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5faXNIVEFTdWJGcmFtZT1mdW5jdGlvbigpe2lmKCFicm93c2VyVmVyc2lvbi5pc0hUQSlyZXR1cm4gZmFsc2U7Ly8gREdGIHRoaXMgaXMgd3JvbmchIHdoYXQgaWYgXCJ3aW5cIiBpc24ndCB0aGUgc2VsZWN0ZWQgd2luZG93P1xucmV0dXJuIHRoaXMuaXNTdWJGcmFtZVNlbGVjdGVkO307QnJvd3NlckJvdC5wcm90b3R5cGUuX2dldEZyYW1lRWxlbWVudD1mdW5jdGlvbih3aW4pe2xldCBmcmFtZUVsZW1lbnQ9bnVsbDtsZXQgY2F1Z2h0O3RyeXtmcmFtZUVsZW1lbnQ9d2luLmZyYW1lRWxlbWVudDt9Y2F0Y2goZSl7Y2F1Z2h0PXRydWU7fWlmKGNhdWdodCl7Ly8gb24gSUUsIGNoZWNraW5nIGZyYW1lRWxlbWVudCBpbiBhIHBvcC11cCByZXN1bHRzIGluIGEgXCJObyBzdWNoIGludGVyZmFjZSBzdXBwb3J0ZWRcIiBleGNlcHRpb25cbi8vIGJ1dCBpdCBtaWdodCBoYXZlIGEgZnJhbWUgZWxlbWVudCBhbnl3YXkhXG5sZXQgcGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWU9ZmFsc2U7dHJ5e3BhcmVudENvbnRhaW5zSWRlbnRpY2FsbHlOYW1lZEZyYW1lPXdpbi5wYXJlbnQuZnJhbWVzW3dpbi5uYW1lXTt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbi8vIHRoaXMgbWF5IGZhaWwgaWYgYWNjZXNzIGlzIGRlbmllZCB0byB0aGUgcGFyZW50OyBpbiB0aGF0IGNhc2UsIGFzc3VtZSBpdCdzIG5vdCBhIHBvcC11cFxuaWYocGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWUpey8vIGl0IGNhbid0IGJlIGEgY29pbmNpZGVuY2UgdGhhdCB0aGUgcGFyZW50IGhhcyBhIGZyYW1lIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBteXNlbGYhXG5sZXQgcmVzdWx0O3RyeXtyZXN1bHQ9cGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWUuZnJhbWVFbGVtZW50O2lmKHJlc3VsdCl7cmV0dXJuIHJlc3VsdDt9fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG4vLyBpdCB3YXMgd29ydGggYSB0cnkhIF9nZXRGcmFtZUVsZW1lbnRzQnlOYW1lIGlzIG9mdGVuIHNsb3dcbnJlc3VsdD10aGlzLl9nZXRGcmFtZUVsZW1lbnRCeU5hbWUod2luLm5hbWUsd2luLnBhcmVudC5kb2N1bWVudCx3aW4pO3JldHVybiByZXN1bHQ7fX0vL0xPRy5kZWJ1ZyhcIl9nZXRGcmFtZUVsZW1lbnQ6IGZyYW1lRWxlbWVudD1cIitmcmFtZUVsZW1lbnQpO1xuaWYoZnJhbWVFbGVtZW50KXsvL0xPRy5kZWJ1ZyhcImZyYW1lRWxlbWVudC5uYW1lPVwiK2ZyYW1lRWxlbWVudC5uYW1lKTtcbn1yZXR1cm4gZnJhbWVFbGVtZW50O307QnJvd3NlckJvdC5wcm90b3R5cGUuX2dldEZyYW1lRWxlbWVudEJ5TmFtZT1mdW5jdGlvbihuYW1lLGRvYyx3aW4pe2xldCBmcmFtZXM7bGV0IGZyYW1lO2xldCBpO2ZyYW1lcz1kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpO2ZvcihpPTA7aTxmcmFtZXMubGVuZ3RoO2krKyl7ZnJhbWU9ZnJhbWVzW2ldO2lmKGZyYW1lLm5hbWU9PT1uYW1lKXtyZXR1cm4gZnJhbWU7fX1mcmFtZXM9ZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmcmFtZScpO2ZvcihpPTA7aTxmcmFtZXMubGVuZ3RoO2krKyl7ZnJhbWU9ZnJhbWVzW2ldO2lmKGZyYW1lLm5hbWU9PT1uYW1lKXtyZXR1cm4gZnJhbWU7fX0vLyBER0Ygd2VpcmQ7IHdlIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW4gd2Uga25vdyB0aGUgZG9jIGNvbnRhaW5zIHRoZSBmcmFtZVxuLy9MT0cud2FybihcIl9nZXRGcmFtZUVsZW1lbnRCeU5hbWUgY291bGRuJ3QgZmluZCBhIGZyYW1lIG9yIGlmcmFtZTsgY2hlY2tpbmcgZXZlcnkgZWxlbWVudCBmb3IgdGhlIG5hbWUgXCIgKyBuYW1lKTtcbnJldHVybiBCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlOYW1lKHdpbi5uYW1lLHdpbi5wYXJlbnQuZG9jdW1lbnQpO307LyoqXHJcbiAqIFNldCB1cCBhIHBvbGxpbmcgdGltZXIgdGhhdCB3aWxsIGtlZXAgY2hlY2tpbmcgdGhlIHJlYWR5U3RhdGUgb2YgdGhlIGRvY3VtZW50IHVudGlsIGl0J3MgY29tcGxldGUuXHJcbiAqIFNpbmNlIHdlIG1pZ2h0IGNhbGwgdGhpcyBiZWZvcmUgdGhlIG9yaWdpbmFsIHBhZ2UgaXMgdW5sb2FkZWQsIHdlIGZpcnN0IGNoZWNrIHRvIHNlZSB0aGF0IHRoZSBjdXJyZW50IGxvY2F0aW9uXHJcbiAqIG9yIGhyZWYgaXMgZGlmZmVyZW50IGZyb20gdGhlIG9yaWdpbmFsIG9uZS5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUucG9sbEZvckxvYWQ9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBvcmlnaW5hbCAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgb3JpZ2luYWxIcmVmKTtcbnRyeXsvL1NhbWl0OiBGaXg6IG9wZW4gY29tbWFuZCBzb21ldGltZXMgZmFpbHMgaWYgY3VycmVudCB1cmwgaXMgY2hyb21lIGFuZCBuZXcgaXMgbm90XG53aW5kb3dPYmplY3Q9Y29yZS5maXJlZm94LnVud3JhcCh3aW5kb3dPYmplY3QpO2lmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW5kb3dPYmplY3QpKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIFdJTkRPVyBDTE9TRUQgKFwiICsgbWFya2VyICsgXCIpXCIpO1xuZGVsZXRlIHRoaXMucG9sbGluZ0ZvckxvYWRbbWFya2VyXTtyZXR1cm47fWxldCBpc1NhbWVQYWdlPXRoaXMuX2lzU2FtZVBhZ2Uod2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTtsZXQgcnM9dGhpcy5nZXRSZWFkeVN0YXRlKHdpbmRvd09iamVjdCx3aW5kb3dPYmplY3QuZG9jdW1lbnQpO2lmKCFpc1NhbWVQYWdlJiZycz09J2NvbXBsZXRlJyl7bGV0IGN1cnJlbnRIcmVmPXdpbmRvd09iamVjdC5sb2NhdGlvbi5ocmVmOy8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgRklOSVNIRUQgKFwiICsgbWFya2VyICsgXCIpOiBcIiArIHJzICsgXCIgKFwiICsgY3VycmVudEhyZWYgKyBcIilcIik7XG5kZWxldGUgdGhpcy5wb2xsaW5nRm9yTG9hZFttYXJrZXJdO3RoaXMuX21vZGlmeVdpbmRvdyh3aW5kb3dPYmplY3QpO2xldCBuZXdNYXJrZXI9dGhpcy5pc1BvbGxpbmdGb3JMb2FkKHdpbmRvd09iamVjdCk7aWYoIW5ld01hcmtlcil7Ly9MT0cuZGVidWcoXCJtb2RpZnlXaW5kb3cgZGlkbid0IHN0YXJ0IG5ldyBwb2xsZXI6IFwiICsgbmV3TWFya2VyKTtcbnRoaXMubW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHMod2luZG93T2JqZWN0KTt9bmV3TWFya2VyPXRoaXMuaXNQb2xsaW5nRm9yTG9hZCh3aW5kb3dPYmplY3QpO2xldCBjdXJyZW50bHlTZWxlY3RlZFdpbmRvdztsZXQgY3VycmVudGx5U2VsZWN0ZWRXaW5kb3dNYXJrZXI7Y3VycmVudGx5U2VsZWN0ZWRXaW5kb3c9dGhpcy5nZXRDdXJyZW50V2luZG93KHRydWUpO2N1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPWN1cnJlbnRseVNlbGVjdGVkV2luZG93W3RoaXMudW5pcXVlSWRdOy8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgKFwiICsgbWFya2VyICsgXCIpIHJlc3RhcnRpbmcgXCIgKyBuZXdNYXJrZXIpO1xuaWYoLyhUZXN0UnVubmVyLXNwbGFzaHxCbGFuaylcXC5odG1sXFw/c3RhcnQ9dHJ1ZSQvLnRlc3QoY3VycmVudEhyZWYpKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIE9oLCBpdCdzIGp1c3QgdGhlIHN0YXJ0aW5nIHBhZ2UuICBOZXZlciBtaW5kIVwiKTtcbn1lbHNlIGlmKGN1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPT1uZXdNYXJrZXIpe2xvYWRGdW5jdGlvbihjdXJyZW50bHlTZWxlY3RlZFdpbmRvdyk7fWVsc2V7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBwYWdlIGxvYWQgZGV0ZWN0ZWQgaW4gbm9uLWN1cnJlbnQgd2luZG93OyBpZ25vcmluZyAoY3VycmVudGx5U2VsZWN0ZWQ9XCIrY3VycmVudGx5U2VsZWN0ZWRXaW5kb3dNYXJrZXIrXCIsIGRldGVjdGlvbiBpbiBcIituZXdNYXJrZXIrXCIpXCIpO1xufXJldHVybjt9Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBjb250aW51ZSAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgY3VycmVudEhyZWYpO1xudGhpcy5yZXNjaGVkdWxlUG9sbGVyKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO31jYXRjaChlKXsvL0xPRy5kZWJ1ZyhcIkV4Y2VwdGlvbiBkdXJpbmcgcG9sbEZvckxvYWQ7IHRoaXMgc2hvdWxkIGdldCBub3RpY2VkIHNvb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbi8vREdGIHRoaXMgaXMgc3VwcG9zZWQgdG8gZ2V0IGxvZ2dlZCBsYXRlcjsgbG9nIGl0IGF0IGRlYnVnIGp1c3QgaW4gY2FzZVxuLy8vL0xPRy5leGNlcHRpb24oZSk7XG50aGlzLnBhZ2VMb2FkRXJyb3I9ZTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5faXNTYW1lUGFnZT1mdW5jdGlvbih3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBjdXJyZW50RG9jdW1lbnQ9d2luZG93T2JqZWN0LmRvY3VtZW50O2xldCBjdXJyZW50TG9jYXRpb249d2luZG93T2JqZWN0LmxvY2F0aW9uO2xldCBjdXJyZW50SHJlZj1jdXJyZW50TG9jYXRpb24uaHJlZjtsZXQgc2FtZURvYz10aGlzLl9pc1NhbWVEb2N1bWVudChvcmlnaW5hbERvY3VtZW50LGN1cnJlbnREb2N1bWVudCk7bGV0IHNhbWVMb2M9b3JpZ2luYWxMb2NhdGlvbj09PWN1cnJlbnRMb2NhdGlvbjsvLyBoYXNoIG1hcmtzIGRvbid0IG1lYW50IHRoZSBwYWdlIGhhcyBsb2FkZWQsIHNvIHdlIG5lZWQgdG8gc3RyaXAgdGhlbSBvZmYgaWYgdGhleSBleGlzdC4uLlxubGV0IGN1cnJlbnRIYXNoPWN1cnJlbnRIcmVmLmluZGV4T2YoJyMnKTtpZihjdXJyZW50SGFzaD4wKXtjdXJyZW50SHJlZj1jdXJyZW50SHJlZi5zdWJzdHJpbmcoMCxjdXJyZW50SGFzaCk7fWxldCBvcmlnaW5hbEhhc2g9b3JpZ2luYWxIcmVmLmluZGV4T2YoJyMnKTtpZihvcmlnaW5hbEhhc2g+MCl7b3JpZ2luYWxIcmVmPW9yaWdpbmFsSHJlZi5zdWJzdHJpbmcoMCxvcmlnaW5hbEhhc2gpO30vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBjdXJyZW50SHJlZjogXCIgKyBjdXJyZW50SHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBvcmlnaW5hbEhyZWY6IFwiICsgb3JpZ2luYWxIcmVmKTtcbmxldCBzYW1lSHJlZj1vcmlnaW5hbEhyZWY9PT1jdXJyZW50SHJlZjtsZXQgbWFya2VkTG9jPWN1cnJlbnRMb2NhdGlvblttYXJrZXJdO2lmKGJyb3dzZXJWZXJzaW9uLmlzS29ucXVlcm9yfHxicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7Ly8gdGhlIG1hcmsgZGlzYXBwZWFycyB0b28gZWFybHkgb24gdGhlc2UgYnJvd3NlcnNcbm1hcmtlZExvYz10cnVlO30vLyBzaW5jZSB0aGlzIGlzIHNvbWUgX3ZlcnlfIGltcG9ydGFudCBsb2dpYywgZXNwZWNpYWxseSBmb3IgUEkgYW5kIG11bHRpV2luZG93IG1vZGUsIHdlIHNob3VsZCBsb2cgYWxsIHRoZXNlIG91dFxuLy9MT0cuZGVidWcoXCJfaXNTYW1lUGFnZTogc2FtZURvYzogXCIgKyBzYW1lRG9jKTtcbi8vTE9HLmRlYnVnKFwiX2lzU2FtZVBhZ2U6IHNhbWVMb2M6IFwiICsgc2FtZUxvYyk7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBzYW1lSHJlZjogXCIgKyBzYW1lSHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBtYXJrZWRMb2M6IFwiICsgbWFya2VkTG9jKTtcbnJldHVybiBzYW1lRG9jJiZzYW1lTG9jJiZzYW1lSHJlZiYmbWFya2VkTG9jO307QnJvd3NlckJvdC5wcm90b3R5cGUuX2lzU2FtZURvY3VtZW50PWZ1bmN0aW9uKG9yaWdpbmFsRG9jdW1lbnQsY3VycmVudERvY3VtZW50KXtyZXR1cm4gb3JpZ2luYWxEb2N1bWVudD09PWN1cnJlbnREb2N1bWVudDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFJlYWR5U3RhdGU9ZnVuY3Rpb24od2luZG93T2JqZWN0LGN1cnJlbnREb2N1bWVudCl7bGV0IHJzPWN1cnJlbnREb2N1bWVudC5yZWFkeVN0YXRlO2lmKHJzPT1udWxsKXtpZih0aGlzLmJ1dHRvbldpbmRvdyE9bnVsbCYmdGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZT09bnVsbHx8Ly8gbm90IHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGJ1dHRvbldpbmRvdyBpc24ndCBudWxsKVxudG9wLmRvY3VtZW50LnJlYWR5U3RhdGU9PW51bGwpey8vIHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGV2ZXJ5dGhpbmcncyBpbiB0aGUgdG9wIHdpbmRvdywgYnV0IGJ1dHRvbldpbmRvdyBkb2Vzbid0IGV4aXN0KVxuLy8gdWggb2ghICB3ZSdyZSBwcm9iYWJseSBvbiBGaXJlZm94IHdpdGggbm8gcmVhZHlTdGF0ZSBleHRlbnNpb24gaW5zdGFsbGVkIVxuLy8gV2UnbGwgaGF2ZSB0byBqdXN0IHRha2UgYSBndWVzcyBhcyB0byB3aGVuIHRoZSBkb2N1bWVudCBpcyBsb2FkZWQ7IHRoaXMgZ3Vlc3Ncbi8vIHdpbGwgbmV2ZXIgYmUgcGVyZmVjdC4gOi0oXG5pZih0eXBlb2YgY3VycmVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lIT0ndW5kZWZpbmVkJyYmdHlwZW9mIGN1cnJlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCE9J3VuZGVmaW5lZCcmJihjdXJyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSE9bnVsbHx8Y3VycmVudERvY3VtZW50LmJvZHkhPW51bGwpKXtpZih3aW5kb3dPYmplY3QuZnJhbWVFbGVtZW50JiZ3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZj09J2Fib3V0OmJsYW5rJyYmd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMhPSdhYm91dDpibGFuaycpey8vTE9HLmluZm8oXCJnZXRSZWFkeVN0YXRlIG5vdCBsb2FkZWQsIGZyYW1lIGxvY2F0aW9uIHdhcyBhYm91dDpibGFuaywgYnV0IGZyYW1lIHNyYyA9IFwiICsgd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMpO1xucmV0dXJuIG51bGw7fS8vTE9HLmRlYnVnKFwiZ2V0UmVhZHlTdGF0ZSA9IHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoID0gXCIgKyB3aW5kb3dPYmplY3QuZnJhbWVzLmxlbmd0aCk7XG5mb3IobGV0IGk9MDtpPHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoO2krKyl7Ly9MT0cuZGVidWcoXCJpID0gXCIgKyBpKTtcbmlmKHRoaXMuZ2V0UmVhZHlTdGF0ZSh3aW5kb3dPYmplY3QuZnJhbWVzW2ldLHdpbmRvd09iamVjdC5mcmFtZXNbaV0uZG9jdW1lbnQpIT0nY29tcGxldGUnKXsvL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgYWhhISB0aGUgbmVzdGVkIGZyYW1lIFwiICsgd2luZG93T2JqZWN0LmZyYW1lc1tpXS5uYW1lICsgXCIgd2Fzbid0IHJlYWR5IVwiKTtcbnJldHVybiBudWxsO319cnM9J2NvbXBsZXRlJzt9ZWxzZXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIHJlYWR5U3RhdGUgd2FzIG51bGwgYW5kIERPTSBhcHBlYXJlZCB0byBub3QgYmUgcmVhZHkgeWV0XCIpO1xufX19ZWxzZSBpZihycz09J2xvYWRpbmcnJiZicm93c2VyVmVyc2lvbi5pc0lFKXsvL0xPRy5kZWJ1ZyhcInBhZ2VVbmxvYWRpbmcgPSB0cnVlISEhIVwiKTtcbnRoaXMucGFnZVVubG9hZGluZz10cnVlO30vL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgcmV0dXJuaW5nIFwiICsgcnMpO1xucmV0dXJuIHJzO307LyoqIFRoaXMgZnVuY3Rpb24gaXNuJ3QgdXNlZCBub3JtYWxseSwgYnV0IHdhcyB0aGUgd2F5IHdlIHVzZWQgdG8gc2NoZWR1bGUgcG9sbGVyczpcclxuIGFzeW5jaHJvbm91c2x5IGV4ZWN1dGVkIGF1dG9ub21vdXMgdW5pdHMuICBUaGlzIGlzIGRlcHJlY2F0ZWQsIGJ1dCByZW1haW5zIGhlcmVcclxuIGZvciBmdXR1cmUgcmVmZXJlbmNlLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBzZWxmPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO30sNTAwKTt9Oy8qKiBUaGlzIGZ1bmN0aW9uIGlzbid0IHVzZWQgbm9ybWFsbHksIGJ1dCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyBhc3luY2hyb25vdXMgcG9sbGVyc1xyXG4gKiBUbyBlbmFibGUgaXQsIHJlbmFtZSBpdCB0byBcInJlc2NoZWR1bGVQb2xsZXJcIiwgc28gaXQgd2lsbCBvdmVycmlkZSB0aGVcclxuICogZXhpc3RpbmcgcmVzY2hlZHVsZVBvbGxlciBmdW5jdGlvblxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBkb2M9dGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQ7bGV0IGJ1dHRvbj1kb2MuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7bGV0IGJ1dHRvbk5hbWU9ZG9jLmNyZWF0ZVRleHROb2RlKG1hcmtlcisnIC0gJyt3aW5kb3dPYmplY3QubmFtZSk7YnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvbk5hbWUpO2xldCB0b29scz1kb2MuZ2V0RWxlbWVudEJ5SWQoJ3Rvb2xzJyk7bGV0IHNlbGY9dGhpcztidXR0b24ub25jbGljaz1mdW5jdGlvbigpe3Rvb2xzLnJlbW92ZUNoaWxkKGJ1dHRvbik7c2VsZi5wb2xsRm9yTG9hZChsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTt9O3Rvb2xzLmFwcGVuZENoaWxkKGJ1dHRvbik7d2luZG93LnNldFRpbWVvdXQoYnV0dG9uLm9uY2xpY2ssNTAwKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlc2NoZWR1bGVQb2xsZXI9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7bGV0IHNlbGY9dGhpcztsZXQgcG9sbGVyRnVuY3Rpb249ZnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO307dGhpcy53aW5kb3dQb2xsZXJzLnB1c2gocG9sbGVyRnVuY3Rpb24pO307QnJvd3NlckJvdC5wcm90b3R5cGUucnVuU2NoZWR1bGVkUG9sbGVycz1mdW5jdGlvbigpey8vTE9HLmRlYnVnKFwicnVuU2NoZWR1bGVkUG9sbGVyc1wiKTtcbmxldCBvbGRQb2xsZXJzPXRoaXMud2luZG93UG9sbGVyczt0aGlzLndpbmRvd1BvbGxlcnM9bmV3IEFycmF5KCk7Zm9yKGxldCBpPTA7aTxvbGRQb2xsZXJzLmxlbmd0aDtpKyspe29sZFBvbGxlcnNbaV0uY2FsbCgpO30vL0xPRy5kZWJ1ZyhcInJ1blNjaGVkdWxlZFBvbGxlcnMgRE9ORVwiKTtcbn07QnJvd3NlckJvdC5wcm90b3R5cGUuaXNQb2xsaW5nRm9yTG9hZD1mdW5jdGlvbih3aW4pe2xldCBtYXJrZXI7bGV0IGZyYW1lRWxlbWVudD10aGlzLl9nZXRGcmFtZUVsZW1lbnQod2luKTtsZXQgaHRhU3ViRnJhbWU9dGhpcy5faXNIVEFTdWJGcmFtZSh3aW4pO2lmKGZyYW1lRWxlbWVudCYmIWh0YVN1YkZyYW1lKXttYXJrZXI9ZnJhbWVFbGVtZW50WydmcmFtZScrdGhpcy51bmlxdWVJZF07fWVsc2V7bWFya2VyPXdpblt0aGlzLnVuaXF1ZUlkXTt9aWYoIW1hcmtlcil7Ly9MT0cuZGVidWcoXCJpc1BvbGxpbmdGb3JMb2FkIGZhbHNlLCBtaXNzaW5nIHVuaXF1ZUlkIFwiICsgdGhpcy51bmlxdWVJZCArIFwiOiBcIiArIG1hcmtlcik7XG5yZXR1cm4gZmFsc2U7fWlmKCF0aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl0pey8vTE9HLmRlYnVnKFwiaXNQb2xsaW5nRm9yTG9hZCBmYWxzZSwgdGhpcy5wb2xsaW5nRm9yTG9hZFtcIiArIG1hcmtlciArIFwiXTogXCIgKyB0aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl0pO1xucmV0dXJuIGZhbHNlO31yZXR1cm4gbWFya2VyO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0V2luZG93QnlOYW1lPWZ1bmN0aW9uKHdpbmRvd05hbWUsZG9Ob3RNb2RpZnkpey8vTE9HLmRlYnVnKFwiZ2V0V2luZG93QnlOYW1lKFwiICsgd2luZG93TmFtZSArIFwiKVwiKTtcbi8vIEZpcnN0IGxvb2sgaW4gdGhlIG1hcCBvZiBvcGVuZWQgd2luZG93c1xubGV0IHRhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV07aWYoIXRhcmdldFdpbmRvdyl7dGFyZ2V0V2luZG93PXRoaXMudG9wV2luZG93W3dpbmRvd05hbWVdO31pZighdGFyZ2V0V2luZG93JiZ3aW5kb3dOYW1lPT0nX2JsYW5rJyl7Zm9yKGxldCB3aW5OYW1lIGluIHRoaXMub3BlbmVkV2luZG93cyl7Ly8gX2JsYW5rIGNhbiBtYXRjaCBzZWxlbml1bV9ibGFuayosIGlmIGl0IGxvb2tzIGxpa2UgaXQncyBPSyAodmFsaWQgaHJlZiwgbm90IGNsb3NlZClcbmlmKC9ec2VsZW5pdW1fYmxhbmsvLnRlc3Qod2luTmFtZSkpe3RhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luTmFtZV07bGV0IG9rO3RyeXtpZighdGhpcy5fd2luZG93Q2xvc2VkKHRhcmdldFdpbmRvdykpe29rPXRhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmO319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbmlmKG9rKWJyZWFrO319fWlmKCF0YXJnZXRXaW5kb3cpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdXaW5kb3cgZG9lcyBub3QgZXhpc3QuIElmIHRoaXMgbG9va3MgbGlrZSBhIFNlbGVuaXVtIGJ1ZywgbWFrZSBzdXJlIHRvIHJlYWQgaHR0cDovL3NlbGVuaXVtaHEub3JnL2RvY3MvMDJfc2VsZW5pdW1faWRlLmh0bWwjYWxlcnRzLXBvcHVwcy1hbmQtbXVsdGlwbGUtd2luZG93cyBmb3IgcG90ZW50aWFsIHdvcmthcm91bmRzLicpO31pZihicm93c2VyVmVyc2lvbi5pc0hUQSl7dHJ5e3RhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmO31jYXRjaChlKXt0YXJnZXRXaW5kb3c9d2luZG93Lm9wZW4oJycsdGFyZ2V0V2luZG93Lm5hbWUpO3RoaXMub3BlbmVkV2luZG93c1t0YXJnZXRXaW5kb3cubmFtZV09dGFyZ2V0V2luZG93O319aWYoIWRvTm90TW9kaWZ5KXt0aGlzLl9tb2RpZnlXaW5kb3codGFyZ2V0V2luZG93KTt9cmV0dXJuIHRhcmdldFdpbmRvdzt9Oy8qKlxyXG4gKiBGaW5kIGEgd2luZG93IG5hbWUgZnJvbSB0aGUgd2luZG93IHRpdGxlLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5nZXRXaW5kb3dOYW1lQnlUaXRsZT1mdW5jdGlvbih3aW5kb3dUaXRsZSl7Ly9MT0cuZGVidWcoXCJnZXRXaW5kb3dOYW1lQnlUaXRsZShcIiArIHdpbmRvd1RpdGxlICsgXCIpXCIpO1xuLy8gRmlyc3QgbG9vayBpbiB0aGUgbWFwIG9mIG9wZW5lZCB3aW5kb3dzIGFuZCBpdGVyYXRlIHRoZW1cbmZvcihsZXQgd2luZG93TmFtZSBpbiB0aGlzLm9wZW5lZFdpbmRvd3Mpe2xldCB0YXJnZXRXaW5kb3c9dGhpcy5vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdOy8vIElmIHRoZSB0YXJnZXQgd2luZG93J3MgdGl0bGUgaXMgb3VyIHRpdGxlXG50cnl7Ly8gVE9ETyBpbXBsZW1lbnQgUGF0dGVybiBNYXRjaGluZyBoZXJlXG5pZighdGhpcy5fd2luZG93Q2xvc2VkKHRhcmdldFdpbmRvdykmJnRhcmdldFdpbmRvdy5kb2N1bWVudC50aXRsZT09d2luZG93VGl0bGUpe3JldHVybiB3aW5kb3dOYW1lO319Y2F0Y2goZSl7Ly8gWW91J2xsIG9mdGVuIGdldCBQZXJtaXNzaW9uIERlbmllZCBlcnJvcnMgaGVyZSBpbiBJRVxuLy8gZWgsIGlmIHdlIGNhbid0IHJlYWQgdGhpcyB3aW5kb3cncyB0aXRsZSxcbi8vIGl0J3MgcHJvYmFibHkgbm90IGF2YWlsYWJsZSB0byB1cyByaWdodCBub3cgYW55d2F5XG59fXRyeXtpZih0aGlzLnRvcFdpbmRvdy5kb2N1bWVudC50aXRsZT09d2luZG93VGl0bGUpe3JldHVybicnO319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbi8vIElFIFBlcm0gZGVuaWVkXG50aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignQ291bGQgbm90IGZpbmQgd2luZG93IHdpdGggdGl0bGUgJyt3aW5kb3dUaXRsZSk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROb25Ub3BXaW5kb3dOYW1lcz1mdW5jdGlvbigpe2xldCBub25Ub3BXaW5kb3dOYW1lcz1bXTtmb3IobGV0IHdpbmRvd05hbWUgaW4gdGhpcy5vcGVuZWRXaW5kb3dzKXtsZXQgd2luPXRoaXMub3BlbmVkV2luZG93c1t3aW5kb3dOYW1lXTtpZighdGhpcy5fd2luZG93Q2xvc2VkKHdpbikmJndpbiE9dGhpcy50b3BXaW5kb3cpe25vblRvcFdpbmRvd05hbWVzLnB1c2god2luZG93TmFtZSk7fX1yZXR1cm4gbm9uVG9wV2luZG93TmFtZXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDdXJyZW50V2luZG93PWZ1bmN0aW9uKGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHdpbmRvdzt9bGV0IHRlc3RXaW5kb3c9Y29yZS5maXJlZm94LnVud3JhcCh0aGlzLmN1cnJlbnRXaW5kb3cpO2lmKCFkb05vdE1vZGlmeSl7dGhpcy5fbW9kaWZ5V2luZG93KHRlc3RXaW5kb3cpOy8vTE9HLmRlYnVnKFwiZ2V0Q3VycmVudFdpbmRvdyBuZXdQYWdlTG9hZGVkID0gZmFsc2VcIik7XG50aGlzLm5ld1BhZ2VMb2FkZWQ9ZmFsc2U7fXRlc3RXaW5kb3c9dGhpcy5faGFuZGxlQ2xvc2VkU3ViRnJhbWUodGVzdFdpbmRvdyxkb05vdE1vZGlmeSk7Ym90LndpbmRvd189dGVzdFdpbmRvdztyZXR1cm4gY29yZS5maXJlZm94LnVud3JhcCh0ZXN0V2luZG93KTt9Oy8qKlxyXG4gKiBPZmZlciBhIG1ldGhvZCB0aGUgZW5kLXVzZXIgY2FuIHJlbGlhYmx5IHVzZSB0byByZXRyaWV2ZSB0aGUgY3VycmVudCB3aW5kb3cuXHJcbiAqIFRoaXMgc2hvdWxkIHdvcmsgZXZlbiBmb3Igd2luZG93cyB3aXRoIGFuIFhQQ05hdGl2ZVdyYXBwZXIuIFJldHVybnMgdGhlXHJcbiAqIGN1cnJlbnQgd2luZG93IG9iamVjdC5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0VXNlcldpbmRvdz1mdW5jdGlvbigpe2xldCB1c2VyV2luZG93PXRoaXMuZ2V0Q3VycmVudFdpbmRvdyh0cnVlKTtyZXR1cm4gdXNlcldpbmRvdzt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9oYW5kbGVDbG9zZWRTdWJGcmFtZT1mdW5jdGlvbih0ZXN0V2luZG93LGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHRlc3RXaW5kb3c7fWlmKHRoaXMuaXNTdWJGcmFtZVNlbGVjdGVkKXtsZXQgbWlzc2luZz10cnVlO2lmKHRlc3RXaW5kb3cucGFyZW50JiZ0ZXN0V2luZG93LnBhcmVudC5mcmFtZXMmJnRlc3RXaW5kb3cucGFyZW50LmZyYW1lcy5sZW5ndGgpe2ZvcihsZXQgaT0wO2k8dGVzdFdpbmRvdy5wYXJlbnQuZnJhbWVzLmxlbmd0aDtpKyspe2xldCBmcmFtZT10ZXN0V2luZG93LnBhcmVudC5mcmFtZXNbaV07aWYoZnJhbWU9PXRlc3RXaW5kb3d8fGZyYW1lLnNlbGVuaXVtS2V5PT10ZXN0V2luZG93LnNlbGVuaXVtS2V5KXttaXNzaW5nPWZhbHNlO2JyZWFrO319fWlmKG1pc3Npbmcpey8vTE9HLndhcm4oXCJDdXJyZW50IHN1YmZyYW1lIGFwcGVhcnMgdG8gaGF2ZSBjbG9zZWQ7IHNlbGVjdGluZyB0b3AgZnJhbWVcIik7XG50aGlzLnNlbGVjdEZyYW1lKCdyZWxhdGl2ZT10b3AnKTtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KGRvTm90TW9kaWZ5KTt9fWVsc2UgaWYodGhpcy5fd2luZG93Q2xvc2VkKHRlc3RXaW5kb3cpKXsvL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8yNVxuLyp2YXIgY2xvc2VkRXJyb3IgPSBuZXcgU2VsZW5pdW1FcnJvcihcIkN1cnJlbnQgd2luZG93IG9yIGZyYW1lIGlzIGNsb3NlZCFcIik7XHJcbiAgICAgICAgY2xvc2VkRXJyb3Iud2luZG93Q2xvc2VkID0gdHJ1ZTtcclxuICAgICAgICB0aHJvdyBjbG9zZWRFcnJvcjsqL3Rlc3RXaW5kb3c9dGhpcy50b3BXaW5kb3c7Ly9zZWxlY3QgbGl2ZSBvYmplY3Rcbn1yZXR1cm4gdGVzdFdpbmRvdzt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNldFNob3VsZEhpZ2hsaWdodEVsZW1lbnQ9ZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KXt0aGlzLnNob3VsZEhpZ2hsaWdodExvY2F0ZWRFbGVtZW50PXNob3VsZEhpZ2hsaWdodDt9Oy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gLyogQlJPV1NFUi1TUEVDSUZJQyBGVU5DVElPTlMgT05MWSBBRlRFUiBUSElTIExJTkUgKi9Ccm93c2VyQm90LnByb3RvdHlwZS5fcmVnaXN0ZXJBbGxMb2NhdG9yRnVuY3Rpb25zPWZ1bmN0aW9uKCl7Ly8gVE9ETyAtIGRvbid0IGRvIHRoaXMgaW4gdGhlIGNvbnN0cnVjdG9yIC0gb25seSBuZWVkZWQgb25jZSBldmVyXG50aGlzLmxvY2F0aW9uU3RyYXRlZ2llcz17fTtmb3IobGV0IGZ1bmN0aW9uTmFtZSBpbiB0aGlzKXtsZXQgcmVzdWx0PS9ebG9jYXRlRWxlbWVudEJ5KFtBLVpdLispJC8uZXhlYyhmdW5jdGlvbk5hbWUpO2lmKHJlc3VsdCE9bnVsbCl7bGV0IGxvY2F0b3JGdW5jdGlvbj10aGlzW2Z1bmN0aW9uTmFtZV07aWYodHlwZW9mIGxvY2F0b3JGdW5jdGlvbiE9J2Z1bmN0aW9uJyl7Y29udGludWU7fS8vIFVzZSBhIHNwZWNpZmllZCBwcmVmaXggaW4gcHJlZmVyZW5jZSB0byBvbmUgZ2VuZXJhdGVkIGZyb21cbi8vIHRoZSBmdW5jdGlvbiBuYW1lXG5sZXQgbG9jYXRvclByZWZpeD1sb2NhdG9yRnVuY3Rpb24ucHJlZml4fHxyZXN1bHRbMV0udG9Mb3dlckNhc2UoKTt0aGlzLmxvY2F0aW9uU3RyYXRlZ2llc1tsb2NhdG9yUHJlZml4XT1sb2NhdG9yRnVuY3Rpb247fX0vKipcclxuICAgKiBGaW5kIGEgbG9jYXRvciBiYXNlZCBvbiBhIHByZWZpeC5cclxuICAgKi90aGlzLmZpbmRFbGVtZW50Qnk9ZnVuY3Rpb24obG9jYXRvclR5cGUsbG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KXtsZXQgbG9jYXRvckZ1bmN0aW9uPXRoaXMubG9jYXRpb25TdHJhdGVnaWVzW2xvY2F0b3JUeXBlXTtpZighbG9jYXRvckZ1bmN0aW9uKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIlVucmVjb2duaXNlZCBsb2NhdG9yIHR5cGU6ICdcIitsb2NhdG9yVHlwZStcIidcIik7fXJldHVybiBsb2NhdG9yRnVuY3Rpb24uY2FsbCh0aGlzLGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyk7fTsvKipcclxuICAgKiBUaGUgaW1wbGljaXQgbG9jYXRvciwgdGhhdCBpcyB1c2VkIHdoZW4gbm8gcHJlZml4IGlzIHN1cHBsaWVkLlxyXG4gICAqL3RoaXMubG9jYXRpb25TdHJhdGVnaWVzWydpbXBsaWNpdCddPWZ1bmN0aW9uKGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyl7aWYobG9jYXRvci5zdGFydHNXaXRoKCcvLycpKXtyZXR1cm4gdGhpcy5sb2NhdGVFbGVtZW50QnlYUGF0aChsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpO31pZihsb2NhdG9yLnN0YXJ0c1dpdGgoJ2RvY3VtZW50LicpKXtyZXR1cm4gdGhpcy5sb2NhdGVFbGVtZW50QnlEb21UcmF2ZXJzYWwobG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KTt9cmV0dXJuIHRoaXMubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmllcihsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpO307fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiBjb3JlLmZpcmVmb3gudW53cmFwKHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50KTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5nZXREb2N1bWVudCgpLnRpdGxlO2lmKHR5cGVvZiB0PT0nc3RyaW5nJyl7dD10LnRyaW0oKTt9cmV0dXJuIHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDb29raWVCeU5hbWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTtsZXQgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuIG51bGw7bGV0IGNrUGFpcnM9Y2suc3BsaXQoLzsvKTtmb3IobGV0IGk9MDtpPGNrUGFpcnMubGVuZ3RoO2krKyl7bGV0IGNrUGFpcj1ja1BhaXJzW2ldLnRyaW0oKTtsZXQgY2tOYW1lVmFsdWU9Y2tQYWlyLnNwbGl0KC89Lyk7bGV0IGNrTmFtZT1kZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWVbMF0pO2lmKGNrTmFtZT09PWNvb2tpZU5hbWUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWUuc2xpY2UoMSkuam9pbignPScpKTt9fXJldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsQ29va2llTmFtZXM9ZnVuY3Rpb24oZG9jKXtpZighZG9jKWRvYz10aGlzLmdldERvY3VtZW50KCk7bGV0IGNrPWRvYy5jb29raWU7aWYoIWNrKXJldHVybltdO2xldCBjb29raWVOYW1lcz1bXTtsZXQgY2tQYWlycz1jay5zcGxpdCgvOy8pO2ZvcihsZXQgaT0wO2k8Y2tQYWlycy5sZW5ndGg7aSsrKXtsZXQgY2tQYWlyPWNrUGFpcnNbaV0udHJpbSgpO2xldCBja05hbWVWYWx1ZT1ja1BhaXIuc3BsaXQoLz0vKTtsZXQgY2tOYW1lPWRlY29kZVVSSUNvbXBvbmVudChja05hbWVWYWx1ZVswXSk7Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxSYXdDb29raWVOYW1lcz1mdW5jdGlvbihkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTtsZXQgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuW107bGV0IGNvb2tpZU5hbWVzPVtdO2xldCBja1BhaXJzPWNrLnNwbGl0KC87Lyk7Zm9yKGxldCBpPTA7aTxja1BhaXJzLmxlbmd0aDtpKyspe2xldCBja1BhaXI9Y2tQYWlyc1tpXS50cmltKCk7bGV0IGNrTmFtZVZhbHVlPWNrUGFpci5zcGxpdCgvPS8pO2xldCBja05hbWU9Y2tOYW1lVmFsdWVbMF07Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtmdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjayh1cmkpe2xldCByZWd1bGFyRW5jb2Rpbmc9ZW5jb2RlVVJJQ29tcG9uZW50KHVyaSk7bGV0IGFnZ3Jlc3NpdmVFbmNvZGluZz1yZWd1bGFyRW5jb2RpbmcucmVwbGFjZSgnLicsJyUyRScpO2FnZ3Jlc3NpdmVFbmNvZGluZz1hZ2dyZXNzaXZlRW5jb2RpbmcucmVwbGFjZSgnXycsJyU1RicpO3JldHVybiBhZ2dyZXNzaXZlRW5jb2Rpbmc7fUJyb3dzZXJCb3QucHJvdG90eXBlLmRlbGV0ZUNvb2tpZT1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7aWYoIWRvYylkb2M9dGhpcy5nZXREb2N1bWVudCgpO2xldCBleHBpcmVEYXRlSW5NaWxsaXNlY29uZHM9bmV3IERhdGUoKS5nZXRUaW1lKCkrLTEqMTAwMDsvLyB3ZSBjYW4ndCByZWFsbHkgYmUgc3VyZSBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggZW5jb2RlZCBvciB1bmVuY29kZWQgY29va2llIG5hbWVzXG5sZXQgX2Nvb2tpZU5hbWU7bGV0IHJhd0Nvb2tpZU5hbWVzPXRoaXMuZ2V0QWxsUmF3Q29va2llTmFtZXMoZG9jKTtmb3IobGV0IHJhd0Nvb2tpZU51bWJlciBpbiByYXdDb29raWVOYW1lcyl7aWYocmF3Q29va2llTmFtZXNbcmF3Q29va2llTnVtYmVyXT09Y29va2llTmFtZSl7X2Nvb2tpZU5hbWU9Y29va2llTmFtZTticmVhazt9ZWxzZSBpZihyYXdDb29raWVOYW1lc1tyYXdDb29raWVOdW1iZXJdPT1lbmNvZGVVUklDb21wb25lbnQoY29va2llTmFtZSkpe19jb29raWVOYW1lPWVuY29kZVVSSUNvbXBvbmVudChjb29raWVOYW1lKTticmVhazt9ZWxzZSBpZihyYXdDb29raWVOYW1lc1tyYXdDb29raWVOdW1iZXJdPT1lbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjayhjb29raWVOYW1lKSl7X2Nvb2tpZU5hbWU9ZW5jb2RlVVJJQ29tcG9uZW50V2l0aEFTUEhhY2soY29va2llTmFtZSk7YnJlYWs7fX1sZXQgY29va2llPV9jb29raWVOYW1lKyc9ZGVsZXRlZDsgJztpZihwYXRoKXtjb29raWUrPSdwYXRoPScrcGF0aCsnOyAnO31pZihkb21haW4pe2Nvb2tpZSs9J2RvbWFpbj0nK2RvbWFpbisnOyAnO31jb29raWUrPSdleHBpcmVzPScrbmV3IERhdGUoZXhwaXJlRGF0ZUluTWlsbGlzZWNvbmRzKS50b0dNVFN0cmluZygpOy8vTE9HLmRlYnVnKFwiU2V0dGluZyBjb29raWUgdG86IFwiICsgY29va2llKTtcbmRvYy5jb29raWU9Y29va2llO307LyoqIFRyeSB0byBkZWxldGUgY29va2llLCByZXR1cm4gZmFsc2UgaWYgaXQgZGlkbid0IHdvcmsgKi9Ccm93c2VyQm90LnByb3RvdHlwZS5fbWF5YmVEZWxldGVDb29raWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb21haW4scGF0aCxkb2Mpe3RoaXMuZGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKTtyZXR1cm4hdGhpcy5nZXRDb29raWVCeU5hbWUoY29va2llTmFtZSxkb2MpO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llRG9tYWlucz1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7bGV0IGRlbGV0ZWQ9dGhpcy5fbWF5YmVEZWxldGVDb29raWUoY29va2llTmFtZSxkb21haW4scGF0aCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuIHRydWU7bGV0IGRvdEluZGV4PWRvbWFpbi5pbmRleE9mKCcuJyk7aWYoZG90SW5kZXg9PTApe3JldHVybiB0aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnMoY29va2llTmFtZSxkb21haW4uc3Vic3RyaW5nKDEpLHBhdGgsZG9jKTt9ZWxzZSBpZihkb3RJbmRleCE9LTEpe3JldHVybiB0aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnMoY29va2llTmFtZSxkb21haW4uc3Vic3RyaW5nKGRvdEluZGV4KSxwYXRoLGRvYyk7fWVsc2V7Ly8gTm8gbW9yZSBkb3RzOyB0cnkganVzdCBub3QgcGFzc2luZyBpbiBhIGRvbWFpbiBhdCBhbGxcbnJldHVybiB0aGlzLl9tYXliZURlbGV0ZUNvb2tpZShjb29raWVOYW1lLG51bGwscGF0aCxkb2MpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZT1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7bGV0IHNsYXNoSW5kZXg9cGF0aC5sYXN0SW5kZXhPZignLycpO2xldCBmaW5hbEluZGV4PXBhdGgubGVuZ3RoLTE7aWYoc2xhc2hJbmRleD09ZmluYWxJbmRleCl7c2xhc2hJbmRleC0tO31pZihzbGFzaEluZGV4IT0tMSl7Y29uc3QgZGVsZXRlZD10aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoLnN1YnN0cmluZygwLHNsYXNoSW5kZXgrMSksZG9jKTtpZihkZWxldGVkKXJldHVybiB0cnVlO31yZXR1cm4gdGhpcy5fcmVjdXJzaXZlbHlEZWxldGVDb29raWVEb21haW5zKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlY3Vyc2l2ZWx5RGVsZXRlQ29va2llPWZ1bmN0aW9uKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsd2luKXtpZighd2luKXdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtsZXQgZG9jPXdpbi5kb2N1bWVudDtpZighZG9tYWluKXtkb21haW49ZG9jLmRvbWFpbjt9aWYoIXBhdGgpe3BhdGg9d2luLmxvY2F0aW9uLnBhdGhuYW1lO31sZXQgZGVsZXRlZD10aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLCcuJytkb21haW4scGF0aCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuOy8vIEZpbmFsbHkgdHJ5IGEgbnVsbCBwYXRoIChUcnkgaXQgbGFzdCBiZWNhdXNlIGl0J3MgdW5jb21tb24pXG5kZWxldGVkPXRoaXMuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llRG9tYWlucyhjb29raWVOYW1lLCcuJytkb21haW4sbnVsbCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuO3Rocm93IG5ldyBTZWxlbml1bUVycm9yKFwiQ291bGRuJ3QgZGVsZXRlIGNvb2tpZSBcIitjb29raWVOYW1lKTt9Oy8qXHJcbiAqIEZpbmRzIGFuIGVsZW1lbnQgb24gdGhlIGN1cnJlbnQgcGFnZSwgdXNpbmcgdmFyaW91cyBsb29rdXAgcHJvdG9jb2xzXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRFbGVtZW50T3JOdWxsPWZ1bmN0aW9uKGxvY2F0b3Isd2luKXtsb2NhdG9yPXBhcnNlX2xvY2F0b3IobG9jYXRvcik7aWYod2luPT1udWxsKXt3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7fWxldCBlbGVtZW50PWJvdC5sb2NhdG9ycy5maW5kRWxlbWVudCh7W2xvY2F0b3IudHlwZV06bG9jYXRvci5zdHJpbmd9LHdpbi5kb2N1bWVudCk7ZWxlbWVudD1jb3JlLmZpcmVmb3gudW53cmFwKGVsZW1lbnQpOy8vIEVsZW1lbnQgd2FzIG5vdCBmb3VuZCBieSBhbnkgbG9jYXRvciBmdW5jdGlvbi5cbnJldHVybiBlbGVtZW50O307QnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEVsZW1lbnQ9ZnVuY3Rpb24obG9jYXRvcix3aW4pe2xldCBlbGVtZW50PXRoaXMuZmluZEVsZW1lbnRPck51bGwobG9jYXRvcix3aW4pO2lmKGVsZW1lbnQ9PW51bGwpdGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0VsZW1lbnQgJytsb2NhdG9yKycgbm90IGZvdW5kJyk7cmV0dXJuIGNvcmUuZmlyZWZveC51bndyYXAoZWxlbWVudCk7fTsvKipcclxuICogRmluZHMgYSBsaXN0IG9mIGVsZW1lbnRzIHVzaW5nIHRoZSBzYW1lIG1lY2hhbmlzbSBhcyB3ZWJkcml2ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBob3cgVGhlIGZpbmRpbmcgbWVjaGFuaXNtIHRvIHVzZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzaW5nIFRoZSBzZWxlY3RvciB0byB1c2UuXHJcbiAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudH0gcm9vdCBUaGUgcm9vdCBvZiB0aGUgc2VhcmNoIHBhdGguXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRFbGVtZW50c0xpa2VXZWJEcml2ZXI9ZnVuY3Rpb24oaG93LHVzaW5nLHJvb3Qpe2xldCBieT17fTtieVtob3ddPXVzaW5nO2xldCBhbGw9Ym90LmxvY2F0b3JzLmZpbmRFbGVtZW50cyhieSxyb290KTtsZXQgdG9SZXR1cm49Jyc7Zm9yKGxldCBpPTA7aTxhbGwubGVuZ3RoLTE7aSsrKXt0b1JldHVybis9Ym90LmluamVjdC5jYWNoZS5hZGRFbGVtZW50KGNvcmUuZmlyZWZveC51bndyYXAoYWxsW2ldKSkrJywnO31pZihhbGxbYWxsLmxlbmd0aC0xXSl7dG9SZXR1cm4rPWJvdC5pbmplY3QuY2FjaGUuYWRkRWxlbWVudChjb3JlLmZpcmVmb3gudW53cmFwKGFsbFthbGwubGVuZ3RoLTFdKSk7fXJldHVybiB0b1JldHVybjt9Oy8qKlxyXG4gKiBJbiBub24tSUUgYnJvd3NlcnMsIGdldEVsZW1lbnRCeUlkKCkgZG9lcyBub3Qgc2VhcmNoIGJ5IG5hbWUuICBJbnN0ZWFkLCB3ZVxyXG4gKiB3ZSBzZWFyY2ggc2VwYXJhdGVseSBieSBpZCBhbmQgbmFtZS5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmllcj1mdW5jdGlvbihpZGVudGlmaWVyLGluRG9jdW1lbnQsaW5XaW5kb3cpey8vIEhCQyAtIHVzZSBcInRoaXNcIiBpbnN0ZWFkIG9mIFwiQnJvd3NlckJvdC5wcm90b3R5cGVcIjsgb3RoZXJ3aXNlIHdlIGxvc2Vcbi8vIHRoZSBub24tcHJvdG90eXBlIGZpZWxkcyBvZiB0aGUgb2JqZWN0IVxucmV0dXJuIHRoaXMubG9jYXRlRWxlbWVudEJ5SWQoaWRlbnRpZmllcixpbkRvY3VtZW50LGluV2luZG93KXx8QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5TmFtZShpZGVudGlmaWVyLGluRG9jdW1lbnQsaW5XaW5kb3cpfHxudWxsO307LyoqXHJcbiAqIEZpbmQgdGhlIGVsZW1lbnQgd2l0aCBpZCAtIGNhbid0IHJlbHkgb24gZ2V0RWxlbWVudEJ5SWQsIGNveiBpdCByZXR1cm5zIGJ5IG5hbWUgYXMgd2VsbCBpbiBJRS4uXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUlkPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCl7bGV0IGVsZW1lbnQ9aW5Eb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZGVudGlmaWVyKTtpZihlbGVtZW50JiZlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKT09PWlkZW50aWZpZXIpe3JldHVybiBlbGVtZW50O31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzSUV8fGJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpey8vIFNFTC00ODRcbmxldCBlbGVtZW50cz1pbkRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7Zm9yKGxldCBpPTAsbj1lbGVtZW50cy5sZW5ndGg7aTxuOysraSl7ZWxlbWVudD1lbGVtZW50c1tpXTtpZihlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09J2Zvcm0nKXtpZihlbGVtZW50LmF0dHJpYnV0ZXNbJ2lkJ10ubm9kZVZhbHVlPT1pZGVudGlmaWVyKXtyZXR1cm4gZWxlbWVudDt9fWVsc2UgaWYoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk9PWlkZW50aWZpZXIpe3JldHVybiBlbGVtZW50O319cmV0dXJuIG51bGw7fWVsc2V7cmV0dXJuIG51bGw7fX07LyoqXHJcbiAqIEZpbmQgYW4gZWxlbWVudCBieSBuYW1lLCByZWZpbmVkIGJ5IChvcHRpb25hbCkgZWxlbWVudC1maWx0ZXJcclxuICogZXhwcmVzc2lvbnMuXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeU5hbWU9ZnVuY3Rpb24obG9jYXRvcixkb2N1bWVudCl7bGV0IGVsZW1lbnRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTEvMjNcbi8qXHJcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBsb2NhdG9yLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZmlsdGVyc1swXSA9ICduYW1lPScgKyBmaWx0ZXJzWzBdO1xyXG5cclxuICAgICAgICB3aGlsZSAoZmlsdGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLnNlbGVjdEVsZW1lbnRzKGZpbHRlciwgZWxlbWVudHMsICd2YWx1ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL2xldCBmaWx0ZXI9J25hbWU9Jytsb2NhdG9yO2VsZW1lbnRzPXRoaXMuc2VsZWN0RWxlbWVudHMoZmlsdGVyLGVsZW1lbnRzLCd2YWx1ZScpO2lmKGVsZW1lbnRzLmxlbmd0aD4wKXtyZXR1cm4gZWxlbWVudHNbMF07fXJldHVybiBudWxsO307LyoqXHJcbiAqIEZpbmRzIGFuIGVsZW1lbnQgdXNpbmcgYnkgZXZhbHVhdGluZyB0aGUgc3BlY2ZpZWQgc3RyaW5nLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlEb21UcmF2ZXJzYWw9ZnVuY3Rpb24oZG9tVHJhdmVyc2FsKXtsZXQgZWxlbWVudD1udWxsOy8vRXZhbGluc2FuZGJveFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5sZXQgbXlTYW5kYm94PW5ldyBDb21wb25lbnRzLnV0aWxzLlNhbmRib3godGhpcy5jdXJyZW50V2luZG93LmxvY2F0aW9uLmhyZWYpO215U2FuZGJveC5kb21UcmF2ZXJzYWw9ZG9tVHJhdmVyc2FsO3RyeXsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmVsZW1lbnQ9Q29tcG9uZW50cy51dGlscy5ldmFsSW5TYW5kYm94KGRvbVRyYXZlcnNhbCxteVNhbmRib3gpOy8vZWxlbWVudCA9IGV2YWwoZG9tVHJhdmVyc2FsKTtcbn1jYXRjaChlKXtyZXR1cm4gbnVsbDt9aWYoIWVsZW1lbnQpe3JldHVybiBudWxsO31yZXR1cm4gZWxlbWVudDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeURvbVRyYXZlcnNhbC5wcmVmaXg9J2RvbSc7QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5U3RvcmVkUmVmZXJlbmNlPWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXtyZXR1cm4gY29yZS5sb2NhdG9ycy5maW5kRWxlbWVudCgnc3RvcmVkPScrbG9jYXRvcik7fWNhdGNoKGUpe3JldHVybiBudWxsO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVN0b3JlZFJlZmVyZW5jZS5wcmVmaXg9J3N0b3JlZCc7QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5V2ViRHJpdmVyPWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXtyZXR1cm4gY29yZS5sb2NhdG9ycy5maW5kRWxlbWVudCgnd2ViZHJpdmVyPScrbG9jYXRvcik7fWNhdGNoKGUpe3JldHVybiBudWxsO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVdlYkRyaXZlci5wcmVmaXg9J3dlYmRyaXZlcic7LyoqXHJcbiAqIEZpbmRzIGFuIGVsZW1lbnQgaWRlbnRpZmllZCBieSB0aGUgeHBhdGggZXhwcmVzc2lvbi4gRXhwcmVzc2lvbnMgX211c3RfXHJcbiAqIGJlZ2luIHdpdGggXCIvL1wiLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlYUGF0aD1mdW5jdGlvbih4cGF0aCxpbkRvY3VtZW50KXtyZXR1cm4gdGhpcy54cGF0aEV2YWx1YXRvci5zZWxlY3RTaW5nbGVOb2RlKGluRG9jdW1lbnQseHBhdGgsbnVsbCxpbkRvY3VtZW50LmNyZWF0ZU5TUmVzb2x2ZXI/aW5Eb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyKGluRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTp0aGlzLl9uYW1lc3BhY2VSZXNvbHZlcik7fTsvKipcclxuICogRmluZCBtYW55IGVsZW1lbnRzIHVzaW5nIHhwYXRoLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30geHBhdGggWFBhdGggZXhwcmVzc2lvbiB0byBzZWFyY2ggZm9yLlxyXG4gKiBAcGFyYW0gez1Eb2N1bWVudH0gaW5Eb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gc2VhcmNoIGluLlxyXG4gKiBAcGFyYW0gez1XaW5kb3d9IGluV2luZG93IFRoZSB3aW5kb3cgdGhlIGRvY3VtZW50IGlzIGluLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50c0J5WFBhdGg9ZnVuY3Rpb24oeHBhdGgsaW5Eb2N1bWVudCl7cmV0dXJuIHRoaXMueHBhdGhFdmFsdWF0b3Iuc2VsZWN0Tm9kZXMoaW5Eb2N1bWVudCx4cGF0aCxudWxsLGluRG9jdW1lbnQuY3JlYXRlTlNSZXNvbHZlcj9pbkRvY3VtZW50LmNyZWF0ZU5TUmVzb2x2ZXIoaW5Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOnRoaXMuX25hbWVzcGFjZVJlc29sdmVyKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9uYW1lc3BhY2VSZXNvbHZlcj1mdW5jdGlvbihwcmVmaXgpe2lmKHByZWZpeD09J2h0bWwnfHxwcmVmaXg9PSd4aHRtbCd8fHByZWZpeD09J3gnKXtyZXR1cm4naHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7fWVsc2UgaWYocHJlZml4PT0nbWF0aG1sJyl7cmV0dXJuJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO31lbHNlIGlmKHByZWZpeD09J3N2Zycpe3JldHVybidodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5hbWVzcGFjZTogJytwcmVmaXgrJy4nKTt9fTsvKipcclxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHhwYXRoIHJlc3VsdHMuXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmV2YWx1YXRlWFBhdGhDb3VudD1mdW5jdGlvbihzZWxlY3RvcixpbkRvY3VtZW50KXtsZXQgbG9jYXRvcj1wYXJzZV9sb2NhdG9yKHNlbGVjdG9yKTtpZihsb2NhdG9yLnR5cGU9PSd4cGF0aCd8fGxvY2F0b3IudHlwZT09J2ltcGxpY2l0Jyl7cmV0dXJuIGJvdC5sb2NhdG9ycy5maW5kRWxlbWVudHMoe3hwYXRoOmxvY2F0b3Iuc3RyaW5nfSxpbkRvY3VtZW50KS5sZW5ndGg7fWVsc2V7Ly9MT0cuZXJyb3IoXCJMb2NhdG9yIGRvZXMgbm90IHVzZSBYUGF0aCBzdHJhdGVneTogXCIgKyBzZWxlY3Rvcik7XG5yZXR1cm4gMDt9fTsvKipcclxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNzcyByZXN1bHRzLlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5ldmFsdWF0ZUNzc0NvdW50PWZ1bmN0aW9uKHNlbGVjdG9yLGluRG9jdW1lbnQpe2xldCBsb2NhdG9yPXBhcnNlX2xvY2F0b3Ioc2VsZWN0b3IpO2lmKGxvY2F0b3IudHlwZT09J2Nzcyd8fGxvY2F0b3IudHlwZT09J2ltcGxpY2l0Jyl7cmV0dXJuIGJvdC5sb2NhdG9ycy5maW5kRWxlbWVudHMoe2Nzczpsb2NhdG9yLnN0cmluZ30saW5Eb2N1bWVudCkubGVuZ3RoO31lbHNley8vTE9HLmVycm9yKFwiTG9jYXRvciBkb2VzIG5vdCB1c2UgQ1NTIHN0cmF0ZWd5OiBcIiArIHNlbGVjdG9yKTtcbnJldHVybiAwO319Oy8qKlxyXG4gKiBGaW5kcyBhIGxpbmsgZWxlbWVudCB3aXRoIHRleHQgbWF0Y2hpbmcgdGhlIGV4cHJlc3Npb24gc3VwcGxpZWQuIEV4cHJlc3Npb25zIG11c3RcclxuICogYmVnaW4gd2l0aCBcImxpbms6XCIuXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUxpbmtUZXh0PWZ1bmN0aW9uKGxpbmtUZXh0LGluRG9jdW1lbnQpe2xldCBsaW5rcz1pbkRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7Zm9yKGxldCBpPTA7aTxsaW5rcy5sZW5ndGg7aSsrKXtsZXQgZWxlbWVudD1saW5rc1tpXTtpZihQYXR0ZXJuTWF0Y2hlci5tYXRjaGVzKGxpbmtUZXh0LGJvdC5kb20uZ2V0VmlzaWJsZVRleHQoZWxlbWVudCkpKXtyZXR1cm4gZWxlbWVudDt9fXJldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5TGlua1RleHQucHJlZml4PSdsaW5rJzsvKipcclxuICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgYmFzZWQgb24gYW4gYXR0cmlidXRlIGxvY2F0b3IuIFRoaXMgaXMgbWFkZSB1cCBvZiBhbiBlbGVtZW50IGxvY2F0b3JcclxuICogc3VmZml4ZWQgd2l0aCBAYXR0cmlidXRlLW5hbWUuXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRBdHRyaWJ1dGU9ZnVuY3Rpb24obG9jYXRvcil7Ly8gU3BsaXQgaW50byBsb2NhdG9yICsgYXR0cmlidXRlTmFtZVxubGV0IGF0dHJpYnV0ZVBvcz1sb2NhdG9yLmxhc3RJbmRleE9mKCdAJyk7bGV0IGVsZW1lbnRMb2NhdG9yPWxvY2F0b3Iuc2xpY2UoMCxhdHRyaWJ1dGVQb3MpO2xldCBhdHRyaWJ1dGVOYW1lPWxvY2F0b3Iuc2xpY2UoYXR0cmlidXRlUG9zKzEpOy8vIEZpbmQgdGhlIGVsZW1lbnQuXG5sZXQgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50KGVsZW1lbnRMb2NhdG9yKTtsZXQgYXR0cmlidXRlVmFsdWU9Ym90LmRvbS5nZXRBdHRyaWJ1dGUoZWxlbWVudCxhdHRyaWJ1dGVOYW1lKTtyZXR1cm4gZ29vZy5pc0RlZkFuZE5vdE51bGwoYXR0cmlidXRlVmFsdWUpP2F0dHJpYnV0ZVZhbHVlLnRvU3RyaW5nKCk6bnVsbDt9Oy8qXHJcbiAqIFNlbGVjdCB0aGUgc3BlY2lmaWVkIG9wdGlvbiBhbmQgdHJpZ2dlciB0aGUgcmVsZXZhbnQgZXZlbnRzIG9mIHRoZSBlbGVtZW50LlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25Ub1NlbGVjdCl7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2xldCBjaGFuZ2VkPWZhbHNlO2ZvcihsZXQgaT0wO2k8ZWxlbWVudC5vcHRpb25zLmxlbmd0aDtpKyspe2xldCBvcHRpb249ZWxlbWVudC5vcHRpb25zW2ldO2lmKG9wdGlvbi5zZWxlY3RlZCYmb3B0aW9uIT1vcHRpb25Ub1NlbGVjdCl7b3B0aW9uLnNlbGVjdGVkPWZhbHNlO2NoYW5nZWQ9dHJ1ZTt9ZWxzZSBpZighb3B0aW9uLnNlbGVjdGVkJiZvcHRpb249PW9wdGlvblRvU2VsZWN0KXtvcHRpb24uc2VsZWN0ZWQ9dHJ1ZTtjaGFuZ2VkPXRydWU7fX1pZihjaGFuZ2VkKXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO319Oy8qXHJcbiAqIFNlbGVjdCB0aGUgc3BlY2lmaWVkIG9wdGlvbiBhbmQgdHJpZ2dlciB0aGUgcmVsZXZhbnQgZXZlbnRzIG9mIHRoZSBlbGVtZW50LlxyXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5hZGRTZWxlY3Rpb249ZnVuY3Rpb24oZWxlbWVudCxvcHRpb24pe3RoaXMuY2hlY2tNdWx0aXNlbGVjdChlbGVtZW50KTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7aWYoIW9wdGlvbi5zZWxlY3RlZCl7b3B0aW9uLnNlbGVjdGVkPXRydWU7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9fTsvKlxyXG4gKiBTZWxlY3QgdGhlIHNwZWNpZmllZCBvcHRpb24gYW5kIHRyaWdnZXIgdGhlIHJlbGV2YW50IGV2ZW50cyBvZiB0aGUgZWxlbWVudC5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9uKXt0aGlzLmNoZWNrTXVsdGlzZWxlY3QoZWxlbWVudCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2lmKG9wdGlvbi5zZWxlY3RlZCl7b3B0aW9uLnNlbGVjdGVkPWZhbHNlO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuY2hlY2tNdWx0aXNlbGVjdD1mdW5jdGlvbihlbGVtZW50KXtpZighZWxlbWVudC5tdWx0aXBsZSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ05vdCBhIG11bHRpLXNlbGVjdCcpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlcGxhY2VUZXh0PWZ1bmN0aW9uKGVsZW1lbnQsc3RyaW5nVmFsdWUpe2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5TRUxFQ1QpO2xldCBtYXhMZW5ndGhBdHRyPWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtYXhMZW5ndGgnKTtsZXQgYWN0dWFsVmFsdWU9c3RyaW5nVmFsdWU7aWYobWF4TGVuZ3RoQXR0ciE9bnVsbCl7bGV0IG1heExlbmd0aD1wYXJzZUludChtYXhMZW5ndGhBdHRyKTtpZihzdHJpbmdWYWx1ZS5sZW5ndGg+bWF4TGVuZ3RoKXthY3R1YWxWYWx1ZT1zdHJpbmdWYWx1ZS5zdWJzdHIoMCxtYXhMZW5ndGgpO319aWYoZ2V0VGFnTmFtZShlbGVtZW50KT09J2JvZHknKXtpZihlbGVtZW50Lm93bmVyRG9jdW1lbnQmJmVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKXtsZXQgZGVzaWduTW9kZT1uZXcgU3RyaW5nKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKS50b0xvd2VyQ2FzZSgpO2lmKGRlc2lnbk1vZGU9PSdvbicpey8vIHRoaXMgbXVzdCBiZSBhIHJpY2ggdGV4dCBjb250cm9sIVxuZWxlbWVudC5pbm5lckhUTUw9YWN0dWFsVmFsdWU7fX19ZWxzZXtlbGVtZW50LnZhbHVlPWFjdHVhbFZhbHVlO30vLyBER0YgdGhpcyB1c2VkIHRvIGJlIHNraXBwZWQgaW4gY2hyb21lIFVSTHMsIGJ1dCBubyBsb25nZXIuICBJcyB4cGNuYXRpdmV3cmFwcGVycyB0byBibGFtZT9cbnRyeXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxufTtCcm93c2VyQm90LnByb3RvdHlwZS5jbGlja0VsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3RoaXMuX2ZpcmVFdmVudE9uRWxlbWVudCgnY2xpY2snLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmRvdWJsZUNsaWNrRWxlbWVudD1mdW5jdGlvbihlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7dGhpcy5fZmlyZUV2ZW50T25FbGVtZW50KCdkYmxjbGljaycsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpO307Ly8gVGhlIGNvbnRleHRtZW51IGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHVzZXIgcmlnaHQtY2xpY2tzIHRvIG9wZW4gdGhlIGNvbnRleHQgbWVudVxuQnJvd3NlckJvdC5wcm90b3R5cGUuY29udGV4dE1lbnVPbkVsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3RoaXMuX2ZpcmVFdmVudE9uRWxlbWVudCgnY29udGV4dG1lbnUnLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKTt9Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA1LzI2XG4vL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8xN1xuQnJvd3NlckJvdC5wcm90b3R5cGUuX21vZGlmeUVsZW1lbnRUYXJnZXQ9ZnVuY3Rpb24oZSl7bGV0IGVsZW1lbnQ9dGhpcy5maW5kQ2xpY2thYmxlRWxlbWVudChlKXx8ZTtpZihlbGVtZW50LnRhcmdldCl7aWYoZWxlbWVudC50YXJnZXQ9PSdfYmxhbmsnfHwvXnNlbGVuaXVtX2JsYW5rLy50ZXN0KGVsZW1lbnQudGFyZ2V0KSl7bGV0IHRhZ05hbWU9Z2V0VGFnTmFtZShlbGVtZW50KTtpZih0YWdOYW1lPT0nYSd8fHRhZ05hbWU9PSdmb3JtJyl7Y29uc3QgbmV3VGFyZ2V0PSd3aW5fc2VyXycrdGhpcy5jb3VudDt0aGlzLmNvdW50Kz0xO3RoaXMuYnJvd3NlcmJvdC5vcGVuV2luZG93KCcnLG5ld1RhcmdldCk7ZWxlbWVudC50YXJnZXQ9bmV3VGFyZ2V0O319ZWxzZXtjb25zdCBuZXdUYXJnZXQ9ZWxlbWVudC50YXJnZXQ7dGhpcy5icm93c2VyYm90Lm9wZW5XaW5kb3coJycsbmV3VGFyZ2V0KTtlbGVtZW50LnRhcmdldD1uZXdUYXJnZXQ7fX19Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzExLzE3XG5Ccm93c2VyQm90LnByb3RvdHlwZS5maW5kQ2xpY2thYmxlRWxlbWVudD1mdW5jdGlvbihlKXtpZighZS50YWdOYW1lKXJldHVybiBudWxsO2xldCB0YWdOYW1lPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2xldCB0eXBlPWUudHlwZTtpZihlLmhhc0F0dHJpYnV0ZSgnb25jbGljaycpfHxlLmhhc0F0dHJpYnV0ZSgnaHJlZicpfHxlLmhhc0F0dHJpYnV0ZSgndXJsJyl8fHRhZ05hbWU9PSdidXR0b24nfHx0YWdOYW1lPT0naW5wdXQnJiYodHlwZT09J3N1Ym1pdCd8fHR5cGU9PSdidXR0b24nfHx0eXBlPT0naW1hZ2UnfHx0eXBlPT0ncmFkaW8nfHx0eXBlPT0nY2hlY2tib3gnfHx0eXBlPT0ncmVzZXQnKSl7cmV0dXJuIGU7fWVsc2V7aWYoZS5wYXJlbnROb2RlIT1udWxsKXtyZXR1cm4gdGhpcy5maW5kQ2xpY2thYmxlRWxlbWVudChlLnBhcmVudE5vZGUpO31lbHNle3JldHVybiBudWxsO319fTtCcm93c2VyQm90LnByb3RvdHlwZS5faGFuZGxlQ2xpY2tpbmdJbWFnZXNJbnNpZGVMaW5rcz1mdW5jdGlvbih0YXJnZXRXaW5kb3csZWxlbWVudCl7bGV0IGl0ckVsZW1lbnQ9ZWxlbWVudDt3aGlsZShpdHJFbGVtZW50IT1udWxsKXtpZihpdHJFbGVtZW50LmhyZWYpe3RhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmPWl0ckVsZW1lbnQuaHJlZjticmVhazt9aXRyRWxlbWVudD1pdHJFbGVtZW50LnBhcmVudE5vZGU7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX2dldFRhcmdldFdpbmRvdz1mdW5jdGlvbihlbGVtZW50KXtsZXQgdGFyZ2V0V2luZG93PWVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztpZihlbGVtZW50LnRhcmdldCl7dGFyZ2V0V2luZG93PXRoaXMuX2dldEZyYW1lRnJvbUdsb2JhbChlbGVtZW50LnRhcmdldCk7fXJldHVybiB0YXJnZXRXaW5kb3c7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0RnJhbWVGcm9tR2xvYmFsPWZ1bmN0aW9uKHRhcmdldCl7aWYodGFyZ2V0PT0nX3NlbGYnKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCk7fWlmKHRhcmdldD09J190b3AnKXtyZXR1cm4gdGhpcy50b3BGcmFtZTt9ZWxzZSBpZih0YXJnZXQ9PSdfcGFyZW50Jyl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLnBhcmVudDt9ZWxzZSBpZih0YXJnZXQ9PSdfYmxhbmsnKXsvLyBUT0RPIHNob3VsZCB0aGlzIHNldCBjbGV2ZXJlciB3aW5kb3cgZGVmYXVsdHM/XG5yZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCkub3BlbignJywnX2JsYW5rJyk7fWxldCBmcmFtZUVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudEJ5KCdpbXBsaWNpdCcsdGFyZ2V0LHRoaXMudG9wRnJhbWUuZG9jdW1lbnQsdGhpcy50b3BGcmFtZSk7aWYoZnJhbWVFbGVtZW50KXtyZXR1cm4gZnJhbWVFbGVtZW50LmNvbnRlbnRXaW5kb3c7fWxldCB3aW49dGhpcy5nZXRXaW5kb3dCeU5hbWUodGFyZ2V0KTtpZih3aW4pcmV0dXJuIHdpbjtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCkub3BlbignJyx0YXJnZXQpO307QnJvd3NlckJvdC5wcm90b3R5cGUuYm9keVRleHQ9ZnVuY3Rpb24oKXtpZighdGhpcy5nZXREb2N1bWVudCgpLmJvZHkpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKFwiQ291bGRuJ3QgYWNjZXNzIGRvY3VtZW50LmJvZHkuICBJcyB0aGlzIEhUTUwgcGFnZSBmdWxseSBsb2FkZWQ/XCIpO31yZXR1cm4gYm90LmRvbS5nZXRWaXNpYmxlVGV4dCh0aGlzLmdldERvY3VtZW50KCkuYm9keSk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxCdXR0b25zPWZ1bmN0aW9uKCl7bGV0IGVsZW1lbnRzPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtsZXQgcmVzdWx0PVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7aWYoZWxlbWVudHNbaV0udHlwZT09J2J1dHRvbid8fGVsZW1lbnRzW2ldLnR5cGU9PSdzdWJtaXQnfHxlbGVtZW50c1tpXS50eXBlPT0ncmVzZXQnKXtyZXN1bHQucHVzaChlbGVtZW50c1tpXS5pZCk7fX1yZXR1cm4gcmVzdWx0O307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsRmllbGRzPWZ1bmN0aW9uKCl7bGV0IGVsZW1lbnRzPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtsZXQgcmVzdWx0PVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7aWYoZWxlbWVudHNbaV0udHlwZT09J3RleHQnKXtyZXN1bHQucHVzaChlbGVtZW50c1tpXS5pZCk7fX1yZXR1cm4gcmVzdWx0O307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsTGlua3M9ZnVuY3Rpb24oKXtsZXQgZWxlbWVudHM9dGhpcy5nZXREb2N1bWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7bGV0IHJlc3VsdD1bXTtmb3IobGV0IGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspe3Jlc3VsdC5wdXNoKGVsZW1lbnRzW2ldLmlkKTt9cmV0dXJuIHJlc3VsdDt9O2Z1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSl7cmV0dXJuIHR5cGVvZiB2YWx1ZSE9dW5kZWZpbmVkO31Ccm93c2VyQm90LnByb3RvdHlwZS5nb0JhY2s9ZnVuY3Rpb24oKXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5oaXN0b3J5LmJhY2soKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdvRm9yd2FyZD1mdW5jdGlvbigpe3RoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmhpc3RvcnkuZm9yd2FyZCgpO307QnJvd3NlckJvdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZihicm93c2VyVmVyc2lvbi5pc0lFKXsvLyBmaXggXCJkbyB5b3Ugd2FudCB0byBjbG9zZSB0aGlzIHdpbmRvd1wiIHdhcm5pbmcgaW4gSUVcbi8vIFlvdSBjYW4gb25seSBjbG9zZSB3aW5kb3dzIHRoYXQgeW91IGhhdmUgb3BlbmVkLlxuLy8gU28sIGxldCdzIFwib3BlblwiIGl0LlxudHJ5e3RoaXMudG9wRnJhbWUubmFtZT1uZXcgRGF0ZSgpLmdldFRpbWUoKTt3aW5kb3cub3BlbignJyx0aGlzLnRvcEZyYW1lLm5hbWUsJycpO3RoaXMudG9wRnJhbWUuY2xvc2UoKTtyZXR1cm47fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG59aWYoYnJvd3NlclZlcnNpb24uaXNDaHJvbWV8fGJyb3dzZXJWZXJzaW9uLmlzU2FmYXJpfHxicm93c2VyVmVyc2lvbi5pc09wZXJhKXt0aGlzLnRvcEZyYW1lLmNsb3NlKCk7fWVsc2V7dGhpcy5nZXRDdXJyZW50V2luZG93KCkuZXZhbCgnd2luZG93LnRvcC5jbG9zZSgpOycpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7fTsvKipcclxuICogUmVmaW5lIGEgbGlzdCBvZiBlbGVtZW50cyB1c2luZyBhIGZpbHRlci5cclxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuc2VsZWN0RWxlbWVudHNCeT1mdW5jdGlvbihmaWx0ZXJUeXBlLGZpbHRlcixlbGVtZW50cyl7bGV0IGZpbHRlckZ1bmN0aW9uPUJyb3dzZXJCb3QuZmlsdGVyRnVuY3Rpb25zW2ZpbHRlclR5cGVdO2lmKCFmaWx0ZXJGdW5jdGlvbil7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJVbnJlY29nbmlzZWQgZWxlbWVudC1maWx0ZXIgdHlwZTogJ1wiK2ZpbHRlclR5cGUrXCInXCIpO31yZXR1cm4gZmlsdGVyRnVuY3Rpb24oZmlsdGVyLGVsZW1lbnRzKTt9O0Jyb3dzZXJCb3QuZmlsdGVyRnVuY3Rpb25zPXt9O0Jyb3dzZXJCb3QuZmlsdGVyRnVuY3Rpb25zLm5hbWU9ZnVuY3Rpb24obmFtZSxlbGVtZW50cyl7bGV0IHNlbGVjdGVkRWxlbWVudHM9W107Zm9yKGxldCBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXtpZihlbGVtZW50c1tpXS5uYW1lPT09bmFtZSl7c2VsZWN0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnRzW2ldKTt9fXJldHVybiBzZWxlY3RlZEVsZW1lbnRzO307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnMudmFsdWU9ZnVuY3Rpb24odmFsdWUsZWxlbWVudHMpe2xldCBzZWxlY3RlZEVsZW1lbnRzPVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7aWYoZWxlbWVudHNbaV0udmFsdWU9PT12YWx1ZSl7c2VsZWN0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnRzW2ldKTt9fXJldHVybiBzZWxlY3RlZEVsZW1lbnRzO307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnMuaW5kZXg9ZnVuY3Rpb24oaW5kZXgsZWxlbWVudHMpe2luZGV4PU51bWJlcihpbmRleCk7aWYoaXNOYU4oaW5kZXgpfHxpbmRleDwwKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignSWxsZWdhbCBJbmRleDogJytpbmRleCk7fWlmKGVsZW1lbnRzLmxlbmd0aDw9aW5kZXgpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO31yZXR1cm5bZWxlbWVudHNbaW5kZXhdXTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdEVsZW1lbnRzPWZ1bmN0aW9uKGZpbHRlckV4cHIsZWxlbWVudHMsZGVmYXVsdEZpbHRlclR5cGUpe2xldCBmaWx0ZXJUeXBlPWRlZmF1bHRGaWx0ZXJUeXBlfHwndmFsdWUnOy8vIElmIHRoZXJlIGlzIGEgZmlsdGVyIHByZWZpeCwgdXNlIHRoZSBzcGVjaWZpZWQgc3RyYXRlZ3lcbmxldCByZXN1bHQ9ZmlsdGVyRXhwci5tYXRjaCgvXihbQS1aYS16XSspPSguKykvKTtpZihyZXN1bHQpe2ZpbHRlclR5cGU9cmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7ZmlsdGVyRXhwcj1yZXN1bHRbMl07fXJldHVybiB0aGlzLnNlbGVjdEVsZW1lbnRzQnkoZmlsdGVyVHlwZSxmaWx0ZXJFeHByLGVsZW1lbnRzKTt9Oy8qKlxyXG4gKiBGaW5kIGFuIGVsZW1lbnQgYnkgY3NzIHNlbGVjdG9yXHJcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUNzcz1mdW5jdGlvbihsb2NhdG9yLGRvY3VtZW50KXtsZXQgZWxlbWVudHM9Ym90LmxvY2F0b3JzLmZpbmRFbGVtZW50cyh7Y3NzOmxvY2F0b3J9LGRvY3VtZW50KTtpZihlbGVtZW50cy5sZW5ndGghPTApcmV0dXJuIGVsZW1lbnRzWzBdO3JldHVybiBudWxsO307LyogcHJvbXB0ICovQnJvd3NlckJvdC5wcm90b3R5cGUuY2FuY2VsTmV4dFByb21wdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldE5leHRQcm9tcHRSZXN1bHQobnVsbCk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZXROZXh0UHJvbXB0UmVzdWx0PWZ1bmN0aW9uKHJlc3VsdCl7dGhpcy5wcm9tcHRSZXNwb25zZT1mYWxzZTtsZXQgc2VsZj10aGlzO3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0Jyxjb21tYW5kOidzZXROZXh0UHJvbXB0UmVzdWx0Jyx0YXJnZXQ6cmVzdWx0fSwnKicpO2xldCByZXNwb25zZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bGV0IGNvdW50PTA7bGV0IGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIXNlbGYucHJvbXB0UmVzcG9uc2Upe2NvdW50Kys7aWYoY291bnQ+NjApe3JlamVjdCgnTm8gcmVzcG9uc2UnKTtjbGVhckludGVydmFsKGludGVydmFsKTt9fWVsc2V7cmVzb2x2ZSgpO3NlbGYucHJvbXB0UmVzcG9uc2U9ZmFsc2U7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX0sNTAwKTt9KTtyZXR1cm4gcmVzcG9uc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRQcm9tcHRNZXNzYWdlPWZ1bmN0aW9uKCl7dGhpcy5wcm9tcHRSZXNwb25zZT1mYWxzZTt0aGlzLnByb21wdE1lc3NhZ2U9bnVsbDtsZXQgc2VsZj10aGlzO3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0Jyxjb21tYW5kOidnZXRQcm9tcHRNZXNzYWdlJ30sJyonKTtsZXQgcmVzcG9uc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2xldCBjb3VudD0wO2xldCBpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFzZWxmLnByb21wdFJlc3BvbnNlKXtjb3VudCsrO2lmKGNvdW50PjYwKXtyZWplY3QoJ05vIHJlc3BvbnNlJyk7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX1lbHNle3Jlc29sdmUoc2VsZi5wcm9tcHRNZXNzYWdlKTtzZWxmLnByb21wdFJlc3BvbnNlPWZhbHNlO3NlbGYucHJvbXB0TWVzc2FnZT1udWxsO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319LDUwMCk7fSk7cmV0dXJuIHJlc3BvbnNlO307Ly8gY29uZmlybVxuQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0TmV4dENvbmZpcm1hdGlvblJlc3VsdD1mdW5jdGlvbihyZXN1bHQpe3RoaXMuY29uZmlybWF0aW9uUmVzcG9uc2U9ZmFsc2U7bGV0IHNlbGY9dGhpczt3aW5kb3cucG9zdE1lc3NhZ2Uoe2RpcmVjdGlvbjonZnJvbS1jb250ZW50LXNjcmlwdCcsY29tbWFuZDonc2V0TmV4dENvbmZpcm1hdGlvblJlc3VsdCcsdGFyZ2V0OnJlc3VsdH0sJyonKTtsZXQgcmVzcG9uc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2xldCBjb3VudD0wO2xldCBpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFzZWxmLmNvbmZpcm1hdGlvblJlc3BvbnNlKXtjb3VudCsrO2lmKGNvdW50PjYwKXtyZWplY3QoJ05vIHJlc3BvbnNlJyk7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX1lbHNle3Jlc29sdmUoKTtzZWxmLmNvbmZpcm1hdGlvblJlc3BvbnNlPWZhbHNlO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319LDUwMCk7fSk7cmV0dXJuIHJlc3BvbnNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0Q29uZmlybWF0aW9uTWVzc2FnZT1mdW5jdGlvbigpe3RoaXMuY29uZmlybWF0aW9uUmVzcG9uc2U9ZmFsc2U7dGhpcy5jb25maXJtYXRpb25NZXNzYWdlPW51bGw7bGV0IHNlbGY9dGhpczt3aW5kb3cucG9zdE1lc3NhZ2Uoe2RpcmVjdGlvbjonZnJvbS1jb250ZW50LXNjcmlwdCcsY29tbWFuZDonZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSd9LCcqJyk7bGV0IHJlc3BvbnNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtsZXQgY291bnQ9MDtsZXQgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighc2VsZi5jb25maXJtYXRpb25SZXNwb25zZSl7Y291bnQrKztpZihjb3VudD42MCl7cmVqZWN0KCdObyByZXNwb25zZScpO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319ZWxzZXtyZXNvbHZlKHNlbGYuY29uZmlybWF0aW9uTWVzc2FnZSk7c2VsZi5jb25maXJtYXRpb25SZXNwb25zZT1mYWxzZTtzZWxmLmNvbmZpcm1hdGlvbk1lc3NhZ2U9bnVsbDtjbGVhckludGVydmFsKGludGVydmFsKTt9fSw1MDApO30pO3JldHVybiByZXNwb25zZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldEFsZXJ0TWVzc2FnZT1mdW5jdGlvbigpe2xldCBzZWxmPXRoaXM7bGV0IHJlc3BvbnNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtsZXQgY291bnQ9MDtsZXQgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighc2VsZi5hbGVydFJlc3BvbnNlKXtjb3VudCsrO2lmKGNvdW50PjYwKXtyZWplY3QoJ05vIHJlc3BvbnNlISEhIScpO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319ZWxzZXtyZXNvbHZlKHNlbGYuYWxlcnRNZXNzYWdlKTtzZWxmLmFsZXJ0UmVzcG9uc2U9ZmFsc2U7c2VsZi5hbGVydE1lc3NhZ2U9bnVsbDtjbGVhckludGVydmFsKGludGVydmFsKTt9fSw1MDApO30pO3JldHVybiByZXNwb25zZTt9Oy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gLyogQlJPV1NFUi1TUEVDSUZJQyBGVU5DVElPTlMgT05MWSBBRlRFUiBUSElTIExJTkUgKi9leHBvcnQgY2xhc3MgTW96aWxsYUJyb3dzZXJCb3QgZXh0ZW5kcyBCcm93c2VyQm90e2NvbnN0cnVjdG9yKGZyYW1lKXtzdXBlcihmcmFtZSk7fX1leHBvcnQgY2xhc3MgS29ucXVlcm9yQnJvd3NlckJvdCBleHRlbmRzIEJyb3dzZXJCb3R7Y29uc3RydWN0b3IoZnJhbWUpe3N1cGVyKGZyYW1lKTt9fUtvbnF1ZXJvckJyb3dzZXJCb3QucHJvdG90eXBlLnNldElGcmFtZUxvY2F0aW9uPWZ1bmN0aW9uKGlmcmFtZSxsb2NhdGlvbil7Ly8gV2luZG93IGRvZXNuJ3QgZmlyZSBvbmxvYWQgZXZlbnQgd2hlbiBzZXR0aW5nIHNyYyB0byB0aGUgY3VycmVudCB2YWx1ZSxcbi8vIHNvIHdlIHNldCBpdCB0byBibGFuayBmaXJzdC5cbmlmcmFtZS5zcmM9J2Fib3V0OmJsYW5rJztpZnJhbWUuc3JjPWxvY2F0aW9uO307S29ucXVlcm9yQnJvd3NlckJvdC5wcm90b3R5cGUuX2lzU2FtZURvY3VtZW50PWZ1bmN0aW9uKG9yaWdpbmFsRG9jdW1lbnQsY3VycmVudERvY3VtZW50KXsvLyB1bmRlciBLb25xdWVyb3IsIHRoZXJlIG1heSBiZSB0aGlzIGNhc2U6XG4vLyBvcmlnaW5hbERvY3VtZW50IGFuZCBjdXJyZW50RG9jdW1lbnQgYXJlIGRpZmZlcmVudCBvYmplY3RzXG4vLyB3aGlsZSB0aGVpciBsb2NhdGlvbiBhcmUgc2FtZS5cbmlmKG9yaWdpbmFsRG9jdW1lbnQpe3JldHVybiBvcmlnaW5hbERvY3VtZW50LmxvY2F0aW9uPT1jdXJyZW50RG9jdW1lbnQubG9jYXRpb247fWVsc2V7cmV0dXJuIG9yaWdpbmFsRG9jdW1lbnQ9PT1jdXJyZW50RG9jdW1lbnQ7fX07ZXhwb3J0IGNsYXNzIFNhZmFyaUJyb3dzZXJCb3QgZXh0ZW5kcyBCcm93c2VyQm90e2NvbnN0cnVjdG9yKGZyYW1lKXtzdXBlcihmcmFtZSk7fX1TYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1Lb25xdWVyb3JCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbjtleHBvcnQgY2xhc3MgT3BlcmFCcm93c2VyQm90IGV4dGVuZHMgQnJvd3NlckJvdHtjb25zdHJ1Y3RvcihmcmFtZSl7c3VwZXIoZnJhbWUpO319T3BlcmFCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1mdW5jdGlvbihpZnJhbWUsbG9jYXRpb24pe2lmKGlmcmFtZS5zcmM9PWxvY2F0aW9uKXtpZnJhbWUuc3JjPWxvY2F0aW9uKyc/cmVsb2FkJzt9ZWxzZXtpZnJhbWUuc3JjPWxvY2F0aW9uO319O2V4cG9ydCBjbGFzcyBJRUJyb3dzZXJCb3QgZXh0ZW5kcyBCcm93c2VyQm90e2NvbnN0cnVjdG9yKGZyYW1lKXtzdXBlcihmcmFtZSk7fX1JRUJyb3dzZXJCb3QucHJvdG90eXBlLl9oYW5kbGVDbG9zZWRTdWJGcmFtZT1mdW5jdGlvbih0ZXN0V2luZG93LGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHRlc3RXaW5kb3c7fXRyeXt0ZXN0V2luZG93LmxvY2F0aW9uLmhyZWY7dGhpcy5wZXJtRGVuaWVkPTA7fWNhdGNoKGUpe3RoaXMucGVybURlbmllZCsrO31pZih0aGlzLl93aW5kb3dDbG9zZWQodGVzdFdpbmRvdyl8fHRoaXMucGVybURlbmllZD40KXtpZih0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZCl7Ly9MT0cud2FybihcIkN1cnJlbnQgc3ViZnJhbWUgYXBwZWFycyB0byBoYXZlIGNsb3NlZDsgc2VsZWN0aW5nIHRvcCBmcmFtZVwiKTtcbnRoaXMuc2VsZWN0RnJhbWUoJ3JlbGF0aXZlPXRvcCcpO3JldHVybiB0aGlzLmdldEN1cnJlbnRXaW5kb3coZG9Ob3RNb2RpZnkpO31lbHNle2xldCBjbG9zZWRFcnJvcj1uZXcgU2VsZW5pdW1FcnJvcignQ3VycmVudCB3aW5kb3cgb3IgZnJhbWUgaXMgY2xvc2VkIScpO2Nsb3NlZEVycm9yLndpbmRvd0Nsb3NlZD10cnVlO3Rocm93IGNsb3NlZEVycm9yO319cmV0dXJuIHRlc3RXaW5kb3c7fTtJRUJyb3dzZXJCb3QucHJvdG90eXBlLm1vZGlmeVdpbmRvd1RvUmVjb3JkUG9wVXBEaWFsb2dzPWZ1bmN0aW9uKHdpbmRvd1RvTW9kaWZ5LGJyb3dzZXJCb3Qpe0Jyb3dzZXJCb3QucHJvdG90eXBlLm1vZGlmeVdpbmRvd1RvUmVjb3JkUG9wVXBEaWFsb2dzKHdpbmRvd1RvTW9kaWZ5LGJyb3dzZXJCb3QpOy8vIHdlIHdpbGwgY2FsbCB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGlzIG1ldGhvZCBmcm9tIHdpdGhpbiBvdXIgb3duIGludGVyY2VwdGlvblxubGV0IG9sZFNob3dNb2RhbERpYWxvZz13aW5kb3dUb01vZGlmeS5zaG93TW9kYWxEaWFsb2c7d2luZG93VG9Nb2RpZnkuc2hvd01vZGFsRGlhbG9nPWZ1bmN0aW9uKHVybCxhcmdzLGZlYXR1cmVzKXsvLyBHZXQgcmVsYXRpdmUgZGlyZWN0b3J5IHRvIHdoZXJlIFRlc3RSdW5uZXIuaHRtbCBsaXZlc1xuLy8gQSByaXNreSBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIHVzZXIncyBUZXN0UnVubmVyIGlzIG5hbWVkIFRlc3RSdW5uZXIuaHRtbFxubGV0IGRvY19sb2NhdGlvbj1kb2N1bWVudC5sb2NhdGlvbi50b1N0cmluZygpO2xldCBlbmRfb2ZfYmFzZV9yZWY9ZG9jX2xvY2F0aW9uLmluZGV4T2YoJ1Rlc3RSdW5uZXIuaHRtbCcpO2xldCBiYXNlX3JlZj1kb2NfbG9jYXRpb24uc3Vic3RyaW5nKDAsZW5kX29mX2Jhc2VfcmVmKTtsZXQgcnVuSW50ZXJ2YWw9Jyc7Ly8gT25seSBzZXQgcnVuIGludGVydmFsIGlmIG9wdGlvbnMgaXMgZGVmaW5lZFxuaWYodHlwZW9mIHdpbmRvdy5ydW5PcHRpb25zIT0ndW5kZWZpbmVkJyl7cnVuSW50ZXJ2YWw9JyZydW5JbnRlcnZhbD0nK3J1bk9wdGlvbnMucnVuSW50ZXJ2YWw7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufWxldCB0ZXN0UnVubmVyVVJMPSdUZXN0UnVubmVyLmh0bWw/YXV0bz10cnVlJnNpbmdsZXRlc3Q9Jytlc2NhcGUoYnJvd3NlckJvdC5tb2RhbERpYWxvZ1Rlc3QpKycmYXV0b1VSTD0nK2VzY2FwZSh1cmwpK3J1bkludGVydmFsO2xldCBmdWxsVVJMPWJhc2VfcmVmK3Rlc3RSdW5uZXJVUkw7YnJvd3NlckJvdC5tb2RhbERpYWxvZ1Rlc3Q9bnVsbDsvLyBJZiB1c2luZyBwcm94eSBpbmplY3Rpb24gbW9kZVxuaWYodGhpcy5wcm94eUluamVjdGlvbk1vZGUpe2Z1bGxVUkw9dXJsO31sZXQgcmV0dXJuVmFsdWU9b2xkU2hvd01vZGFsRGlhbG9nKGZ1bGxVUkwsYXJncyxmZWF0dXJlcyk7cmV0dXJuIHJldHVyblZhbHVlO307fTtJRUJyb3dzZXJCb3QucHJvdG90eXBlLm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzPWZ1bmN0aW9uKHdpbmRvd09iamVjdCl7dGhpcy5wYWdlVW5sb2FkaW5nPWZhbHNlO2xldCBzZWxmPXRoaXM7bGV0IHBhZ2VVbmxvYWREZXRlY3Rvcj1mdW5jdGlvbigpe3NlbGYucGFnZVVubG9hZGluZz10cnVlO307aWYod2luZG93T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIpe3dpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcix0cnVlKTt9ZWxzZXt3aW5kb3dPYmplY3QuYXR0YWNoRXZlbnQoJ29uYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IpO31Ccm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcy5jYWxsKHRoaXMsd2luZG93T2JqZWN0KTt9O0lFQnJvd3NlckJvdC5wcm90b3R5cGUucG9sbEZvckxvYWQ9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7Ly9MT0cuZGVidWcoXCJJRUJyb3dzZXJCb3QucG9sbEZvckxvYWQ6IFwiICsgbWFya2VyKTtcbmlmKCF0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdKXRoaXMucGVybURlbmllZENvdW50W21hcmtlcl09MDtCcm93c2VyQm90LnByb3RvdHlwZS5wb2xsRm9yTG9hZC5jYWxsKHRoaXMsbG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcik7aWYodGhpcy5wYWdlTG9hZEVycm9yKXtpZih0aGlzLnBhZ2VVbmxvYWRpbmcpey8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgVU5MT0FESU5HIChcIiArIG1hcmtlciArIFwiKTogY2F1Z2h0IGV4Y2VwdGlvbiB3aGlsZSBmaXJpbmcgZXZlbnRzIG9uIHVubG9hZGluZyBwYWdlOiBcIiArIHRoaXMucGFnZUxvYWRFcnJvci5tZXNzYWdlKTtcbnRoaXMucmVzY2hlZHVsZVBvbGxlcihsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTt0aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDtyZXR1cm47fWVsc2UgaWYoKHRoaXMucGFnZUxvYWRFcnJvci5tZXNzYWdlPT0nUGVybWlzc2lvbiBkZW5pZWQnfHwvXkFjY2VzcyBpcyBkZW5pZWQvLnRlc3QodGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UpKSYmdGhpcy5wZXJtRGVuaWVkQ291bnRbbWFya2VyXSsrPDgpe2lmKHRoaXMucGVybURlbmllZENvdW50W21hcmtlcl0+NCl7bGV0IGNhbkFjY2Vzc1RoaXNXaW5kb3c7bGV0IGNhbkFjY2Vzc0N1cnJlbnRseVNlbGVjdGVkV2luZG93O3RyeXt3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZjtjYW5BY2Nlc3NUaGlzV2luZG93PXRydWU7fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG50cnl7dGhpcy5nZXRDdXJyZW50V2luZG93KHRydWUpLmxvY2F0aW9uLmhyZWY7Y2FuQWNjZXNzQ3VycmVudGx5U2VsZWN0ZWRXaW5kb3c9dHJ1ZTt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbmlmKGNhbkFjY2Vzc0N1cnJlbnRseVNlbGVjdGVkV2luZG93JiFjYW5BY2Nlc3NUaGlzV2luZG93KXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIChcIiArIG1hcmtlciArIFwiKSBBQk9SVElORzogXCIgKyB0aGlzLnBhZ2VMb2FkRXJyb3IubWVzc2FnZSArIFwiIChcIiArIHRoaXMucGVybURlbmllZENvdW50W21hcmtlcl0gKyBcIiksIGJ1dCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHdpbmRvdyBpcyBmaW5lXCIpO1xuLy8gcmV0dXJuaW5nIHdpdGhvdXQgcmVzY2hlZHVsaW5nXG50aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDtyZXR1cm47fX0vL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIChcIiArIG1hcmtlciArIFwiKTogXCIgKyB0aGlzLnBhZ2VMb2FkRXJyb3IubWVzc2FnZSArIFwiIChcIiArIHRoaXMucGVybURlbmllZENvdW50W21hcmtlcl0gKyBcIiksIHdhaXRpbmcgdG8gc2VlIGlmIGl0IGdvZXMgYXdheVwiKTtcbnRoaXMucmVzY2hlZHVsZVBvbGxlcihsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTt0aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDtyZXR1cm47fS8vaGFuZHkgZm9yIGRlYnVnZ2luZyFcbi8vdGhyb3cgdGhpcy5wYWdlTG9hZEVycm9yO1xufX07SUVCcm93c2VyQm90LnByb3RvdHlwZS5fd2luZG93Q2xvc2VkPWZ1bmN0aW9uKHdpbil7dHJ5e2xldCBjPXdpbi5jbG9zZWQ7Ly8gZnJhbWUgd2luZG93cyBjbGFpbSB0byBiZSBub24tY2xvc2VkIHdoZW4gdGhlaXIgcGFyZW50cyBhcmUgY2xvc2VkXG4vLyBidXQgeW91IGNhbid0IGFjY2VzcyB0aGVpciBkb2N1bWVudCBvYmplY3RzIGluIHRoYXQgY2FzZVxuaWYoIWMpe3RyeXt3aW4uZG9jdW1lbnQ7fWNhdGNoKGRlKXtpZihkZS5tZXNzYWdlPT0nUGVybWlzc2lvbiBkZW5pZWQnKXsvLyB0aGUgd2luZG93IGlzIHByb2JhYmx5IHVubG9hZGluZywgd2hpY2ggbWVhbnMgaXQncyBwcm9iYWJseSBub3QgY2xvc2VkIHlldFxucmV0dXJuIGZhbHNlO31lbHNlIGlmKC9eQWNjZXNzIGlzIGRlbmllZC8udGVzdChkZS5tZXNzYWdlKSl7Ly8gcmFyZSB2YXJpYXRpb24gb24gXCJQZXJtaXNzaW9uIGRlbmllZFwiP1xuLy9MT0cuZGVidWcoXCJJRUJyb3dzZXJCb3Qud2luZG93Q2xvc2VkOiBnb3QgXCIgKyBkZS5tZXNzYWdlICsgXCIgKHRoaXMucGFnZVVubG9hZGluZz1cIiArIHRoaXMucGFnZVVubG9hZGluZyArIFwiKTsgYXNzdW1pbmcgd2luZG93IGlzIHVubG9hZGluZywgcHJvYmFibHkgbm90IGNsb3NlZCB5ZXRcIik7XG5yZXR1cm4gZmFsc2U7fWVsc2V7Ly8gdGhpcyBpcyBwcm9iYWJseSBvbmUgb2YgdGhvc2UgZnJhbWUgd2luZG93IHNpdHVhdGlvbnNcbi8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90LndpbmRvd0Nsb3NlZDogY291bGRuJ3QgcmVhZCB3aW4uZG9jdW1lbnQsIGFzc3VtZSBjbG9zZWQ6IFwiICsgZGUubWVzc2FnZSArIFwiICh0aGlzLnBhZ2VVbmxvYWRpbmc9XCIgKyB0aGlzLnBhZ2VVbmxvYWRpbmcgKyBcIilcIik7XG5yZXR1cm4gdHJ1ZTt9fX1pZihjPT1udWxsKXsvL0xPRy5kZWJ1ZyhcIklFQnJvd3NlckJvdC53aW5kb3dDbG9zZWQ6IHdpbi5jbG9zZWQgd2FzIG51bGwsIGFzc3VtaW5nIGNsb3NlZFwiKTtcbnJldHVybiB0cnVlO31yZXR1cm4gYzt9Y2F0Y2goZSl7Ly9MT0cuZGVidWcoXCJJRUJyb3dzZXJCb3QuX3dpbmRvd0Nsb3NlZDogR290IGFuIGV4Y2VwdGlvbiB0cnlpbmcgdG8gcmVhZCB3aW4uY2xvc2VkOyB3ZSdsbCBoYXZlIHRvIHRha2UgYSBndWVzcyFcIik7XG5pZihicm93c2VyVmVyc2lvbi5pc0hUQSl7aWYoZS5tZXNzYWdlPT0nUGVybWlzc2lvbiBkZW5pZWQnKXsvLyB0aGUgd2luZG93IGlzIHByb2JhYmx5IHVubG9hZGluZywgd2hpY2ggbWVhbnMgaXQncyBub3QgY2xvc2VkIHlldFxucmV0dXJuIGZhbHNlO31lbHNley8vIHRoZXJlJ3MgYSBnb29kIGNoYW5jZSB0aGF0IHdlJ3ZlIGxvc3QgY29udGFjdCB3aXRoIHRoZSB3aW5kb3cgb2JqZWN0IGlmIGl0IGlzIGNsb3NlZFxucmV0dXJuIHRydWU7fX1lbHNley8vIHRoZSB3aW5kb3cgaXMgcHJvYmFibHkgdW5sb2FkaW5nLCB3aGljaCBtZWFucyBpdCdzIG5vdCBjbG9zZWQgeWV0XG5yZXR1cm4gZmFsc2U7fX19Oy8qKlxyXG4gKiBJbiBJRSwgZ2V0RWxlbWVudEJ5SWQoKSBhbHNvIHNlYXJjaGVzIGJ5IG5hbWUgLSB0aGlzIGlzIGFuIG9wdGltaXNhdGlvbiBmb3IgSUUuXHJcbiAqL0lFQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmVyPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCl7cmV0dXJuIGluRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7fTtTYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbih3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KXtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KTtsZXQgb3JpZ2luYWxPcGVuPXdpbmRvd1RvTW9kaWZ5Lm9wZW47LypcclxuICAgKiBTYWZhcmkgc2VlbXMgdG8gYmUgYnJva2VuLCBzbyB0aGF0IHdoZW4gd2UgbWFudWFsbHkgdHJpZ2dlciB0aGUgb25jbGljayBtZXRob2RcclxuICAgKiBvZiBhIGJ1dHRvbi9ocmVmLCBhbnkgd2luZG93Lm9wZW4gY2FsbHMgYXJlbid0IHJlc29sdmVkIHJlbGF0aXZlIHRvIHRoZSBhcHAgbG9jYXRpb24uXHJcbiAgICogU28gaGVyZSB3ZSByZXBsYWNlIHRoZSBvcGVuKCkgbWV0aG9kIHdpdGggb25lIHRoYXQgZG9lcyByZXNvbHZlIHRoZSB1cmwgY29ycmVjdGx5LlxyXG4gICAqL3dpbmRvd1RvTW9kaWZ5Lm9wZW49ZnVuY3Rpb24odXJsLHdpbmRvd05hbWUsd2luZG93RmVhdHVyZXMscmVwbGFjZUZsYWcpe2lmKHVybC5zdGFydHNXaXRoKCdodHRwOi8vJyl8fHVybC5zdGFydHNXaXRoKCdodHRwczovLycpfHx1cmwuc3RhcnRzV2l0aCgnLycpKXtyZXR1cm4gb3JpZ2luYWxPcGVuKHVybCx3aW5kb3dOYW1lLHdpbmRvd0ZlYXR1cmVzLHJlcGxhY2VGbGFnKTt9Ly8gUmVkdWNlIHRoZSBjdXJyZW50IHBhdGggdG8gdGhlIGRpcmVjdG9yeVxubGV0IGN1cnJlbnRQYXRoPXdpbmRvd1RvTW9kaWZ5LmxvY2F0aW9uLnBhdGhuYW1lfHwnLyc7Y3VycmVudFBhdGg9Y3VycmVudFBhdGgucmVwbGFjZSgvXFwvW15cXC9dKiQvLCcvJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuLy8gUmVtb3ZlIGFueSBsZWFkaW5nIFwiLi9cIiBmcm9tIHRoZSBuZXcgdXJsLlxudXJsPXVybC5yZXBsYWNlKC9eXFwuXFwvLywnJyk7Y29uc3QgbmV3VXJsPWN1cnJlbnRQYXRoK3VybDtsZXQgb3BlbmVkV2luZG93PW9yaWdpbmFsT3BlbihuZXdVcmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyk7Ly9MT0cuZGVidWcoXCJ3aW5kb3cub3BlbiBjYWxsIGludGVyY2VwdGVkOyB3aW5kb3cgSUQgKHdoaWNoIHlvdSBjYW4gdXNlIHdpdGggc2VsZWN0V2luZG93KCkpIGlzIFxcXCJcIiArICB3aW5kb3dOYW1lICsgXCJcXFwiXCIpO1xuaWYod2luZG93TmFtZSE9bnVsbCl7b3BlbmVkV2luZG93WydzZWxlbml1bVdpbmRvd05hbWUnXT13aW5kb3dOYW1lO31yZXR1cm4gb3BlbmVkV2luZG93O307fTtNb3ppbGxhQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe2xldCB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpOy8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGRldGVjdHMgaWYgdGhlIGRlZmF1bHQgYWN0aW9uIGhhcyBiZWVuIHByZXZlbnRlZC5cbi8vIChUaGlzIGlzIGNhdXNlZCBieSBhIGphdmFzY3JpcHQgb25jbGljayBoYW5kbGVyIHJldHVybmluZyBmYWxzZSlcbi8vIHdlIGNhcHR1cmUgdGhlIHdob2xlIGV2ZW50LCByYXRoZXIgdGhhbiB0aGUgZ2V0UHJldmVudERlZmF1bHQoKSBzdGF0ZSBhdCB0aGUgdGltZSxcbi8vIGJlY2F1c2Ugd2UgbmVlZCB0byBsZXQgdGhlIGVudGlyZSBldmVudCBidWJibGluZyBhbmQgY2FwdHVyaW5nIHRvIGdvIHRocm91Z2hcbi8vIGJlZm9yZSBtYWtpbmcgYSBkZWNpc2lvbiBvbiB3aGV0aGVyIHdlIHNob3VsZCBmb3JjZSB0aGUgaHJlZlxuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxmdW5jdGlvbigpe30sZmFsc2UpOy8vdGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTtcbi8vIFRyaWdnZXIgdGhlIGV2ZW50LlxudGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsZXZlbnRUeXBlLHRydWUsY2xpZW50WCxjbGllbnRZKTtpZih0aGlzLl93aW5kb3dDbG9zZWQod2luKSl7cmV0dXJuO30vLyBQZXJmb3JtIHRoZSBsaW5rIGFjdGlvbiBpZiBwcmV2ZW50RGVmYXVsdCB3YXMgc2V0LlxuLy8gSW4gY2hyb21lIFVSTCwgdGhlIGxpbmsgYWN0aW9uIGlzIGFscmVhZHkgZXhlY3V0ZWQgYnkgdHJpZ2dlck1vdXNlRXZlbnQuXG4vL2lmICghYnJvd3NlclZlcnNpb24uaXNDaHJvbWUgJiYgc2F2ZWRFdmVudCAhPSBudWxsICYmIHNhdmVkRXZlbnQuZ2V0UHJldmVudERlZmF1bHQgJiYgIXNhdmVkRXZlbnQuZ2V0UHJldmVudERlZmF1bHQoKSkge1xuLypcclxuICAgIGlmICghYnJvd3NlclZlcnNpb24uaXNDaHJvbWUgJiYgc2F2ZWRFdmVudCAhPSBudWxsICYmIHNhdmVkRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAmJiAhc2F2ZWRFdmVudC5kZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0V2luZG93ID0gdGhpcy5icm93c2VyYm90Ll9nZXRUYXJnZXRXaW5kb3coZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuaHJlZikge1xyXG4gICAgICAgICAgICB0YXJnZXRXaW5kb3cubG9jYXRpb24uaHJlZiA9IGVsZW1lbnQuaHJlZjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJib3QuX2hhbmRsZUNsaWNraW5nSW1hZ2VzSW5zaWRlTGlua3ModGFyZ2V0V2luZG93LCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAqL307T3BlcmFCcm93c2VyQm90LnByb3RvdHlwZS5fZmlyZUV2ZW50T25FbGVtZW50PWZ1bmN0aW9uKGV2ZW50VHlwZSxlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7bGV0IHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7dGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTsvLyBUcmlnZ2VyIHRoZSBjbGljayBldmVudC5cbnRoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbikpe3JldHVybjt9fTtLb25xdWVyb3JCcm93c2VyQm90LnByb3RvdHlwZS5fZmlyZUV2ZW50T25FbGVtZW50PWZ1bmN0aW9uKGV2ZW50VHlwZSxlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7bGV0IHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7dGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTtpZihlbGVtZW50W2V2ZW50VHlwZV0pe2VsZW1lbnRbZXZlbnRUeXBlXSgpO31lbHNle3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7fWlmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW4pKXtyZXR1cm47fX07U2FmYXJpQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt0aGlzLl9tb2RpZnlFbGVtZW50VGFyZ2V0KGVsZW1lbnQpOy8vIEZvciBmb3JtIGVsZW1lbnQgaXQgaXMgc2ltcGxlLlxuaWYoZWxlbWVudFtldmVudFR5cGVdKXtlbGVtZW50W2V2ZW50VHlwZV0oKTt9Ly8gRm9yIGxpbmtzIGFuZCBvdGhlciBlbGVtZW50cywgZXZlbnQgZW11bGF0aW9uIGlzIHJlcXVpcmVkLlxuZWxzZXsvLyB0b2RvOiBkZWFsIHdpdGggYW5jaG9ycz9cbnRoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7fX07U2FmYXJpQnJvd3NlckJvdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe2xldCB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7aWYod2luLmxvY2F0aW9uLmhhc2gpey8vIERHRiBTYWZhcmkgcmVmdXNlcyB0byByZWZyZXNoIHdoZW4gdGhlcmUncyBhIGhhc2ggc3ltYm9sIGluIHRoZSBVUkxcbndpbi5sb2NhdGlvbi5oYXNoPScnO2xldCBhY3R1YWxseVJlbG9hZD1mdW5jdGlvbigpe3dpbi5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7fTt3aW5kb3cuc2V0VGltZW91dChhY3R1YWxseVJlbG9hZCwxKTt9ZWxzZXt3aW4ubG9jYXRpb24ucmVsb2FkKHRydWUpO319O0lFQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe2xldCB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2xldCB3YXNDaGVja2VkPWVsZW1lbnQuY2hlY2tlZDsvLyBTZXQgYSBmbGFnIHRoYXQgcmVjb3JkcyBpZiB0aGUgcGFnZSB3aWxsIHVubG9hZCAtIHRoaXMgaXNuJ3QgYWx3YXlzIGFjY3VyYXRlLCBiZWNhdXNlXG4vLyA8YSBocmVmPVwiamF2YXNjcmlwdDphbGVydCgnZm9vJyk6XCI+IHRyaWdnZXJzIHRoZSBvbmJlZm9yZXVubG9hZCBldmVudCwgZXZlbiB0aG91Z2h0IHRoZSBwYWdlIHdvbid0IHVubG9hZFxubGV0IHBhZ2VVbmxvYWRpbmc9ZmFsc2U7bGV0IHBhZ2VVbmxvYWREZXRlY3Rvcj1mdW5jdGlvbigpe3BhZ2VVbmxvYWRpbmc9dHJ1ZTt9O2lmKHdpbi5hZGRFdmVudExpc3RlbmVyKXt3aW4uYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IsdHJ1ZSk7fWVsc2V7d2luLmF0dGFjaEV2ZW50KCdvbmJlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yKTt9dGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTtpZihlbGVtZW50W2V2ZW50VHlwZV0pe2VsZW1lbnRbZXZlbnRUeXBlXSgpO31lbHNle3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7fS8vIElmIHRoZSBwYWdlIGlzIGdvaW5nIHRvIHVubG9hZCAtIHN0aWxsIGF0dGVtcHQgdG8gZmlyZSBhbnkgc3Vic2VxdWVudCBldmVudHMuXG4vLyBIb3dldmVyLCB3ZSBjYW4ndCBndWFyYW50ZWUgdGhhdCB0aGUgcGFnZSB3b24ndCB1bmxvYWQgaGFsZiB3YXkgdGhyb3VnaCwgc28gd2UgbmVlZCB0byBoYW5kbGUgZXhjZXB0aW9ucy5cbnRyeXtpZih3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcil7d2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29uYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IsdHJ1ZSk7fWVsc2V7d2luLmRldGFjaEV2ZW50KCdvbmJlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yKTt9aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbikpe3JldHVybjt9Ly8gT25jaGFuZ2UgZXZlbnQgaXMgbm90IHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IGluIElFLlxuaWYoaXNEZWZpbmVkKGVsZW1lbnQuY2hlY2tlZCkmJndhc0NoZWNrZWQhPWVsZW1lbnQuY2hlY2tlZCl7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9fWNhdGNoKGUpey8vIElmIHRoZSBwYWdlIGlzIHVubG9hZGluZywgd2UgbWF5IGdldCBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBvciBcIlVuc3BlY2lmaWVkIGVycm9yXCIuXG4vLyBKdXN0IGlnbm9yZSBpdCwgYmVjYXVzZSB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgdW5sb2FkZWQuXG5pZihwYWdlVW5sb2FkaW5nKXsvL0xPRy5sb2dIb29rID0gZnVuY3Rpb24oKSB7XG4vL307XG4vL0xPRy53YXJuKFwiQ2F1Z2h0IGV4Y2VwdGlvbiB3aGVuIGZpcmluZyBldmVudHMgb24gdW5sb2FkaW5nIHBhZ2U6IFwiICsgZS5tZXNzYWdlKTtcbnJldHVybjt9dGhyb3cgZTt9fTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qc1xuLy8gbW9kdWxlIGlkID0gMjUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///251\n");

/***/ }),

/***/ 252:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PatternMatcher;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SeleniumError__ = __webpack_require__(123);\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nfunction PatternMatcher(pattern){this.selectStrategy(pattern);}PatternMatcher.prototype={selectStrategy:function(pattern){this.pattern=pattern;let strategyName='glob';// by default\nif(/^([a-z-]+):(.*)/.test(pattern)){const possibleNewStrategyName=RegExp.$1;const possibleNewPattern=RegExp.$2;if(PatternMatcher.strategies[possibleNewStrategyName]){strategyName=possibleNewStrategyName;pattern=possibleNewPattern;}}const matchStrategy=PatternMatcher.strategies[strategyName];if(!matchStrategy){throw new __WEBPACK_IMPORTED_MODULE_0__SeleniumError__[\"a\" /* default */]('cannot find PatternMatcher.strategies.'+strategyName);}this.strategy=matchStrategy;this.matcher=new matchStrategy(pattern);},matches:function(actual){return this.matcher.matches(actual+'');// Note: appending an empty string avoids a Konqueror bug\n}/**\r\n * A \"static\" convenience method for easy matching\r\n */};PatternMatcher.matches=function(pattern,actual){return new PatternMatcher(pattern).matches(actual);};PatternMatcher.strategies={/**\r\n   * Exact matching, e.g. \"exact:***\"\r\n   */exact:function(expected){this.expected=expected;this.matches=function(actual){return actual==this.expected;};},/**\r\n   * Match by regular expression, e.g. \"regexp:^[0-9]+$\"\r\n   */regexp:function(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regex:function(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regexpi:function(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},regexi:function(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},/**\r\n   * \"globContains\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\",\r\n   * but don't require a perfect match; instead succeed if actual\r\n   * contains something that matches globString.\r\n   * Making this distinction is motivated by a bug in IE6 which\r\n   * leads to the browser hanging if we implement *TextPresent tests\r\n   * by just matching against a regular expression beginning and\r\n   * ending with \".*\".  The globcontains strategy allows us to satisfy\r\n   * the functional needs of the *TextPresent ops more efficiently\r\n   * and so avoid running into this IE6 freeze.\r\n   */globContains:function(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlobContains(globString));this.matches=function(actual){return this.regexp.test(actual);};},/**\r\n   * \"glob\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\"\r\n   */glob:function(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlob(globString));this.matches=function(actual){return this.regexp.test(actual);};}};PatternMatcher.convertGlobMetaCharsToRegexpMetaChars=function(glob){let re=glob;re=re.replace(/([.^$+(){}\\[\\]\\\\|])/g,'\\\\$1');// eslint-disable-line no-useless-escape\nre=re.replace(/\\?/g,'(.|[\\r\\n])');re=re.replace(/\\*/g,'(.|[\\r\\n])*');return re;};PatternMatcher.regexpFromGlobContains=function(globContains){return PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(globContains);};PatternMatcher.regexpFromGlob=function(glob){return'^'+PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(glob)+'$';};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qcz9hOTVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgU2VsZW5pdW1FcnJvciBmcm9tJy4vU2VsZW5pdW1FcnJvcic7ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGF0dGVybk1hdGNoZXIocGF0dGVybil7dGhpcy5zZWxlY3RTdHJhdGVneShwYXR0ZXJuKTt9UGF0dGVybk1hdGNoZXIucHJvdG90eXBlPXtzZWxlY3RTdHJhdGVneTpmdW5jdGlvbihwYXR0ZXJuKXt0aGlzLnBhdHRlcm49cGF0dGVybjtsZXQgc3RyYXRlZ3lOYW1lPSdnbG9iJzsvLyBieSBkZWZhdWx0XG5pZigvXihbYS16LV0rKTooLiopLy50ZXN0KHBhdHRlcm4pKXtjb25zdCBwb3NzaWJsZU5ld1N0cmF0ZWd5TmFtZT1SZWdFeHAuJDE7Y29uc3QgcG9zc2libGVOZXdQYXR0ZXJuPVJlZ0V4cC4kMjtpZihQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzW3Bvc3NpYmxlTmV3U3RyYXRlZ3lOYW1lXSl7c3RyYXRlZ3lOYW1lPXBvc3NpYmxlTmV3U3RyYXRlZ3lOYW1lO3BhdHRlcm49cG9zc2libGVOZXdQYXR0ZXJuO319Y29uc3QgbWF0Y2hTdHJhdGVneT1QYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzW3N0cmF0ZWd5TmFtZV07aWYoIW1hdGNoU3RyYXRlZ3kpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdjYW5ub3QgZmluZCBQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLicrc3RyYXRlZ3lOYW1lKTt9dGhpcy5zdHJhdGVneT1tYXRjaFN0cmF0ZWd5O3RoaXMubWF0Y2hlcj1uZXcgbWF0Y2hTdHJhdGVneShwYXR0ZXJuKTt9LG1hdGNoZXM6ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5tYXRjaGVyLm1hdGNoZXMoYWN0dWFsKycnKTsvLyBOb3RlOiBhcHBlbmRpbmcgYW4gZW1wdHkgc3RyaW5nIGF2b2lkcyBhIEtvbnF1ZXJvciBidWdcbn0vKipcclxuICogQSBcInN0YXRpY1wiIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgZWFzeSBtYXRjaGluZ1xyXG4gKi99O1BhdHRlcm5NYXRjaGVyLm1hdGNoZXM9ZnVuY3Rpb24ocGF0dGVybixhY3R1YWwpe3JldHVybiBuZXcgUGF0dGVybk1hdGNoZXIocGF0dGVybikubWF0Y2hlcyhhY3R1YWwpO307UGF0dGVybk1hdGNoZXIuc3RyYXRlZ2llcz17LyoqXHJcbiAgICogRXhhY3QgbWF0Y2hpbmcsIGUuZy4gXCJleGFjdDoqKipcIlxyXG4gICAqL2V4YWN0OmZ1bmN0aW9uKGV4cGVjdGVkKXt0aGlzLmV4cGVjdGVkPWV4cGVjdGVkO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiBhY3R1YWw9PXRoaXMuZXhwZWN0ZWQ7fTt9LC8qKlxyXG4gICAqIE1hdGNoIGJ5IHJlZ3VsYXIgZXhwcmVzc2lvbiwgZS5nLiBcInJlZ2V4cDpeWzAtOV0rJFwiXHJcbiAgICovcmVnZXhwOmZ1bmN0aW9uKHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4OmZ1bmN0aW9uKHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4cGk6ZnVuY3Rpb24ocmVnZXhwU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKHJlZ2V4cFN0cmluZywnaScpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4aTpmdW5jdGlvbihyZWdleHBTdHJpbmcpe3RoaXMucmVnZXhwPW5ldyBSZWdFeHAocmVnZXhwU3RyaW5nLCdpJyk7dGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGFjdHVhbCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoYWN0dWFsKTt9O30sLyoqXHJcbiAgICogXCJnbG9iQ29udGFpbnNcIiAoYWthIFwid2lsZG1hdFwiKSBwYXR0ZXJucywgZS5nLiBcImdsb2I6b25lLHR3bywqXCIsXHJcbiAgICogYnV0IGRvbid0IHJlcXVpcmUgYSBwZXJmZWN0IG1hdGNoOyBpbnN0ZWFkIHN1Y2NlZWQgaWYgYWN0dWFsXHJcbiAgICogY29udGFpbnMgc29tZXRoaW5nIHRoYXQgbWF0Y2hlcyBnbG9iU3RyaW5nLlxyXG4gICAqIE1ha2luZyB0aGlzIGRpc3RpbmN0aW9uIGlzIG1vdGl2YXRlZCBieSBhIGJ1ZyBpbiBJRTYgd2hpY2hcclxuICAgKiBsZWFkcyB0byB0aGUgYnJvd3NlciBoYW5naW5nIGlmIHdlIGltcGxlbWVudCAqVGV4dFByZXNlbnQgdGVzdHNcclxuICAgKiBieSBqdXN0IG1hdGNoaW5nIGFnYWluc3QgYSByZWd1bGFyIGV4cHJlc3Npb24gYmVnaW5uaW5nIGFuZFxyXG4gICAqIGVuZGluZyB3aXRoIFwiLipcIi4gIFRoZSBnbG9iY29udGFpbnMgc3RyYXRlZ3kgYWxsb3dzIHVzIHRvIHNhdGlzZnlcclxuICAgKiB0aGUgZnVuY3Rpb25hbCBuZWVkcyBvZiB0aGUgKlRleHRQcmVzZW50IG9wcyBtb3JlIGVmZmljaWVudGx5XHJcbiAgICogYW5kIHNvIGF2b2lkIHJ1bm5pbmcgaW50byB0aGlzIElFNiBmcmVlemUuXHJcbiAgICovZ2xvYkNvbnRhaW5zOmZ1bmN0aW9uKGdsb2JTdHJpbmcpe3RoaXMucmVnZXhwPW5ldyBSZWdFeHAoUGF0dGVybk1hdGNoZXIucmVnZXhwRnJvbUdsb2JDb250YWlucyhnbG9iU3RyaW5nKSk7dGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGFjdHVhbCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoYWN0dWFsKTt9O30sLyoqXHJcbiAgICogXCJnbG9iXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybnMsIGUuZy4gXCJnbG9iOm9uZSx0d28sKlwiXHJcbiAgICovZ2xvYjpmdW5jdGlvbihnbG9iU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKFBhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iKGdsb2JTdHJpbmcpKTt0aGlzLm1hdGNoZXM9ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5yZWdleHAudGVzdChhY3R1YWwpO307fX07UGF0dGVybk1hdGNoZXIuY29udmVydEdsb2JNZXRhQ2hhcnNUb1JlZ2V4cE1ldGFDaGFycz1mdW5jdGlvbihnbG9iKXtsZXQgcmU9Z2xvYjtyZT1yZS5yZXBsYWNlKC8oWy5eJCsoKXt9XFxbXFxdXFxcXHxdKS9nLCdcXFxcJDEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5yZT1yZS5yZXBsYWNlKC9cXD8vZywnKC58W1xcclxcbl0pJyk7cmU9cmUucmVwbGFjZSgvXFwqL2csJygufFtcXHJcXG5dKSonKTtyZXR1cm4gcmU7fTtQYXR0ZXJuTWF0Y2hlci5yZWdleHBGcm9tR2xvYkNvbnRhaW5zPWZ1bmN0aW9uKGdsb2JDb250YWlucyl7cmV0dXJuIFBhdHRlcm5NYXRjaGVyLmNvbnZlcnRHbG9iTWV0YUNoYXJzVG9SZWdleHBNZXRhQ2hhcnMoZ2xvYkNvbnRhaW5zKTt9O1BhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iPWZ1bmN0aW9uKGdsb2Ipe3JldHVybideJytQYXR0ZXJuTWF0Y2hlci5jb252ZXJ0R2xvYk1ldGFDaGFyc1RvUmVnZXhwTWV0YUNoYXJzKGdsb2IpKyckJzt9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qc1xuLy8gbW9kdWxlIGlkID0gMjUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///252\n");

/***/ }),

/***/ 353:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(157);


/***/ }),

/***/ 410:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export exactMatchPattern */\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n// Modified in tools.js from selenium-IDE\nfunction exactMatchPattern(string){if(string!=null&&(string.match(/^\\w*:/)||string.indexOf('?')>=0||string.indexOf('*')>=0)){return'exact:'+string;}else{return string;}}class TargetSelector{constructor(callback,cleanupCallback){this.callback=callback;this.cleanupCallback=cleanupCallback;// This is for XPCOM/XUL addon and can't be used\n//var wm = Components.classes[\"@mozilla.org/appshell/window-mediator;1\"].getService(Components.interfaces.nsIWindowMediator);\n//this.win = wm.getMostRecentWindow('navigator:browser').getBrowser().contentWindow;\n// Instead, we simply assign global content window to this.win\nthis.win=window;const doc=this.win.document;const div=doc.createElement('div');div.setAttribute('style','display: none;');doc.body.insertBefore(div,doc.body.firstChild);this.div=div;this.e=null;this.r=null;this.banner=doc.createElement('div');this.banner.setAttribute('style','position: fixed;top: 0;left: 0;bottom: 0;right: 0;background: trasparent;z-index: 10000;');const header=doc.createElement('div');header.setAttribute('style',\"pointer-events: none;display: flex;align-items: center;justify-content: center;flex-direction: row;position: fixed;top: 20%;left: 50%;transform: translateX(-50%);background: #f7f7f7;color: #114990;font-size: 22px;font-weight: 200;z-index: 10001;font-family: system, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;box-shadow: 0 7px 10px 0 rgba(0,0,0,0.1);border: 1px black solid; border-radius: 50px;padding: 10px;\");const img=doc.createElement('img');img.src=browser.runtime.getURL('/icons/icon_light128.png');img.setAttribute('style','width: 28px;margin: 0 10px;');header.appendChild(img);const span=doc.createElement('span');span.setAttribute('style','border-left: 1px solid #c6c6c6;padding: 3px 10px;');span.innerText='Select an element';header.appendChild(span);setTimeout(()=>{// this has to happen after a timeout, since adding it sync will add the event\n// before the window is focused which will case mousemove to fire before the\n// user actually moves the mouse\nthis.banner.addEventListener('mousemove',()=>{setTimeout(()=>{this.banner.style.visibility='hidden';},300);},false);},300);this.banner.appendChild(header);doc.body.insertBefore(this.banner,div);doc.addEventListener('mousemove',this,true);doc.addEventListener('click',this,true);}cleanup(){try{if(this.div){if(this.div.parentNode){this.div.parentNode.removeChild(this.div);}this.div=null;}if(this.header){if(this.header.parentNode){this.header.parentNode.removeChild(this.header);}this.header=null;}if(this.win){const doc=this.win.document;doc.removeEventListener('mousemove',this,true);doc.removeEventListener('click',this,true);}}catch(e){if(e!=\"TypeError: can't access dead object\"){throw e;}}this.win=null;if(this.cleanupCallback){this.cleanupCallback();}}handleEvent(evt){switch(evt.type){case'mousemove':this.highlight(evt.target.ownerDocument,evt.clientX,evt.clientY);break;case'click':if(evt.button==0&&this.e&&this.callback){this.callback(this.e,this.win);}//Right click would cancel the select\nevt.preventDefault();evt.stopPropagation();this.cleanup();break;}}highlight(doc,x,y){if(doc){const e=doc.elementFromPoint(x,y);if(e&&e!=this.e){this.highlightElement(e);}}}highlightElement(element){if(element&&element!=this.e&&element!==this.banner){this.e=element;}else{return;}const r=element.getBoundingClientRect();const or=this.r;if(r.left>=0&&r.top>=0&&r.width>0&&r.height>0){if(or&&r.top==or.top&&r.left==or.left&&r.width==or.width&&r.height==or.height){return;}this.r=r;const style='pointer-events: none; position: absolute; background-color: rgb(78, 171, 230); opacity: 0.4; border: 1px solid #0e0e0e; z-index: 1000000;';const pos=`top:${r.top+this.win.scrollY}px; left:${r.left+this.win.scrollX}px; width:${r.width}px; height:${r.height}px;`;this.div.setAttribute('style',style+pos);}else if(or){this.div.setAttribute('style','display: none;');}}}/* harmony default export */ __webpack_exports__[\"a\"] = (TargetSelector);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC90YXJnZXRTZWxlY3Rvci5qcz9mZDUxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyBNb2RpZmllZCBpbiB0b29scy5qcyBmcm9tIHNlbGVuaXVtLUlERVxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0TWF0Y2hQYXR0ZXJuKHN0cmluZyl7aWYoc3RyaW5nIT1udWxsJiYoc3RyaW5nLm1hdGNoKC9eXFx3KjovKXx8c3RyaW5nLmluZGV4T2YoJz8nKT49MHx8c3RyaW5nLmluZGV4T2YoJyonKT49MCkpe3JldHVybidleGFjdDonK3N0cmluZzt9ZWxzZXtyZXR1cm4gc3RyaW5nO319Y2xhc3MgVGFyZ2V0U2VsZWN0b3J7Y29uc3RydWN0b3IoY2FsbGJhY2ssY2xlYW51cENhbGxiYWNrKXt0aGlzLmNhbGxiYWNrPWNhbGxiYWNrO3RoaXMuY2xlYW51cENhbGxiYWNrPWNsZWFudXBDYWxsYmFjazsvLyBUaGlzIGlzIGZvciBYUENPTS9YVUwgYWRkb24gYW5kIGNhbid0IGJlIHVzZWRcbi8vdmFyIHdtID0gQ29tcG9uZW50cy5jbGFzc2VzW1wiQG1vemlsbGEub3JnL2FwcHNoZWxsL3dpbmRvdy1tZWRpYXRvcjsxXCJdLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVdpbmRvd01lZGlhdG9yKTtcbi8vdGhpcy53aW4gPSB3bS5nZXRNb3N0UmVjZW50V2luZG93KCduYXZpZ2F0b3I6YnJvd3NlcicpLmdldEJyb3dzZXIoKS5jb250ZW50V2luZG93O1xuLy8gSW5zdGVhZCwgd2Ugc2ltcGx5IGFzc2lnbiBnbG9iYWwgY29udGVudCB3aW5kb3cgdG8gdGhpcy53aW5cbnRoaXMud2luPXdpbmRvdztjb25zdCBkb2M9dGhpcy53aW4uZG9jdW1lbnQ7Y29uc3QgZGl2PWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsJ2Rpc3BsYXk6IG5vbmU7Jyk7ZG9jLmJvZHkuaW5zZXJ0QmVmb3JlKGRpdixkb2MuYm9keS5maXJzdENoaWxkKTt0aGlzLmRpdj1kaXY7dGhpcy5lPW51bGw7dGhpcy5yPW51bGw7dGhpcy5iYW5uZXI9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO3RoaXMuYmFubmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdwb3NpdGlvbjogZml4ZWQ7dG9wOiAwO2xlZnQ6IDA7Ym90dG9tOiAwO3JpZ2h0OiAwO2JhY2tncm91bmQ6IHRyYXNwYXJlbnQ7ei1pbmRleDogMTAwMDA7Jyk7Y29uc3QgaGVhZGVyPWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtoZWFkZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsXCJwb2ludGVyLWV2ZW50czogbm9uZTtkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBjZW50ZXI7ZmxleC1kaXJlY3Rpb246IHJvdztwb3NpdGlvbjogZml4ZWQ7dG9wOiAyMCU7bGVmdDogNTAlO3RyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtiYWNrZ3JvdW5kOiAjZjdmN2Y3O2NvbG9yOiAjMTE0OTkwO2ZvbnQtc2l6ZTogMjJweDtmb250LXdlaWdodDogMjAwO3otaW5kZXg6IDEwMDAxO2ZvbnQtZmFtaWx5OiBzeXN0ZW0sIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsIHNhbnMtc2VyaWY7Ym94LXNoYWRvdzogMCA3cHggMTBweCAwIHJnYmEoMCwwLDAsMC4xKTtib3JkZXI6IDFweCBibGFjayBzb2xpZDsgYm9yZGVyLXJhZGl1czogNTBweDtwYWRkaW5nOiAxMHB4O1wiKTtjb25zdCBpbWc9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2ltZycpO2ltZy5zcmM9YnJvd3Nlci5ydW50aW1lLmdldFVSTCgnL2ljb25zL2ljb25fbGlnaHQxMjgucG5nJyk7aW1nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCd3aWR0aDogMjhweDttYXJnaW46IDAgMTBweDsnKTtoZWFkZXIuYXBwZW5kQ2hpbGQoaW1nKTtjb25zdCBzcGFuPWRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7c3Bhbi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYzZjNmM2O3BhZGRpbmc6IDNweCAxMHB4OycpO3NwYW4uaW5uZXJUZXh0PSdTZWxlY3QgYW4gZWxlbWVudCc7aGVhZGVyLmFwcGVuZENoaWxkKHNwYW4pO3NldFRpbWVvdXQoKCk9PnsvLyB0aGlzIGhhcyB0byBoYXBwZW4gYWZ0ZXIgYSB0aW1lb3V0LCBzaW5jZSBhZGRpbmcgaXQgc3luYyB3aWxsIGFkZCB0aGUgZXZlbnRcbi8vIGJlZm9yZSB0aGUgd2luZG93IGlzIGZvY3VzZWQgd2hpY2ggd2lsbCBjYXNlIG1vdXNlbW92ZSB0byBmaXJlIGJlZm9yZSB0aGVcbi8vIHVzZXIgYWN0dWFsbHkgbW92ZXMgdGhlIG1vdXNlXG50aGlzLmJhbm5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuYmFubmVyLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7fSwzMDApO30sZmFsc2UpO30sMzAwKTt0aGlzLmJhbm5lci5hcHBlbmRDaGlsZChoZWFkZXIpO2RvYy5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLmJhbm5lcixkaXYpO2RvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMsdHJ1ZSk7ZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLHRydWUpO31jbGVhbnVwKCl7dHJ5e2lmKHRoaXMuZGl2KXtpZih0aGlzLmRpdi5wYXJlbnROb2RlKXt0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTt9dGhpcy5kaXY9bnVsbDt9aWYodGhpcy5oZWFkZXIpe2lmKHRoaXMuaGVhZGVyLnBhcmVudE5vZGUpe3RoaXMuaGVhZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oZWFkZXIpO310aGlzLmhlYWRlcj1udWxsO31pZih0aGlzLndpbil7Y29uc3QgZG9jPXRoaXMud2luLmRvY3VtZW50O2RvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMsdHJ1ZSk7ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLHRydWUpO319Y2F0Y2goZSl7aWYoZSE9XCJUeXBlRXJyb3I6IGNhbid0IGFjY2VzcyBkZWFkIG9iamVjdFwiKXt0aHJvdyBlO319dGhpcy53aW49bnVsbDtpZih0aGlzLmNsZWFudXBDYWxsYmFjayl7dGhpcy5jbGVhbnVwQ2FsbGJhY2soKTt9fWhhbmRsZUV2ZW50KGV2dCl7c3dpdGNoKGV2dC50eXBlKXtjYXNlJ21vdXNlbW92ZSc6dGhpcy5oaWdobGlnaHQoZXZ0LnRhcmdldC5vd25lckRvY3VtZW50LGV2dC5jbGllbnRYLGV2dC5jbGllbnRZKTticmVhaztjYXNlJ2NsaWNrJzppZihldnQuYnV0dG9uPT0wJiZ0aGlzLmUmJnRoaXMuY2FsbGJhY2spe3RoaXMuY2FsbGJhY2sodGhpcy5lLHRoaXMud2luKTt9Ly9SaWdodCBjbGljayB3b3VsZCBjYW5jZWwgdGhlIHNlbGVjdFxuZXZ0LnByZXZlbnREZWZhdWx0KCk7ZXZ0LnN0b3BQcm9wYWdhdGlvbigpO3RoaXMuY2xlYW51cCgpO2JyZWFrO319aGlnaGxpZ2h0KGRvYyx4LHkpe2lmKGRvYyl7Y29uc3QgZT1kb2MuZWxlbWVudEZyb21Qb2ludCh4LHkpO2lmKGUmJmUhPXRoaXMuZSl7dGhpcy5oaWdobGlnaHRFbGVtZW50KGUpO319fWhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCl7aWYoZWxlbWVudCYmZWxlbWVudCE9dGhpcy5lJiZlbGVtZW50IT09dGhpcy5iYW5uZXIpe3RoaXMuZT1lbGVtZW50O31lbHNle3JldHVybjt9Y29uc3Qgcj1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IG9yPXRoaXMucjtpZihyLmxlZnQ+PTAmJnIudG9wPj0wJiZyLndpZHRoPjAmJnIuaGVpZ2h0PjApe2lmKG9yJiZyLnRvcD09b3IudG9wJiZyLmxlZnQ9PW9yLmxlZnQmJnIud2lkdGg9PW9yLndpZHRoJiZyLmhlaWdodD09b3IuaGVpZ2h0KXtyZXR1cm47fXRoaXMucj1yO2NvbnN0IHN0eWxlPSdwb2ludGVyLWV2ZW50czogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNzgsIDE3MSwgMjMwKTsgb3BhY2l0eTogMC40OyBib3JkZXI6IDFweCBzb2xpZCAjMGUwZTBlOyB6LWluZGV4OiAxMDAwMDAwOyc7Y29uc3QgcG9zPWB0b3A6JHtyLnRvcCt0aGlzLndpbi5zY3JvbGxZfXB4OyBsZWZ0OiR7ci5sZWZ0K3RoaXMud2luLnNjcm9sbFh9cHg7IHdpZHRoOiR7ci53aWR0aH1weDsgaGVpZ2h0OiR7ci5oZWlnaHR9cHg7YDt0aGlzLmRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxzdHlsZStwb3MpO31lbHNlIGlmKG9yKXt0aGlzLmRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnZGlzcGxheTogbm9uZTsnKTt9fX1leHBvcnQgZGVmYXVsdCBUYXJnZXRTZWxlY3RvcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvdGFyZ2V0U2VsZWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDQxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///410\n");

/***/ }),

/***/ 413:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = editRegion;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = removeRegion;\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nconst coords={startX:0,startY:0,endX:0,endY:0};const mouseOffset={x:0,y:0};const STATES={create:1,update:2,resize:3};let state=STATES.create;let canvasExists=false;function editRegion(rect,cb){if(canvasExists){return cb(false);}const container=document.createElement('div');container.id='selenium-container';const canvas=document.createElement('div');canvas.id='selenium-canvas';const region=createRegion();setStyle(canvas,region);setEvents(container);const buttonContainer=createButtons(cb);buttonContainer.style.zIndex='10002';if(rect){region.style.left=`${rect.x}px`;region.style.top=`${rect.y}px`;region.style.width=`${rect.width}px`;region.style.height=`${rect.height}px`;}container.appendChild(buttonContainer);container.appendChild(canvas);container.appendChild(region);document.body.appendChild(container);canvasExists=true;}function removeRegion(){if(canvasExists){document.body.removeChild(document.getElementById('selenium-container'));}canvasExists=false;}function setStyle(canvas,region){canvas.style.position='fixed';canvas.style.top=0;canvas.style.bottom=0;canvas.style.right=0;canvas.style.left=0;canvas.style.zIndex='10000';canvas.style.cursor='crosshair';region.style.position='absolute';region.style.zIndex='10001';region.style.backgroundColor='rgb(78, 171, 230)';region.style.opacity='0.4';region.style.border='1px solid #0e0e0e';}function setEvents(container){container.addEventListener('mousedown',mousedown);container.addEventListener('mouseup',mouseup);}function mousedown(e){const container=document.getElementById('selenium-container');const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(e.target===canvas){updateRegion(e.pageX,e.pageY,e.pageX,e.pageY);state=STATES.create;region.style.cursor='crosshair';}else if(e.target===region){state=STATES.update;mouseOffset.x=e.pageX;mouseOffset.y=e.pageY;region.style.cursor='move';}else if(e.target.parentElement===region){state=STATES.resize;}container.addEventListener('mousemove',mousemove);}function mousemove(e){e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(state===STATES.create||state===STATES.resize){updateRegion(undefined,undefined,e.pageX,e.pageY);}else if(state===STATES.update){moveRegion(e.pageX,e.pageY);}}function mouseup(e){const container=document.getElementById('selenium-container');const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');e.stopPropagation();region.style.cursor='move';canvas.style.cursor='crosshair';container.removeEventListener('mousemove',mousemove);showButtons();}function calculateRectFromCoords(coords){return calculateRect({x:coords.startX,y:coords.startY},{x:coords.endX,y:coords.endY});}function calculateRect(p1,p2){return{left:Math.min(p1.x,p2.x),top:Math.min(p1.y,p2.y),width:Math.abs(p1.x-p2.x),height:Math.abs(p1.y-p2.y)};}function updateRegion(startX,startY,endX,endY){hideButtons();const region=document.getElementById('selenium-region');if(startX){coords.startX=startX;}if(startY){coords.startY=startY;}if(endX){coords.endX=endX;}if(endY){coords.endY=endY;}const rect=calculateRectFromCoords(coords);region.style.left=`${rect.left}px`;region.style.top=`${rect.top}px`;region.style.width=`${rect.width}px`;region.style.height=`${rect.height}px`;}function moveRegion(mouseX,mouseY){let dx=mouseOffset.x-mouseX;let dy=mouseOffset.y-mouseY;mouseOffset.x=mouseX;mouseOffset.y=mouseY;if(coords.startX-dx<5||coords.endX-dx<5)dx=0;if(coords.startY-dy<5||coords.endY-dy<5)dy=0;updateRegion(coords.startX-dx,coords.startY-dy,coords.endX-dx,coords.endY-dy);}function createRegion(){const region=document.createElement('div');region.id='selenium-region';const cornerSize=20;const tlc=createHotCorner(cornerSize);tlc.style.top='-5px';tlc.style.left='-5px';tlc.style.cursor='nw-resize';tlc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='nw-resize';region.style.cursor='nw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(tlc);const trc=createHotCorner(cornerSize);trc.style.top='-5px';trc.style.right='-5px';trc.style.cursor='ne-resize';trc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='ne-resize';region.style.cursor='ne-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(trc);const blc=createHotCorner(cornerSize);blc.style.bottom='-5px';blc.style.left='-5px';blc.style.cursor='sw-resize';blc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='sw-resize';region.style.cursor='sw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(blc);const brc=createHotCorner(cornerSize);brc.style.bottom='-5px';brc.style.right='-5px';brc.style.cursor='se-resize';brc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='se-resize';region.style.cursor='se-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(brc);return region;}function createHotCorner(size){const c=document.createElement('div');c.style.position='absolute';c.style.height=`${size}px`;c.style.width=`${size}px`;return c;}function showButtons(){const canvasRect=document.getElementById('selenium-canvas').getBoundingClientRect();const buttonContainer=document.getElementById('region-control-panel');let top=coords.startY;let bottom=coords.endY;let left=coords.startX;let right=coords.endX;let width=right-left;if(canvasRect.bottom-bottom<=100)bottom=top;if(width<0)left=coords.endX;right=coords.startX;width=Math.abs(width);if(width<225)width=225;buttonContainer.style.position='absolute';buttonContainer.style.top=bottom+'px';buttonContainer.style.left=left+'px';buttonContainer.style.right=right+'px';buttonContainer.style.width=width+'px';buttonContainer.style.backgroundColor='rgba(0, 0, 0, 0.55)';buttonContainer.style.visibility='visible';}function hideButtons(){const buttonContainer=document.getElementById('region-control-panel');buttonContainer.style.visibility='hidden';}function createButtons(cb){const container=document.createElement('div');container.id='region-control-panel';const buttons=document.createElement('div');const confirm=document.createElement('button');confirm.innerText='Confirm';confirm.addEventListener('click',()=>{hideButtons();removeRegion();const rect=calculateRectFromCoords(coords);cb(`x: ${rect.left}, y: ${rect.top}, width: ${rect.width}, height: ${rect.height}`);});const cancel=document.createElement('button');cancel.innerText='Cancel';cancel.addEventListener('click',()=>{hideButtons();removeRegion();cb(false);});container.style.visibility='hidden';buttons.style.display='flex';buttons.style.alignItems='center';buttons.style.justifyContent='center';styleButton(confirm);styleButton(cancel);buttons.appendChild(cancel);buttons.appendChild(confirm);container.appendChild(buttons);return container;}function styleButton(button){button.style.color='#656565';button.style.backgroundColor='#F5F5F5';button.style.padding='10px 20px';button.style.margin='5px 8px';button.style.borderRadius='4px';button.style.outline='0';button.style.textTransform='capitalize';}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9yZWdpb24uanM/MzBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeSAoU0ZDKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIFNGQyBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuY29uc3QgY29vcmRzPXtzdGFydFg6MCxzdGFydFk6MCxlbmRYOjAsZW5kWTowfTtjb25zdCBtb3VzZU9mZnNldD17eDowLHk6MH07Y29uc3QgU1RBVEVTPXtjcmVhdGU6MSx1cGRhdGU6MixyZXNpemU6M307bGV0IHN0YXRlPVNUQVRFUy5jcmVhdGU7bGV0IGNhbnZhc0V4aXN0cz1mYWxzZTtleHBvcnQgZnVuY3Rpb24gZWRpdFJlZ2lvbihyZWN0LGNiKXtpZihjYW52YXNFeGlzdHMpe3JldHVybiBjYihmYWxzZSk7fWNvbnN0IGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtjb250YWluZXIuaWQ9J3NlbGVuaXVtLWNvbnRhaW5lcic7Y29uc3QgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2NhbnZhcy5pZD0nc2VsZW5pdW0tY2FudmFzJztjb25zdCByZWdpb249Y3JlYXRlUmVnaW9uKCk7c2V0U3R5bGUoY2FudmFzLHJlZ2lvbik7c2V0RXZlbnRzKGNvbnRhaW5lcik7Y29uc3QgYnV0dG9uQ29udGFpbmVyPWNyZWF0ZUJ1dHRvbnMoY2IpO2J1dHRvbkNvbnRhaW5lci5zdHlsZS56SW5kZXg9JzEwMDAyJztpZihyZWN0KXtyZWdpb24uc3R5bGUubGVmdD1gJHtyZWN0Lnh9cHhgO3JlZ2lvbi5zdHlsZS50b3A9YCR7cmVjdC55fXB4YDtyZWdpb24uc3R5bGUud2lkdGg9YCR7cmVjdC53aWR0aH1weGA7cmVnaW9uLnN0eWxlLmhlaWdodD1gJHtyZWN0LmhlaWdodH1weGA7fWNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpO2NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO2NvbnRhaW5lci5hcHBlbmRDaGlsZChyZWdpb24pO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtjYW52YXNFeGlzdHM9dHJ1ZTt9ZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVJlZ2lvbigpe2lmKGNhbnZhc0V4aXN0cyl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY29udGFpbmVyJykpO31jYW52YXNFeGlzdHM9ZmFsc2U7fWZ1bmN0aW9uIHNldFN0eWxlKGNhbnZhcyxyZWdpb24pe2NhbnZhcy5zdHlsZS5wb3NpdGlvbj0nZml4ZWQnO2NhbnZhcy5zdHlsZS50b3A9MDtjYW52YXMuc3R5bGUuYm90dG9tPTA7Y2FudmFzLnN0eWxlLnJpZ2h0PTA7Y2FudmFzLnN0eWxlLmxlZnQ9MDtjYW52YXMuc3R5bGUuekluZGV4PScxMDAwMCc7Y2FudmFzLnN0eWxlLmN1cnNvcj0nY3Jvc3NoYWlyJztyZWdpb24uc3R5bGUucG9zaXRpb249J2Fic29sdXRlJztyZWdpb24uc3R5bGUuekluZGV4PScxMDAwMSc7cmVnaW9uLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ncmdiKDc4LCAxNzEsIDIzMCknO3JlZ2lvbi5zdHlsZS5vcGFjaXR5PScwLjQnO3JlZ2lvbi5zdHlsZS5ib3JkZXI9JzFweCBzb2xpZCAjMGUwZTBlJzt9ZnVuY3Rpb24gc2V0RXZlbnRzKGNvbnRhaW5lcil7Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsbW91c2Vkb3duKTtjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsbW91c2V1cCk7fWZ1bmN0aW9uIG1vdXNlZG93bihlKXtjb25zdCBjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNvbnRhaW5lcicpO2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtlLnN0b3BQcm9wYWdhdGlvbigpO2lmKGUudGFyZ2V0LnRhZ05hbWU9PT0nQlVUVE9OJylyZXR1cm47aWYoZS50YXJnZXQ9PT1jYW52YXMpe3VwZGF0ZVJlZ2lvbihlLnBhZ2VYLGUucGFnZVksZS5wYWdlWCxlLnBhZ2VZKTtzdGF0ZT1TVEFURVMuY3JlYXRlO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J2Nyb3NzaGFpcic7fWVsc2UgaWYoZS50YXJnZXQ9PT1yZWdpb24pe3N0YXRlPVNUQVRFUy51cGRhdGU7bW91c2VPZmZzZXQueD1lLnBhZ2VYO21vdXNlT2Zmc2V0Lnk9ZS5wYWdlWTtyZWdpb24uc3R5bGUuY3Vyc29yPSdtb3ZlJzt9ZWxzZSBpZihlLnRhcmdldC5wYXJlbnRFbGVtZW50PT09cmVnaW9uKXtzdGF0ZT1TVEFURVMucmVzaXplO31jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxtb3VzZW1vdmUpO31mdW5jdGlvbiBtb3VzZW1vdmUoZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTtpZihlLnRhcmdldC50YWdOYW1lPT09J0JVVFRPTicpcmV0dXJuO2lmKHN0YXRlPT09U1RBVEVTLmNyZWF0ZXx8c3RhdGU9PT1TVEFURVMucmVzaXplKXt1cGRhdGVSZWdpb24odW5kZWZpbmVkLHVuZGVmaW5lZCxlLnBhZ2VYLGUucGFnZVkpO31lbHNlIGlmKHN0YXRlPT09U1RBVEVTLnVwZGF0ZSl7bW92ZVJlZ2lvbihlLnBhZ2VYLGUucGFnZVkpO319ZnVuY3Rpb24gbW91c2V1cChlKXtjb25zdCBjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNvbnRhaW5lcicpO2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtlLnN0b3BQcm9wYWdhdGlvbigpO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J21vdmUnO2NhbnZhcy5zdHlsZS5jdXJzb3I9J2Nyb3NzaGFpcic7Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsbW91c2Vtb3ZlKTtzaG93QnV0dG9ucygpO31mdW5jdGlvbiBjYWxjdWxhdGVSZWN0RnJvbUNvb3Jkcyhjb29yZHMpe3JldHVybiBjYWxjdWxhdGVSZWN0KHt4OmNvb3Jkcy5zdGFydFgseTpjb29yZHMuc3RhcnRZfSx7eDpjb29yZHMuZW5kWCx5OmNvb3Jkcy5lbmRZfSk7fWZ1bmN0aW9uIGNhbGN1bGF0ZVJlY3QocDEscDIpe3JldHVybntsZWZ0Ok1hdGgubWluKHAxLngscDIueCksdG9wOk1hdGgubWluKHAxLnkscDIueSksd2lkdGg6TWF0aC5hYnMocDEueC1wMi54KSxoZWlnaHQ6TWF0aC5hYnMocDEueS1wMi55KX07fWZ1bmN0aW9uIHVwZGF0ZVJlZ2lvbihzdGFydFgsc3RhcnRZLGVuZFgsZW5kWSl7aGlkZUJ1dHRvbnMoKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2lmKHN0YXJ0WCl7Y29vcmRzLnN0YXJ0WD1zdGFydFg7fWlmKHN0YXJ0WSl7Y29vcmRzLnN0YXJ0WT1zdGFydFk7fWlmKGVuZFgpe2Nvb3Jkcy5lbmRYPWVuZFg7fWlmKGVuZFkpe2Nvb3Jkcy5lbmRZPWVuZFk7fWNvbnN0IHJlY3Q9Y2FsY3VsYXRlUmVjdEZyb21Db29yZHMoY29vcmRzKTtyZWdpb24uc3R5bGUubGVmdD1gJHtyZWN0LmxlZnR9cHhgO3JlZ2lvbi5zdHlsZS50b3A9YCR7cmVjdC50b3B9cHhgO3JlZ2lvbi5zdHlsZS53aWR0aD1gJHtyZWN0LndpZHRofXB4YDtyZWdpb24uc3R5bGUuaGVpZ2h0PWAke3JlY3QuaGVpZ2h0fXB4YDt9ZnVuY3Rpb24gbW92ZVJlZ2lvbihtb3VzZVgsbW91c2VZKXtsZXQgZHg9bW91c2VPZmZzZXQueC1tb3VzZVg7bGV0IGR5PW1vdXNlT2Zmc2V0LnktbW91c2VZO21vdXNlT2Zmc2V0Lng9bW91c2VYO21vdXNlT2Zmc2V0Lnk9bW91c2VZO2lmKGNvb3Jkcy5zdGFydFgtZHg8NXx8Y29vcmRzLmVuZFgtZHg8NSlkeD0wO2lmKGNvb3Jkcy5zdGFydFktZHk8NXx8Y29vcmRzLmVuZFktZHk8NSlkeT0wO3VwZGF0ZVJlZ2lvbihjb29yZHMuc3RhcnRYLWR4LGNvb3Jkcy5zdGFydFktZHksY29vcmRzLmVuZFgtZHgsY29vcmRzLmVuZFktZHkpO31mdW5jdGlvbiBjcmVhdGVSZWdpb24oKXtjb25zdCByZWdpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7cmVnaW9uLmlkPSdzZWxlbml1bS1yZWdpb24nO2NvbnN0IGNvcm5lclNpemU9MjA7Y29uc3QgdGxjPWNyZWF0ZUhvdENvcm5lcihjb3JuZXJTaXplKTt0bGMuc3R5bGUudG9wPSctNXB4Jzt0bGMuc3R5bGUubGVmdD0nLTVweCc7dGxjLnN0eWxlLmN1cnNvcj0nbnctcmVzaXplJzt0bGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywoKT0+e2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSdudy1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J253LXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodGxjKTtjb25zdCB0cmM9Y3JlYXRlSG90Q29ybmVyKGNvcm5lclNpemUpO3RyYy5zdHlsZS50b3A9Jy01cHgnO3RyYy5zdHlsZS5yaWdodD0nLTVweCc7dHJjLnN0eWxlLmN1cnNvcj0nbmUtcmVzaXplJzt0cmMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywoKT0+e2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSduZS1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J25lLXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodHJjKTtjb25zdCBibGM9Y3JlYXRlSG90Q29ybmVyKGNvcm5lclNpemUpO2JsYy5zdHlsZS5ib3R0b209Jy01cHgnO2JsYy5zdHlsZS5sZWZ0PSctNXB4JztibGMuc3R5bGUuY3Vyc29yPSdzdy1yZXNpemUnO2JsYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCgpPT57Y29uc3QgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3N3LXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc3ctcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChibGMpO2NvbnN0IGJyYz1jcmVhdGVIb3RDb3JuZXIoY29ybmVyU2l6ZSk7YnJjLnN0eWxlLmJvdHRvbT0nLTVweCc7YnJjLnN0eWxlLnJpZ2h0PSctNXB4JzticmMuc3R5bGUuY3Vyc29yPSdzZS1yZXNpemUnO2JyYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCgpPT57Y29uc3QgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3NlLXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc2UtcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChicmMpO3JldHVybiByZWdpb247fWZ1bmN0aW9uIGNyZWF0ZUhvdENvcm5lcihzaXplKXtjb25zdCBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2Muc3R5bGUucG9zaXRpb249J2Fic29sdXRlJztjLnN0eWxlLmhlaWdodD1gJHtzaXplfXB4YDtjLnN0eWxlLndpZHRoPWAke3NpemV9cHhgO3JldHVybiBjO31mdW5jdGlvbiBzaG93QnV0dG9ucygpe2NvbnN0IGNhbnZhc1JlY3Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNhbnZhcycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGJ1dHRvbkNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uLWNvbnRyb2wtcGFuZWwnKTtsZXQgdG9wPWNvb3Jkcy5zdGFydFk7bGV0IGJvdHRvbT1jb29yZHMuZW5kWTtsZXQgbGVmdD1jb29yZHMuc3RhcnRYO2xldCByaWdodD1jb29yZHMuZW5kWDtsZXQgd2lkdGg9cmlnaHQtbGVmdDtpZihjYW52YXNSZWN0LmJvdHRvbS1ib3R0b208PTEwMClib3R0b209dG9wO2lmKHdpZHRoPDApbGVmdD1jb29yZHMuZW5kWDtyaWdodD1jb29yZHMuc3RhcnRYO3dpZHRoPU1hdGguYWJzKHdpZHRoKTtpZih3aWR0aDwyMjUpd2lkdGg9MjI1O2J1dHRvbkNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS50b3A9Ym90dG9tKydweCc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLmxlZnQ9bGVmdCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS5yaWdodD1yaWdodCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS53aWR0aD13aWR0aCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9J3JnYmEoMCwgMCwgMCwgMC41NSknO2J1dHRvbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSd2aXNpYmxlJzt9ZnVuY3Rpb24gaGlkZUJ1dHRvbnMoKXtjb25zdCBidXR0b25Db250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbi1jb250cm9sLXBhbmVsJyk7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7fWZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbnMoY2Ipe2NvbnN0IGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtjb250YWluZXIuaWQ9J3JlZ2lvbi1jb250cm9sLXBhbmVsJztjb25zdCBidXR0b25zPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2NvbnN0IGNvbmZpcm09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7Y29uZmlybS5pbm5lclRleHQ9J0NvbmZpcm0nO2NvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57aGlkZUJ1dHRvbnMoKTtyZW1vdmVSZWdpb24oKTtjb25zdCByZWN0PWNhbGN1bGF0ZVJlY3RGcm9tQ29vcmRzKGNvb3Jkcyk7Y2IoYHg6ICR7cmVjdC5sZWZ0fSwgeTogJHtyZWN0LnRvcH0sIHdpZHRoOiAke3JlY3Qud2lkdGh9LCBoZWlnaHQ6ICR7cmVjdC5oZWlnaHR9YCk7fSk7Y29uc3QgY2FuY2VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO2NhbmNlbC5pbm5lclRleHQ9J0NhbmNlbCc7Y2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e2hpZGVCdXR0b25zKCk7cmVtb3ZlUmVnaW9uKCk7Y2IoZmFsc2UpO30pO2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nO2J1dHRvbnMuc3R5bGUuZGlzcGxheT0nZmxleCc7YnV0dG9ucy5zdHlsZS5hbGlnbkl0ZW1zPSdjZW50ZXInO2J1dHRvbnMuc3R5bGUuanVzdGlmeUNvbnRlbnQ9J2NlbnRlcic7c3R5bGVCdXR0b24oY29uZmlybSk7c3R5bGVCdXR0b24oY2FuY2VsKTtidXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbCk7YnV0dG9ucy5hcHBlbmRDaGlsZChjb25maXJtKTtjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7cmV0dXJuIGNvbnRhaW5lcjt9ZnVuY3Rpb24gc3R5bGVCdXR0b24oYnV0dG9uKXtidXR0b24uc3R5bGUuY29sb3I9JyM2NTY1NjUnO2J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9JyNGNUY1RjUnO2J1dHRvbi5zdHlsZS5wYWRkaW5nPScxMHB4IDIwcHgnO2J1dHRvbi5zdHlsZS5tYXJnaW49JzVweCA4cHgnO2J1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXM9JzRweCc7YnV0dG9uLnN0eWxlLm91dGxpbmU9JzAnO2J1dHRvbi5zdHlsZS50ZXh0VHJhbnNmb3JtPSdjYXBpdGFsaXplJzt9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L3JlZ2lvbi5qc1xuLy8gbW9kdWxlIGlkID0gNDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///413\n");

/***/ }),

/***/ 414:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = attach;\n/* unused harmony export detach */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nlet handler,elementForInjectingScript;function attach(selenium){elementForInjectingScript=document.createElement('script');elementForInjectingScript.src=__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.getURL('/assets/prompt.js');(document.head||document.documentElement).appendChild(elementForInjectingScript);if(window===window.top){handler=e=>{return handleMessage(e,selenium);};window.addEventListener('message',handler);}}function detach(){window.postMessage({direction:'from-content-script',detach:true},'*');elementForInjectingScript.parentNode.removeChild(elementForInjectingScript);window.removeEventListener('message',handler);}function handleMessage(event,selenium){if(event.source&&event.source.top==window&&event.data&&event.data.direction=='from-page-script'){if(event.data.response){switch(event.data.response){case'prompt':selenium.browserbot.promptResponse=true;if(event.data.value)selenium.browserbot.promptMessage=event.data.value;break;case'confirm':selenium.browserbot.confirmationResponse=true;if(event.data.value)selenium.browserbot.confirmationMessage=event.data.value;break;case'alert':selenium.browserbot.alertResponse=true;if(event.data.value)selenium.browserbot.alertMessage=event.data.value;break;}}}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanM/NDdjYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeSAoU0ZDKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIFNGQyBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IGJyb3dzZXIgZnJvbSd3ZWJleHRlbnNpb24tcG9seWZpbGwnO2xldCBoYW5kbGVyLGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQ7ZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaChzZWxlbml1bSl7ZWxlbWVudEZvckluamVjdGluZ1NjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtlbGVtZW50Rm9ySW5qZWN0aW5nU2NyaXB0LnNyYz1icm93c2VyLnJ1bnRpbWUuZ2V0VVJMKCcvYXNzZXRzL3Byb21wdC5qcycpOyhkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQpO2lmKHdpbmRvdz09PXdpbmRvdy50b3Ape2hhbmRsZXI9ZT0+e3JldHVybiBoYW5kbGVNZXNzYWdlKGUsc2VsZW5pdW0pO307d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLGhhbmRsZXIpO319ZXhwb3J0IGZ1bmN0aW9uIGRldGFjaCgpe3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0JyxkZXRhY2g6dHJ1ZX0sJyonKTtlbGVtZW50Rm9ySW5qZWN0aW5nU2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudEZvckluamVjdGluZ1NjcmlwdCk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLGhhbmRsZXIpO31mdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGV2ZW50LHNlbGVuaXVtKXtpZihldmVudC5zb3VyY2UmJmV2ZW50LnNvdXJjZS50b3A9PXdpbmRvdyYmZXZlbnQuZGF0YSYmZXZlbnQuZGF0YS5kaXJlY3Rpb249PSdmcm9tLXBhZ2Utc2NyaXB0Jyl7aWYoZXZlbnQuZGF0YS5yZXNwb25zZSl7c3dpdGNoKGV2ZW50LmRhdGEucmVzcG9uc2Upe2Nhc2UncHJvbXB0JzpzZWxlbml1bS5icm93c2VyYm90LnByb21wdFJlc3BvbnNlPXRydWU7aWYoZXZlbnQuZGF0YS52YWx1ZSlzZWxlbml1bS5icm93c2VyYm90LnByb21wdE1lc3NhZ2U9ZXZlbnQuZGF0YS52YWx1ZTticmVhaztjYXNlJ2NvbmZpcm0nOnNlbGVuaXVtLmJyb3dzZXJib3QuY29uZmlybWF0aW9uUmVzcG9uc2U9dHJ1ZTtpZihldmVudC5kYXRhLnZhbHVlKXNlbGVuaXVtLmJyb3dzZXJib3QuY29uZmlybWF0aW9uTWVzc2FnZT1ldmVudC5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UnYWxlcnQnOnNlbGVuaXVtLmJyb3dzZXJib3QuYWxlcnRSZXNwb25zZT10cnVlO2lmKGV2ZW50LmRhdGEudmFsdWUpc2VsZW5pdW0uYnJvd3NlcmJvdC5hbGVydE1lc3NhZ2U9ZXZlbnQuZGF0YS52YWx1ZTticmVhazt9fX19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L3Byb21wdC1pbmplY3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///414\n");

/***/ })

},[353]);
});